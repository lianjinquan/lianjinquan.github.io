<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>linux基础命令的操作 | lianjinquan</title><meta name="keywords" content="linux"><meta name="author" content="lianjinquan"><meta name="copyright" content="lianjinquan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="linux基础命令的操作">
<meta property="og:type" content="article">
<meta property="og:title" content="linux基础命令的操作">
<meta property="og:url" content="https://www.lianjinquan.com/2020/12/07/linux/linux01/index.html">
<meta property="og:site_name" content="lianjinquan">
<meta property="og:description" content="linux基础命令的操作">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.lianjinquan.com/img/img/top-img/2033551.jpg">
<meta property="article:published_time" content="2020-12-06T16:00:00.000Z">
<meta property="article:modified_time" content="2021-04-16T11:08:41.059Z">
<meta property="article:author" content="lianjinquan">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.lianjinquan.com/img/img/top-img/2033551.jpg"><link rel="shortcut icon" href="https://cdn.lianjinquan.com/img/img/favicon.jpg"><link rel="canonical" href="https://www.lianjinquan.com/2020/12/07/linux/linux01/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="https://cdn.lianjinquan.com/css/myindex.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-04-16 19:08:41'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><link rel="stylesheet" href="/css/less.css"><link rel="stylesheet" href="/css/custom.css"><div class="aplayer" data-type="playlist" data-fixed data-listFolded="false" data-order="list" data-preload="auto"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lete114/CDN/music/APlayer/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/lete114/CDN/music/APlayer/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><meta name="generator" content="Hexo 5.0.2"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://cdn.lianjinquan.com/img/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-music"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/ebook/"><i class="fa-fw fas fa-link"></i><span> 电子书</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://cdn.lianjinquan.com/html/loveIndex.html"><i class="fa-fw fas fa-heart"></i><span> love</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.lianjinquan.com/img/img/top-img/2033551.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">lianjinquan</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-music"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/ebook/"><i class="fa-fw fas fa-link"></i><span> 电子书</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://cdn.lianjinquan.com/html/loveIndex.html"><i class="fa-fw fas fa-heart"></i><span> love</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">linux基础命令的操作</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-12-06T16:00:00.000Z" title="发表于 2020-12-07 00:00:00">2020-12-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-04-16T11:08:41.059Z" title="更新于 2021-04-16 19:08:41">2021-04-16</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/linux/">linux</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">22.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>89分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="linux基础命令的操作"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>linux基础命令的操作</p>
<a id="more"></a>

<h3 id="linux各目录的作用"><a href="#linux各目录的作用" class="headerlink" title="linux各目录的作用"></a>linux各目录的作用</h3><table>
<thead>
<tr>
<th align="center">目录名</th>
<th>目录作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">/bin/</td>
<td>存放系统命令的目录，普通用户和超级用户都可以执行。不过放在/bin下的命令在单用户模式下也可以执行。</td>
</tr>
<tr>
<td align="center">/sbin/</td>
<td>保存和系统环境设置相关的命令，只有超级用户可以使用这些命令进行系统环境设置，但是有些命令可以允许普通用户查看。</td>
</tr>
<tr>
<td align="center">/usr/bin/</td>
<td>存放系统命令的目录，普通用户和超级用户都可以执行。这些命令和系统启动无关，在单用户模式下不能执行。</td>
</tr>
<tr>
<td align="center">/usr/sbin/</td>
<td>存放根文件系统不必要的系统管理命令，例如多数服务程序。只有超级用户可以使用。大家其实可以注意到Linux的系统，在所有“sbin”目录中保存的命令只有超级用户可以使用，“bin”目录中保存的命令所有用户都可以使用。</td>
</tr>
<tr>
<td align="center">/boot/</td>
<td>系统启动目录，保存系统启动相关的文件，如内核文件和启动引导程序(grub)文件等。</td>
</tr>
<tr>
<td align="center">/dev/</td>
<td>设备文件保存位置，我们已经说过 Linux中所有内容以文件形式保存，包括硬件。那么这个目录就是用来保存所有硬件设备文件的。</td>
</tr>
<tr>
<td align="center">/etc/</td>
<td>配置文件保存位置。系统内所有采用默认安装方式(rpm安装)的服务的配置文件全部都保存在这个目录当中，如用户账户和密码，服务的启动脚本，常用服务的配置文件等。</td>
</tr>
<tr>
<td align="center">/home/</td>
<td>普通用户的家目录。建立每个用户时，每个用户要有一个默认登录位置，这个位置就是这个用户的家目录，所有普通用户的家目录就是在/home下建立一个和用户名相同的目录。如用户 user1的家目录就是/home/user1。</td>
</tr>
<tr>
<td align="center">/lib/</td>
<td>系统调用的函数库保存位置。</td>
</tr>
<tr>
<td align="center">/lost+found/</td>
<td>当系统意外崩溃或机器意外关机，而产生一些文件碎片放在这里。当系统启动的过程中fsck工具会检查这里，并修复已经损坏的文件系统。这个目录只在每个分区中出现，例如/lost+found就是根分区的备份恢复目录，/boot/lost+found就是/boot分区的备份恢复目录。</td>
</tr>
<tr>
<td align="center">/media/</td>
<td>挂载目录。系统建议是用来挂载媒体设备的，例如软盘和光盘。</td>
</tr>
<tr>
<td align="center">/mnt/</td>
<td>挂载目录，早期 Linux中只有这一个挂载目录，并没有细分。现在这个目录系统建议挂载额外设备，如U盘，移动硬盘和其他操作系统的分区。</td>
</tr>
<tr>
<td align="center">/misc/</td>
<td>挂载目录。系统建议用来挂载NFS服务的共享目录。我们在刚刚已经解释了挂载，童鞋们应该知道只要是一个已经建立的空目录就可以作为挂载点。那么系统虽然准备了三个默认挂载目录/media、/mnt、/misc，但是到底在哪个目录中挂载什么设备都可以由管理员自己决定。例如老哥接触 Linux的时候，默认挂载目录只有/mnt一个，所以养成了在/mnt下建立不同目录挂载不同设备的习惯。如/mnt/cdrom挂载光盘，/mnt/usb挂载U盘，这都是可以的。</td>
</tr>
<tr>
<td align="center">/opt/</td>
<td>第三方安装的软件保存位置。这个目录就是放置和安装其他软件的位置，我手工安装的源码包软件都可以安装到这个目录当中。不过我还是更加习惯把软件放置到/usr/local/目录当中，也就是说/usr/local/目录也可以用来安装软件。</td>
</tr>
<tr>
<td align="center">/proc/</td>
<td>虚拟文件系统，该目录中的数据并不保存到硬盘当中，而是保存到内存当中。主要保存系统的内核，进程，外部设备状态和网络状态灯。如/proc/cpuinfo是保存CPU信息的， /proc/devices是保存设备驱动的列表的，/proc/filesystems是保存文件系统列表的， /proc/net是保存网络协议信息的。</td>
</tr>
<tr>
<td align="center">/sys/</td>
<td>虚拟文件系统。和/proc目录相似,都是保存在内存当中的,主要是保存于内核相关信息的。</td>
</tr>
<tr>
<td align="center">/root/</td>
<td>超级用户的家目录。普通用户家目录在<code>/home</code>下，超级用于家目录直接在<code>/</code>下。</td>
</tr>
<tr>
<td align="center">/srv/</td>
<td>服务数据目录。一些系统服务启动之后，可以在这个目录中保存所需要的数据。</td>
</tr>
<tr>
<td align="center">/tmp/</td>
<td>临时目录。系统存放临时文件的目录，该目录下所有用户都可以访问和写入。我们建议此目录中不能保存重要数据，最好每次开机都把该目录清空。</td>
</tr>
<tr>
<td align="center">/usr/</td>
<td>系统软件资源目录。注意usr不是user的缩写,而是<code>Unix Softwre Resource</code>的缩写，所以不是存放用户数据，而是存放系统软件资源的目录。系统中安装的软件大多数保存在这里。</td>
</tr>
<tr>
<td align="center">/var/</td>
<td>动态数据保存位置。主要保存缓存、日志以及软件运行所产生的文件。</td>
</tr>
</tbody></table>
<h3 id="服务器注意事项"><a href="#服务器注意事项" class="headerlink" title="服务器注意事项"></a>服务器注意事项</h3><ol>
<li>远程服务器不允许关机，只能重启。</li>
<li>重启时应该关闭服务。</li>
<li>不要在服务器访问高峰运行高负载命令。</li>
<li>远程配置防火墙时不要把自己踢出服务器。</li>
<li>指定合理的密码规范并定期更新。</li>
<li>合理分配权限。</li>
<li>定期备份重要数据和日志。</li>
</ol>
<h4 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h4><blockquote>
<p>命令格式： 命令 [-选项] [参数]<br>        例如： ls -la /etc<br>说明：</p>
<ol>
<li>个别命令使用不遵循此格式  。</li>
<li>当有多个选项时，可以写在一起  。</li>
<li>简化选项与完整选项 -a 等于 –all。</li>
</ol>
</blockquote>
<table>
<thead>
<tr>
<th>按键</th>
<th>进行工作</th>
</tr>
</thead>
<tbody><tr>
<td>tab</td>
<td>tab接在一串命令的第一个字段后面，则为【命令补全】。tab接在一串命令的第二个字段后面，则为【文件补全】。</td>
</tr>
<tr>
<td>ctrl+c</td>
<td>中断目前程序。</td>
</tr>
<tr>
<td>ctrl+d</td>
<td>键盘输入结束，相当于exit。</td>
</tr>
<tr>
<td>shift + page up</td>
<td>向上翻页。</td>
</tr>
<tr>
<td>shift + page down</td>
<td>向下翻页。</td>
</tr>
</tbody></table>
<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><h4 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">rm</td>
<td align="center">remove</td>
<td align="center">/bin/rm</td>
<td align="center">所有用户</td>
<td align="center">rm -rf [文件或目录]</td>
<td>删除文件</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-r</td>
<td>删除目录</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-f</td>
<td>强制执行</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># rm grub.conf               # 删除文件，会有提示，按y确认删除</span></span><br><span class="line"><span class="built_in">rm</span>：是否删除普通文件 <span class="string">&quot;grub.conf&quot;</span>？y</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># rm /root/mulu              # 删除目录需要加 -r</span></span><br><span class="line"><span class="built_in">rm</span>: 无法删除<span class="string">&quot;/root/mulu&quot;</span>: 是一个目录</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># rm -r /tmp/test            # 目录下有多个目录时，会有多个提示</span></span><br><span class="line"><span class="built_in">rm</span>：是否进入目录<span class="string">&quot;/tmp/test&quot;</span>? y</span><br><span class="line"><span class="built_in">rm</span>：是否删除目录 <span class="string">&quot;/tmp/test/can&quot;</span>？y</span><br><span class="line"><span class="built_in">rm</span>：是否删除目录 <span class="string">&quot;/tmp/test/long&quot;</span>？y</span><br><span class="line"><span class="built_in">rm</span>：是否删除目录 <span class="string">&quot;/tmp/test&quot;</span>？</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># rm -f grub.conf            # 强制删除文件，无提示</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># rm -rf /root/you           # 强制删除目录，无提示</span></span><br></pre></td></tr></table></figure>




<h4 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">cp</td>
<td align="center">copy</td>
<td align="center">/bin/cp</td>
<td align="center">所有用户</td>
<td align="center">cp -rp [原文件或目录] [目标目录]</td>
<td>复制文件或目录</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-r</td>
<td>复制目录</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-p</td>
<td>保留文件或属性</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> /]<span class="comment"># cp -r /tmp/test/long /root                             # 复制long目录到/root目录下</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> /]<span class="comment"># cp /root/install.log /root/install.log.syslog /tmp     # 同时复制2个文件到/tmp目录下</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> /]<span class="comment"># ls -l /root/install.log                                # 原目录时间是 12月  2 05:31</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root <span class="number">46478</span> <span class="number">12</span>月  <span class="number">2</span> <span class="number">05</span>:<span class="number">31</span> /root/install.log</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> /]<span class="comment"># ls -l /tmp/install.log                                 # 新目录的时间是 12月  3 10:17 可以发现时间是当前时间，时间有变化</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root <span class="number">46478</span> <span class="number">12</span>月  <span class="number">3</span> <span class="number">10</span>:<span class="number">17</span> /tmp/install.log</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> /]<span class="comment"># cp -p /root/install.log /tmp                           # -p 保留原文件属性</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> /]<span class="comment"># ls -l /root/install.log                                # 原目录时间是 12月  2 05:31</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root <span class="number">46478</span> <span class="number">12</span>月  <span class="number">2</span> <span class="number">05</span>:<span class="number">31</span> /root/install.log</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> /]<span class="comment"># ls -l /tmp/install.log                                 # 新目录时间是 12月  2 05:31  与原目录一致</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root <span class="number">46478</span> <span class="number">12</span>月  <span class="number">2</span> <span class="number">05</span>:<span class="number">31</span> /tmp/install.log</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> /]<span class="comment"># cp -r /tmp/test/long /root/mi                          # 复制的同时改名字</span></span><br></pre></td></tr></table></figure>

<h4 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">mv</td>
<td align="center">move</td>
<td align="center">/bin/mv</td>
<td align="center">所有用户</td>
<td align="center">mv [原文件与目录] [目标目录]</td>
<td>剪切文件、改名</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> /]<span class="comment"># mv /tmp/test/long /root           # 移动（剪切）目录 long 到 /root目录下</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> /]<span class="comment"># mv /tmp/test/long /root/shen      # 移动目录的同时改名</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># mv long xiao                      # 在同一个目录下移动就是改名，把long改为xiao</span></span><br></pre></td></tr></table></figure>


<h4 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ls</td>
<td align="center">list</td>
<td align="center">/bin/ls</td>
<td align="center">所有用户</td>
<td align="center">ls 选项[-ald] [文件或目录]</td>
<td>显示目录文件</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-a</td>
<td>显示所有文件，包括隐藏文件</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-l</td>
<td>详细信息显示</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-d</td>
<td>查看目录属性</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-h</td>
<td>显示文件大小</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-i</td>
<td>显示节点信息</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ls /         # 列出根目录文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ls           # 不带任何参数运行 ls 命令将列出当前工作目录的内容</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ls -a        # 显示所有文件，包括隐藏文件，隐藏文件是以点 . 开头的文件 </span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ls -l        # 打印输出的每一个文件的详细信息，例如文件权限、链接数、所有者名称和组所有者、文件大小、最后修改的时间和文件/目录名称</span></span><br><span class="line"><span class="literal">-rw</span>-------. <span class="number">1</span> root root  <span class="number">1455</span> <span class="number">12</span>月  <span class="number">2</span> <span class="number">05</span>:<span class="number">31</span> anaconda<span class="literal">-ks</span>.cfg</span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root <span class="number">46478</span> <span class="number">12</span>月  <span class="number">2</span> <span class="number">05</span>:<span class="number">31</span> install.log</span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root <span class="number">10033</span> <span class="number">12</span>月  <span class="number">2</span> <span class="number">05</span>:<span class="number">29</span> install.log.syslog</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ls -lh       # -h 显示文件大小信息</span></span><br><span class="line"><span class="literal">-rw</span>-------. <span class="number">1</span> root root <span class="number">1.5</span>K <span class="number">12</span>月  <span class="number">2</span> <span class="number">05</span>:<span class="number">31</span> anaconda<span class="literal">-ks</span>.cfg</span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root  <span class="number">46</span>K <span class="number">12</span>月  <span class="number">2</span> <span class="number">05</span>:<span class="number">31</span> install.log</span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root <span class="number">9.8</span>K <span class="number">12</span>月  <span class="number">2</span> <span class="number">05</span>:<span class="number">29</span> install.log.syslog</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ls -l /etc/grub.conf    # 列出grub.conf文件的详细信息</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ls -ld /etc             # -d 查看目录信息</span></span><br><span class="line">drwxr<span class="literal">-xr</span><span class="literal">-x</span>. <span class="number">118</span> root root <span class="number">12288</span> <span class="number">12</span>月  <span class="number">3</span> <span class="number">07</span>:<span class="number">35</span> /etc</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ls -i                  # 显示节点信息</span></span><br><span class="line"><span class="number">276492</span> anaconda<span class="literal">-ks</span>.cfg  <span class="number">262148</span> install.log.syslog   <span class="number">276508</span> 桌面</span><br></pre></td></tr></table></figure>

<h4 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">mkdir</td>
<td align="center">make directories</td>
<td align="center">/bin/mkdir</td>
<td align="center">所有用户</td>
<td align="center">mkdir -p [目录名]</td>
<td>创建新目录</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-p</td>
<td>递归创建</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># mkdir /tmp/xiao             # 创建目录xiao</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># mkdir /tmp/test/you         # 创建目录you，创建多级目录需要加 -p</span></span><br><span class="line">mkdir: 无法创建目录<span class="string">&quot;/tmp/test/you&quot;</span>: 没有那个文件或目录</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># mkdir -p /tmp/mi/you        # -p 递归创建目录</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># mkdir -p /tmp/hi/jing /tmp/hi/long  # 同时创建多个目录</span></span><br></pre></td></tr></table></figure>

<h4 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">cd</td>
<td align="center">change directory</td>
<td align="center">shell内置命令</td>
<td align="center">所有用户</td>
<td align="center">cd [目录名]</td>
<td>切换目录</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cd /tmp/test/mi    # 切换到指定目录</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">cangjing</span>]<span class="comment"># cd /tmp/    # 切换到tmp目录</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># cd ..            # 回到上一级目录</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># cd .             # 一个点还是当前目录</span></span><br></pre></td></tr></table></figure>


<h4 id="pwd"><a href="#pwd" class="headerlink" title="pwd"></a>pwd</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">pwd</td>
<td align="center">print working directory</td>
<td align="center">/bin/pwd</td>
<td align="center">所有用户</td>
<td align="center">pwd</td>
<td>显示当前目录</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># pwd</span></span><br><span class="line">/root</span><br></pre></td></tr></table></figure>


<h4 id="rmdir"><a href="#rmdir" class="headerlink" title="rmdir"></a>rmdir</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">rmdir</td>
<td align="center">remove empty directories</td>
<td align="center">/bin/rmdir</td>
<td align="center">所有用户</td>
<td align="center">rmdir [目录名]</td>
<td>删除空目录</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> /]<span class="comment"># rmdir /tmp/test/mi    # 删除空目录mi</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> /]<span class="comment"># rmdir /tmp            # 不能删除非空目录</span></span><br><span class="line"><span class="built_in">rmdir</span>: 删除 <span class="string">&quot;/tmp&quot;</span> 失败: 目录非空</span><br></pre></td></tr></table></figure>

<h4 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">touch</td>
<td align="center">/bin/touch</td>
<td align="center">所有用户</td>
<td align="center">touch [文件名]</td>
<td>创建空文件</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># touch lovestory.list   # 没有加路径时表示在当前目录下操作</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># touch /tmp/iloveyou    # 创建空文件iloveyou</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># touch program files    # 当文件名带空格时，实际是创建了2个文件program和files</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># touch &quot;program files&quot;  # 当文件名带空格时，用双引号引用起来【不建议文件名带空格】</span></span><br></pre></td></tr></table></figure>


<h4 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">cat</td>
<td align="center">/bin/cat</td>
<td align="center">所有用户</td>
<td align="center">cat [文件名]</td>
<td>显示文件内容</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-n</td>
<td>显示行号</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># clear              # 清屏 【ctrl+l】 也可以清屏</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># cat /etc/issue   # 查看文件内容</span></span><br><span class="line">CentOS release <span class="number">6.8</span> (Final)</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># cat -n /etc/issue  # -n显示行号    </span></span><br></pre></td></tr></table></figure>


<h4 id="tac"><a href="#tac" class="headerlink" title="tac"></a>tac</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">tac</td>
<td align="center">/usr/bin/tac</td>
<td align="center">所有用户</td>
<td align="center">tac [文件名]</td>
<td>显示文件内容(反向显示)</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># tac /etc/issue  # cat反过来写tac反向查看</span></span><br></pre></td></tr></table></figure>

<h4 id="more"><a href="#more" class="headerlink" title="more"></a>more</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">more</td>
<td align="center">/bin/more</td>
<td align="center">所有用户</td>
<td align="center">more [文件名]</td>
<td>分页显示文件内容</td>
</tr>
</tbody></table>
<p>【(空格)或f翻页、Enter换行、q或Q退出】</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># more /etc/services  # 【回车键一行一行翻】【f一页一页翻】</span></span><br></pre></td></tr></table></figure>


<h4 id="less"><a href="#less" class="headerlink" title="less"></a>less</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">less</td>
<td align="center">/usr/bin/less</td>
<td align="center">所有用户</td>
<td align="center">less [文件名]</td>
<td>分页显示文件内容</td>
</tr>
</tbody></table>
<p>(空格)或f翻页、Enter换行、q或Q退出、page up上翻、page down下翻、/ 搜索</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># less /etc/services   # 使用 /关键字 进行搜索，此时按 n 可以往下找</span></span><br></pre></td></tr></table></figure>


<h4 id="head"><a href="#head" class="headerlink" title="head"></a>head</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">head</td>
<td align="center">/usr/bin/head</td>
<td align="center">所有用户</td>
<td align="center">head [文件名]</td>
<td>显示文件前面几行</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-n</td>
<td>指定行数</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># head -n 7 /etc/services   # 显示前7行</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># head /etc/services        # 不指定 -n 时 默认前10行</span></span><br></pre></td></tr></table></figure>

<h4 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">tail</td>
<td align="center">/usr/bin/head</td>
<td align="center">所有用户</td>
<td align="center">tail [文件名]</td>
<td>显示文件后面几行</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-n</td>
<td>指定行数</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-f</td>
<td>动态显示文件末尾内容</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># tail -f /var/log/messages  # 默认动态显示末尾10行，并没有回到命令行，常用来查看日志文件</span></span><br></pre></td></tr></table></figure>

<h3 id="链接命令"><a href="#链接命令" class="headerlink" title="链接命令"></a>链接命令</h3><h4 id="ln"><a href="#ln" class="headerlink" title="ln"></a>ln</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ln</td>
<td align="center">link</td>
<td align="center">/bin/ln</td>
<td align="center">所有用户</td>
<td align="center">ln -s [原文件] [目标文件]</td>
<td>生成链接文件</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-s</td>
<td>创建软链接</td>
</tr>
</tbody></table>
<blockquote>
<p>软连接特征：类似windows快捷方式</p>
<ol>
<li><code>lrwxrwxrwx</code> , <code>l</code>开头软链接， 3个rwx ，软链接权限不决定原文件权限，实际由原文件权限决定</li>
<li>文件很小，只是符号链接</li>
<li>箭头指向原文件</li>
</ol>
<p>硬链接特征：</p>
<ol>
<li>拷贝 cp -p +同步更新</li>
<li>通过 i 节点识别</li>
<li>不能跨分区</li>
<li>不能针对目录使用</li>
</ol>
</blockquote>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ln -s /etc/issue /tmp/issue.soft     # 创建软链接 issue.soft </span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ln /etc/issue /tmp/issue.hard        # 创建硬链接 issue.hard</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ls -l /etc/issue</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">2</span> root root <span class="number">47</span> <span class="number">5</span>月  <span class="number">19</span> <span class="number">2016</span> /etc/issue</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ls -l /tmp/issue.soft                # 软链接 箭头指向原文件</span></span><br><span class="line">lrwxrwxrwx. <span class="number">1</span> root root <span class="number">10</span> <span class="number">12</span>月  <span class="number">4</span> <span class="number">07</span>:<span class="number">18</span> /tmp/issue.soft -&gt; /etc/issue      </span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ls -l /tmp/issue.hard                # 硬链接与原文件一样，原文件与硬链接文件同步更新</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">2</span> root root <span class="number">47</span> <span class="number">5</span>月  <span class="number">19</span> <span class="number">2016</span> /tmp/issue.hard     </span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cat /etc/issue                       # 查看原文件（一共3行）</span></span><br><span class="line">CentOS release <span class="number">6.8</span> (Final)</span><br><span class="line">Kernel \r on an \m</span><br><span class="line"></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># echo &quot;www.abc.com&quot; &gt;&gt; /etc/issue    # 对原文件写入一行</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cat /etc/issue                      # 原文件变为4行</span></span><br><span class="line">CentOS release <span class="number">6.8</span> (Final)</span><br><span class="line">Kernel \r on an \m</span><br><span class="line"></span><br><span class="line">www.abc.com</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cat /tmp/issue.hard                # 硬链接文件也变为4行（硬链接文件与原文件同步更新）</span></span><br><span class="line">CentOS release <span class="number">6.8</span> (Final)</span><br><span class="line">Kernel \r on an \m</span><br><span class="line"></span><br><span class="line">www.abc.com</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cat /tmp/issue.soft                # 软链接此时也更新，因为软链接最后是找的原文件，打开原文件内容</span></span><br><span class="line">CentOS release <span class="number">6.8</span> (Final)</span><br><span class="line">Kernel \r on an \m</span><br><span class="line"></span><br><span class="line">www.abc.com</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cp /etc/issue /tmp/issue.bank      # 先备份一下  </span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># rm /etc/issue                      # 删除原文件</span></span><br><span class="line"><span class="built_in">rm</span>：是否删除普通文件 <span class="string">&quot;/etc/issue&quot;</span>？y</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cat /tmp/issue.soft                # 原文件被删除，软链接自然也没有了</span></span><br><span class="line"><span class="built_in">cat</span>: /tmp/issue.soft: 没有那个文件或目录</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cat /tmp/issue.hard                # 原文件被删除，硬链接还在</span></span><br><span class="line">CentOS release <span class="number">6.8</span> (Final)</span><br><span class="line">Kernel \r on an \m</span><br><span class="line"></span><br><span class="line">www.abc.com</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ls -l /tmp/issue.soft               # 原文件被删除，查看软链接时，原文件变成红色/etc/issue会一直闪</span></span><br><span class="line">lrwxrwxrwx. <span class="number">1</span> root root <span class="number">10</span> <span class="number">12</span>月  <span class="number">4</span> <span class="number">07</span>:<span class="number">18</span> /tmp/issue.soft -&gt; /etc/issue</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cd /tmp</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ln issue.bank issue.bank.hard     # 创建硬链接</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ln -s issue.bank issue.bank.soft  # 创建软链接</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -i issue.bank issue.bank.hard issue.bank.soft   # 此时发现原文件的i节点和硬链接的i节点一样，原文件的i节点和软链接的i节点不一样，说明硬链接通过i链接识别</span></span><br><span class="line"><span class="number">787926</span> issue.bank  <span class="number">787926</span> issue.bank.hard  <span class="number">787927</span> issue.bank.soft</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ln /tmp/issue.bank /boot/issue.bank.hard      # 这里说明硬链接不能跨分区</span></span><br><span class="line">ln: 创建硬链接<span class="string">&quot;/boot/issue.bank.hard&quot;</span> =&gt; <span class="string">&quot;/tmp/issue.bank&quot;</span>: 无效的跨设备连接</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ln -s /tmp/issue.bank /boot/issue.bank.soft   # 这里说明软链接可以跨分区</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ln /tmp /root/tmp.hard                          # 这里说明硬链接不能针对目录操作</span></span><br><span class="line">ln: <span class="string">&quot;/tmp&quot;</span>: 不允许将硬链接指向目录</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ln -s /tmp /root/tmp.soft                       # 这里说明软链接可以针对目录操作</span></span><br></pre></td></tr></table></figure>

<h3 id="权限管理命令"><a href="#权限管理命令" class="headerlink" title="权限管理命令"></a>权限管理命令</h3><h4 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">chmod</td>
<td align="center">change the permission mode of a file</td>
<td align="center">/bin/chmod</td>
<td align="center">所有用户</td>
<td align="center">chmod [{ugoa}{+-=}{rwx}] [文件或目录]</td>
<td>改变文件或目录权限</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-R</td>
<td>递归修改</td>
</tr>
</tbody></table>
<p>数字类型改变文件权限</p>
<blockquote>
<p>r:4  w:2  x:1 数字累加</p>
<p>chmod 777 test.txt    ==&gt;[-rwxrwxrwx]  owner = rwx = 4+2+1 = 7 , group = rwx = 4+2+1 = 7, other = 4+2+1 = 7<br>chmod 770 test.txt    ==&gt;[-rwxrwx—]  owner = rwx = 4+2+1 = 7 , group = rwx = 4+2+1 = 7, other = 0+0+0 = 0<br>chmod 664 test.txt    ==&gt;[-rw-rw-r–]  owner = rwx = 4+2+0 = 6 , group = rwx = 4+2+0 = 6, other = 4+0+0 = 4<br>chmod 644 test.txt    ==&gt;[-rw-r–r–]  owner = rwx = 4+2+0 = 6 , group = rwx = 4+0+0 = 4, other = 0+0+0 = 0<br>chmod 754 test.txt    ==&gt;[-rwxr-xr–]  owner = rwx = 4+2+1 = 7 , group = rwx = 4+0+1 = 5, other = 4+0+0 = 4</p>
</blockquote>
<p>符号类型改变文件权限</p>
<blockquote>
<p>u = user 拥有者<br>g = group 用户组<br>o = other 其他人<br>a = all 全部</p>
<p><code>+</code> 加入</p>
<p><code>-</code>移除</p>
<p><code>=</code>设置</p>
<p>chmod u=rwx,go=rx       test.txt   ==&gt;[-rwxr-xr-x]<br>chmod u=rwx,g=rx,o=r  text.txt   ==&gt;[-rwxr-xr–]<br>chmod a+w                     text.txt   ==&gt;则[-rwxr-xr-x] 变为 [-rwxrwxrwx]<br>chmod a-x                       text.txt   ==&gt;则[-rwxr-xr-x] 变为 [-rw-rw-rw-]</p>
</blockquote>
<p>文件目录权限总结：</p>
<table>
<thead>
<tr>
<th align="center">代表字符</th>
<th>权限</th>
<th>对文件的含义</th>
<th>对目录的含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">r</td>
<td>读权限</td>
<td>可以查看文件内容</td>
<td>可以列出目录中的内容</td>
</tr>
<tr>
<td align="center">w</td>
<td>写权限</td>
<td>可以修改文件内容</td>
<td>可以在目录中创建、删除文件</td>
</tr>
<tr>
<td align="center">x</td>
<td>执行权限</td>
<td>可以执行文件</td>
<td>可以进入目录</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -l lovestory.list</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root <span class="number">0</span> <span class="number">12</span>月  <span class="number">3</span> <span class="number">10</span>:<span class="number">57</span> Japanlovestory.list</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># chmod u+x lovestory.list      # 给所有者添加执行权限</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -l lovestory.list</span></span><br><span class="line"><span class="literal">-rwxr</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root <span class="number">0</span> <span class="number">12</span>月  <span class="number">3</span> <span class="number">10</span>:<span class="number">57</span> lovestory.list</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># chmod g+w,o-r lovestory.list  # 同时 给用户组添加写权限并删除其他人读的权限</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -l lovestory.list</span></span><br><span class="line"><span class="literal">-rwxrw</span>----. <span class="number">1</span> root root <span class="number">0</span> <span class="number">12</span>月  <span class="number">3</span> <span class="number">10</span>:<span class="number">57</span> lovestory.list</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># chmod g=rwx lovestory.list    # 给用户组添加读、写、执行的权限，不用考虑以前的权限是什么</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -l lovestory.list </span></span><br><span class="line"><span class="literal">-rwxrwx</span>---. <span class="number">1</span> root root <span class="number">0</span> <span class="number">12</span>月  <span class="number">3</span> <span class="number">10</span>:<span class="number">57</span> lovestory.list</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># chmod 640 lovestory.list       # 6=r+w,4=r,0</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -l lovestory.list</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-----. <span class="number">1</span> root root <span class="number">0</span> <span class="number">12</span>月  <span class="number">3</span> <span class="number">10</span>:<span class="number">57</span> lovestory.list</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># mkdir -p /tmp/a/b              # 同时创建a和b两个目录</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># chmod -R 777 /tmp/a            # -R 递归修改，把a目录下的所有目录都改为 rwxrwxrwx 权限</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -ld /tmp/a</span></span><br><span class="line">drwxrwxrwx. <span class="number">3</span> root root <span class="number">4096</span> <span class="number">12</span>月  <span class="number">4</span> <span class="number">11</span>:<span class="number">36</span> /tmp/a    <span class="comment"># a目录是 rwxrwxrwx 权限po</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -ld /tmp/a/b</span></span><br><span class="line">drwxrwxrwx. <span class="number">2</span> root root <span class="number">4096</span> <span class="number">12</span>月  <span class="number">4</span> <span class="number">11</span>:<span class="number">36</span> /tmp/a/b  <span class="comment"># b目录也是 rwxrwxrwx 权限</span></span><br></pre></td></tr></table></figure>

<h4 id="chown"><a href="#chown" class="headerlink" title="chown"></a>chown</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">chown</td>
<td align="center">change file ownership</td>
<td align="center">/bin/chown</td>
<td align="center">所有用户</td>
<td align="center">chown [用户] [文件或目录]</td>
<td>改变文件或目录的所有者</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># touch wenjian             # 创建文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># useradd chao              # 添加用户chao</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># chown shenchao wenjian    # 改变文件所有者为chao这个用户</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -l wenjian</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> chao root <span class="number">0</span> Dec  <span class="number">7</span> <span class="number">08</span>:<span class="number">35</span> wenjian</span><br></pre></td></tr></table></figure>

<h4 id="chgrp"><a href="#chgrp" class="headerlink" title="chgrp"></a>chgrp</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">chgrp</td>
<td align="center">change file group ownership</td>
<td align="center">/bin/chgrp</td>
<td align="center">所有用户</td>
<td align="center">chgrp [用户组] [文件或目录]</td>
<td>改变文件或目录的所属组</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># groupadd lampbrother       # 创建用户组</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># chgrp lampbrother wenjian  # 改变文件所属组</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -l wenjian</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> chao lampbrother <span class="number">0</span> Dec  <span class="number">7</span> <span class="number">08</span>:<span class="number">35</span> wenjian</span><br></pre></td></tr></table></figure>

<h4 id="umask"><a href="#umask" class="headerlink" title="umask"></a>umask</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">umask</td>
<td align="center">the user fiel-creation mask</td>
<td align="center">Shell内置命令</td>
<td align="center">所有用户</td>
<td align="center">umask [-S]</td>
<td>显示、设置文件的缺省权限</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-S</td>
<td>以rwx形式显示新建文件缺省权限</td>
</tr>
</tbody></table>
<blockquote>
<p>0022 默认访问权限<br>0特殊权限<br>022 — -w- -w-</p>
<p>777 rwx rwx rwx<br>022 — -w- -w- 逻辑与（减法）</p>
<p>755 rwx r-x r-x  目录<br>    rw- r– r–  文件 （文件默认没有x权限）   </p>
<hr>
<p>umask 077</p>
<p>777 rwx rwx rwx<br>077 — rwx rwx 逻辑与（减法）</p>
<p>700 rwx — —  目录<br>    rw- — —  文件</p>
</blockquote>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># umask -S                          # 默认权限为 755</span></span><br><span class="line">u=rwx,g=rx,o=rx</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># mkdir lamp                        # 创建目录</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -ld lamp</span></span><br><span class="line">drwxr<span class="literal">-xr</span><span class="literal">-x</span>. <span class="number">2</span> root root <span class="number">4096</span> Dec  <span class="number">7</span> <span class="number">08</span>:<span class="number">46</span> lamp    <span class="comment"># rwxr-xr-x</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># touch fanbingbing                 # 创建文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -ld fanbingbing</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root <span class="number">0</span> Dec  <span class="number">7</span> <span class="number">08</span>:<span class="number">47</span> fanbingbing    <span class="comment">#  rw-r--r-- 相比 rwxr-xr-x 缺少 x 权限，因为默认创建的文件不具有可执行权限</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># umask                             # 默认权限为 022</span></span><br><span class="line"><span class="number">0022</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># umask 077                         # 设置默认权限为077 </span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># touch ab                          # 创建文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -ld ab                         # 777-077 逻辑与得到 700 rwx------ 由于文件不具有x权限 最终得到 rw-------</span></span><br><span class="line"><span class="literal">-rw</span>-------. <span class="number">1</span> root root <span class="number">0</span> Dec  <span class="number">7</span> <span class="number">09</span>:<span class="number">19</span> ab</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># mkdir bv                          # 创建目录</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -ld bv                         # 777-077 逻辑与得到 700 rwx------</span></span><br><span class="line">drwx------. <span class="number">2</span> root root <span class="number">4096</span> Dec  <span class="number">7</span> <span class="number">09</span>:<span class="number">19</span> bv</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># umask -S</span></span><br><span class="line">u=rwx,g=,o=</span><br></pre></td></tr></table></figure>

<h3 id="文件搜索命令"><a href="#文件搜索命令" class="headerlink" title="文件搜索命令"></a>文件搜索命令</h3><h4 id="find"><a href="#find" class="headerlink" title="find"></a>find</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">find</td>
<td align="center">/bin/find</td>
<td align="center">所有用户</td>
<td align="center">find [搜索范围] [匹配条件]</td>
<td>文件搜索</td>
</tr>
</tbody></table>
<blockquote>
<p>find /etc -name init<br>find / size +204800  在根目录下查找大于100MB的文件  +n大于 -n小于  n等于<br>find /home -user shenchao 在根目录下查询所有者为shencaho的文件 -group 根据所属组查找<br>find /etc -cname -5 在/etc 下查找5分钟内被修改过属性的文件和目录  【-amin 访问时间access】、【-cname 文件属性change】、【-mmin 文件内容modify】<br>find /etc -size +163840 -a -size -204800 在etc下查找大于80MB小于100MB的文件<br>                                         -a 两个条件同时满足  -o 两个条件满足任意一个即可<br>find /etc -name inittab -exec ls -l {} ; 在/etc下查找inittab文件并显示其详细信息<br>                                       -exec/-ok命令 {};对搜索结果执行操作<br>-type 根据文件类型查找  f文件,d目录,l软链接文件<br>-inum 根据i节点查找</p>
</blockquote>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># find /etc -name init         # 在目录/etc中查找文件init , -name参数搜索文件名【精准搜索】</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># find /etc -iname init        # 在目录/etc中查找文件init , -iname不区分大小写【精准搜索】</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># find /etc -name *init*       # 在目录/etc中查找文件init,通配符 * 匹配任意字符【模糊搜索】</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># find /etc -name init*        # 以init开头的文件【模糊搜索】</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># find /etc -name init???      # 单个字符匹配 ？  匹配三个则三个问号 ？？？   </span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># find /etc -iname init???     # 单个字符匹配 ？, -iname 搜索时不区分大小写</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># find / -size +204800         # 搜索大于100M的文件 其中 1数据块 = 512字节 = 0.5k 则  100MB=102400KM=204800  （乘以2）</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># find /home -user chao          # 根据所有者查找，查看chao用户的文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># find /home -group lampbrother  # 根据所属组查找，查看lampbrother用户组的文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># find /etc -mmin -30            # 查看30分钟内文件内容被改变过的文件 </span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># find /etc -name init* -a -type f   #查询以init开头的文件  -type 根据文件类型查找  f文件,d目录,l软链接文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># find /etc -name init* -a -type d   #查询以init开头的目录  -type 根据文件类型查找  f文件,d目录,l软链接文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># find /etc -name inittab -exec ls -l &#123;&#125; \;</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># find /etc -name init* -a -type f -exec ls -l &#123;&#125; \;   # 在etc目录下查找以init开头的文件并显示详细信息</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># find /etc -name init* -a -type f -ok ls -l &#123;&#125; \;     # -ok有一个询问的过程</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># find /home -user shenchao -ok rm &#123;&#125; \;</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># find . -inum 276998 -exec rm &#123;&#125; \;                   # 根据 i 节点查找并删除文件    .表示当前目录</span></span><br></pre></td></tr></table></figure>

<h4 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">locate</td>
<td align="center">/usr/bin/locate</td>
<td align="center">所有用户</td>
<td align="center">locate 文件名</td>
<td>在文件资料库中查找文件</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># locate inittab              # 在文件资料库中查找文件inittab</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># locate locate</span></span><br><span class="line">/var/lib/mlocate/mlocate.db               <span class="comment"># 资料库存放在这里</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># touch /root/yangmi          # 在/root目录下创建空文件yangmi</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># updatedb                    # 更新文件资料库</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># locate yangmi               # 在文件资料库中查找文件yangmi</span></span><br><span class="line">/root/yangmi</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># touch /tmp/zhangbozhi       # 在/tmp目录下创建空文件zhangbozhi</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># updatedb                    # 更新文件资料库</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># locate zhangbozhi           # 存放在/tmp目录下的文件，locate无法找到</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># locate -i yangmi            # -i参数不区分大小写</span></span><br></pre></td></tr></table></figure>

<h4 id="which"><a href="#which" class="headerlink" title="which"></a>which</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">which</td>
<td align="center">/usr/bin/which</td>
<td align="center">所有用户</td>
<td align="center">which 命令</td>
<td>搜索命令所在目录及别名信息</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># which cp   </span></span><br><span class="line">alias <span class="built_in">cp</span>=<span class="string">&#x27;cp -i&#x27;</span>       <span class="comment">#此处可以看到 cp是 cp -i 的别名</span></span><br><span class="line">    /bin/<span class="built_in">cp</span>            <span class="comment">#别名所在的路径</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># which useradd</span></span><br><span class="line">/usr/sbin/useradd</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># which rm</span></span><br><span class="line">alias <span class="built_in">rm</span>=<span class="string">&#x27;rm -i&#x27;</span></span><br><span class="line">    /bin/<span class="built_in">rm</span></span><br></pre></td></tr></table></figure>

<h4 id="whereis"><a href="#whereis" class="headerlink" title="whereis"></a>whereis</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">whereis</td>
<td align="center">/usr/bin/whereis</td>
<td align="center">所有用户</td>
<td align="center">whereis [命令名称]</td>
<td>搜索命令所在目录及帮助文档路径</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># whereis useradd</span></span><br><span class="line">useradd: /usr/sbin/useradd /usr/share/<span class="built_in">man</span>/man8/useradd.<span class="number">8</span>.gz  <span class="comment">#命令所在路径：/usr/sbin/useradd  帮助文件所在路径：/usr/share/man/man8/useradd.8.gz</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># whereis rm</span></span><br><span class="line"><span class="built_in">rm</span>: /bin/<span class="built_in">rm</span> /usr/share/<span class="built_in">man</span>/man1p/<span class="built_in">rm</span>.<span class="number">1</span>p.gz /usr/share/<span class="built_in">man</span>/man1/<span class="built_in">rm</span>.<span class="number">1</span>.gz</span><br></pre></td></tr></table></figure>


<h4 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">grep</td>
<td align="center">/bin/grep</td>
<td align="center">所有用户</td>
<td align="center">grep -iv [指定字串] [文件]</td>
<td>在文件中搜索字串匹配的行并输出</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-i</td>
<td>不区分大小写</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-v</td>
<td>排除指定字串</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># grep multiuser /etc/inittab       # 在/etc/inittab目录下搜索关键字multiuser并输出所在的行</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># grep -i  multiuser /etc/inittab   # -i 不区分大小写</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># grep -v ^# /etc/inittab           # 过滤掉以#开头的行   linux中#号表示注释</span></span><br></pre></td></tr></table></figure>

<h3 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h3><h4 id="man"><a href="#man" class="headerlink" title="man"></a>man</h4><a class="btn-beautify button--animated outline pink larger" target="_blank" rel="noopener" href="https://cdn.lianjinquan.com/pdf/鸟哥的linux私房菜/第四章/线上求助.pdf" 
  title="线上求助"><i class="far fa-hand-point-right fa-fw"></i><span>线上求助</span></a>

<table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">man</td>
<td align="center">manual</td>
<td align="center">/usr/bin/man</td>
<td align="center">所有用户</td>
<td align="center">man [命令或配置文件]</td>
<td>获得帮助信息</td>
</tr>
</tbody></table>
<blockquote>
<p>whatis 命令 查看命令简短信息<br>apropos 配置文件  查看配置文件的信息<br>命令 –help<br>info</p>
</blockquote>
<p>在man page中的一些常用的按键：</p>
<table>
<thead>
<tr>
<th>按键</th>
<th>进行工作</th>
</tr>
</thead>
<tbody><tr>
<td>空格键页</td>
<td>向下翻一页</td>
</tr>
<tr>
<td>page down</td>
<td>向下翻一页</td>
</tr>
<tr>
<td>page up</td>
<td>向上翻一页</td>
</tr>
<tr>
<td>home</td>
<td>去到第一页</td>
</tr>
<tr>
<td>end</td>
<td>去到最后一页</td>
</tr>
<tr>
<td>/string</td>
<td>向下查找string这个字符串，如果要查找vbird的话，就输入 /vbird</td>
</tr>
<tr>
<td>?string</td>
<td>向上查找string这个字符串</td>
</tr>
<tr>
<td>n,N</td>
<td>利用n,N来查找字符串时，可以用 n 来继续下一个查找（不论是  / 或 ?），可以用 N 来进行反向查找</td>
</tr>
<tr>
<td>q</td>
<td>结束这次man page</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># man date              # 查看date命令的帮助信息</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># man services          # 查看配置文件service的帮助信息</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># whereis passwd        # man5 其中5表示配置文件的帮助  man1 其中1表示命令的帮助</span></span><br><span class="line">passwd: /usr/bin/passwd /etc/passwd /usr/share/<span class="built_in">man</span>/man5/passwd.<span class="number">5</span>.gz /usr/share/<span class="built_in">man</span>/man1/passwd.<span class="number">1</span>.gz</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># man 5 passwd          # 这里用5指定显示配置文件的帮助</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># whatis ls             # whatis 命令 查看命令简短信息</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># apropos services      # apropos 配置文件  查看配置文件的简短信息</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># touch --help </span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># info</span></span><br></pre></td></tr></table></figure>

<h4 id="help"><a href="#help" class="headerlink" title="help"></a>help</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">help</td>
<td align="center">Shell内置命令</td>
<td align="center">所有用户</td>
<td align="center">help 密令</td>
<td>获得Shell内置命令的帮助（Shell内置命令是用whereis找不到的命令）</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># help umask</span></span><br></pre></td></tr></table></figure>


<h3 id="用户管理命令"><a href="#用户管理命令" class="headerlink" title="用户管理命令"></a>用户管理命令</h3><h4 id="useradd"><a href="#useradd" class="headerlink" title="useradd"></a>useradd</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">useradd</td>
<td align="center">/usr/sbin/useradd</td>
<td align="center">所有用户</td>
<td align="center">useradd 用户名</td>
<td>添加新用户</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># useradd yangmi  # 添加新用户yangmi</span></span><br></pre></td></tr></table></figure>

<h4 id="passwd"><a href="#passwd" class="headerlink" title="passwd"></a>passwd</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">passwd</td>
<td align="center">/usr/bin/passwd</td>
<td align="center">所有用户</td>
<td align="center">passwd 用户名</td>
<td>设置用户密码</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># passwd yangmi  # 给用户yangmi设置密码</span></span><br><span class="line">[<span class="type">yangmi</span>@<span class="number">192</span> ~]<span class="variable">$</span> passwd       <span class="comment"># 使用yangmi用户登录,使用passwd修改密码</span></span><br></pre></td></tr></table></figure>


<h4 id="who"><a href="#who" class="headerlink" title="who"></a>who</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">who</td>
<td align="center">/usr/bin/sho</td>
<td align="center">所有用户</td>
<td align="center">who</td>
<td>查看登录用户信息</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># who     # 登录用户名，登录终端 tty本地终端  pts远程终端 ,登录时间，登录Ip地址 </span></span><br><span class="line">root     tty1         <span class="number">2020</span><span class="literal">-12</span><span class="literal">-08</span> <span class="number">07</span>:<span class="number">40</span> (:<span class="number">0</span>)</span><br><span class="line">root     pts/<span class="number">0</span>        <span class="number">2020</span><span class="literal">-12</span><span class="literal">-08</span> <span class="number">07</span>:<span class="number">40</span> (<span class="number">192.168</span>.XX.<span class="number">1</span>)</span><br><span class="line">yangmi   pts/<span class="number">1</span>        <span class="number">2020</span><span class="literal">-12</span><span class="literal">-08</span> <span class="number">08</span>:<span class="number">56</span> (<span class="number">192.168</span>.XX.<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h4 id="w"><a href="#w" class="headerlink" title="w"></a>w</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">w</td>
<td align="center">/usr/bin/w</td>
<td align="center">所有用户</td>
<td align="center">w</td>
<td>查看登录用户详细信息</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># w    # 09:06:40登录时间, up  1:26 连续运行时间,3 users当前一共3个用户登录,load average: 0.00, 0.04, 0.05 负载均衡的情况</span></span><br><span class="line"> <span class="number">09</span>:<span class="number">06</span>:<span class="number">40</span> up  <span class="number">1</span>:<span class="number">26</span>,  <span class="number">3</span> users,  load average: <span class="number">0.00</span>, <span class="number">0.04</span>, <span class="number">0.05</span></span><br><span class="line">USER     TTY      FROM              LOGIN<span class="selector-tag">@</span>   IDLE   JCPU   PCPU WHAT     <span class="comment"># IDLE表示用户登录空闲多久  PCPU表示当前用户执行操作占用cpu的时间  WHAT当前执行什么操作</span></span><br><span class="line">root     tty1     :<span class="number">0</span>               <span class="number">07</span>:<span class="number">40</span>    <span class="number">1</span>:<span class="number">26</span>m  <span class="number">1.85</span>s  <span class="number">1.85</span>s /usr/bin/Xorg :<span class="number">0</span> <span class="literal">-br</span> <span class="literal">-verbose</span> <span class="literal">-audit</span> <span class="number">4</span> <span class="literal">-auth</span> /var/run/gdm/auth<span class="literal">-for</span><span class="literal">-gdm</span><span class="literal">-MTkNaE</span>/database <span class="literal">-no</span></span><br><span class="line">root     pts/<span class="number">0</span>    <span class="number">192.168</span>.XX.<span class="number">1</span>     <span class="number">07</span>:<span class="number">40</span>    <span class="number">0.00</span>s  <span class="number">0.26</span>s  <span class="number">0.10</span>s w</span><br><span class="line">yangmi   pts/<span class="number">1</span>    <span class="number">192.168</span>.XX.<span class="number">1</span>     <span class="number">08</span>:<span class="number">56</span>    <span class="number">4</span>:<span class="number">57</span>   <span class="number">0.02</span>s  <span class="number">0.02</span>s <span class="literal">-bash</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># uptime</span></span><br><span class="line"> <span class="number">09</span>:<span class="number">08</span>:<span class="number">44</span> up  <span class="number">1</span>:<span class="number">28</span>,  <span class="number">3</span> users,  load average: <span class="number">0.02</span>, <span class="number">0.05</span>, <span class="number">0.05</span></span><br></pre></td></tr></table></figure>


<h3 id="压缩解压命令"><a href="#压缩解压命令" class="headerlink" title="压缩解压命令"></a>压缩解压命令</h3><h4 id="gzip"><a href="#gzip" class="headerlink" title="gzip"></a>gzip</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">gzip</td>
<td align="center">GUN zip</td>
<td align="center">/bin/gzip</td>
<td align="center">所有用户</td>
<td align="center">gzip 文件</td>
<td>压缩文件，压缩后文件格式:<code>.gz</code></td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cd /tmp</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># touch boduo</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># gzip boduo   # 不保留原文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -l</span></span><br><span class="line">总用量 <span class="number">128</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root <span class="number">127220</span> <span class="number">12</span>月  <span class="number">8</span> <span class="number">09</span>:<span class="number">19</span> boduo.gz</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># mkdir a</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># mkdir a/b a/c a/d   # 创建目录</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># gzip a    # 报错表示gzip只能压缩文件，不能压缩目录</span></span><br><span class="line">gzip: a is a directory -- ignored</span><br></pre></td></tr></table></figure>

<h4 id="gunzip"><a href="#gunzip" class="headerlink" title="gunzip"></a>gunzip</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">gunzip</td>
<td align="center">GUN unzip</td>
<td align="center">/bin/gzip</td>
<td align="center">所有用户</td>
<td align="center">gunzip [压缩文件]</td>
<td>解压缩.gz的压缩文件</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># gunzip boduo.gz</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -l</span></span><br><span class="line">总用量 <span class="number">628</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root <span class="number">641020</span> <span class="number">12</span>月  <span class="number">8</span> <span class="number">09</span>:<span class="number">19</span> boduo</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># gzip -d boduo.gz   # 或者使用gzip -d命令</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls -l</span></span><br><span class="line">总用量 <span class="number">628</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-r</span>-<span class="literal">-r</span>--. <span class="number">1</span> root root <span class="number">641020</span> <span class="number">12</span>月  <span class="number">8</span> <span class="number">09</span>:<span class="number">19</span> boduo</span><br></pre></td></tr></table></figure>

<h4 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">tar</td>
<td align="center"></td>
<td align="center">/bin/tar</td>
<td align="center">所有用户</td>
<td align="center">tar 选项[-zcf] [压缩后的文件名] [目录]</td>
<td>打包目录</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-c</td>
<td>打包</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-v</td>
<td>显示详细信息</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-f</td>
<td>指定文件名</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-z</td>
<td>打包同时压缩</td>
</tr>
</tbody></table>
<blockquote>
<p>tar命令解压缩语法：<br>   -x 解包<br>   -v 显示详细信息<br>   -f 指定压缩文件<br>   -z 解压缩</p>
<p>压缩后文件格式： .tar .gz</p>
</blockquote>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># mkdir japan</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># mkdir japan/cang japan/long japan/ze</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># tar -cvf japan.tar japan    #先打包</span></span><br><span class="line">japan/</span><br><span class="line">japan/ze/</span><br><span class="line">japan/long/</span><br><span class="line">japan/cang/</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls</span></span><br><span class="line">a  boduo  japan  japan.tar</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># gzip japan.tar   #再压缩</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls</span></span><br><span class="line">a  boduo  japan  japan.tar.gz</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># mkdir abc</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># mkdir abc/yangmi abc/zhang</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># tar -zcf abc.tar.gz abc    #打包的同时压缩</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls</span></span><br><span class="line">a  abc  abc.tar.gz  boduo  japan  japan.tar.gz</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># tar -acf etc.tar.gz /etc</span></span><br><span class="line">tar: 从成员名中删除开头的“/”</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls</span></span><br><span class="line">a  abc  abc.tar.gz  boduo  etc.tar.gz  japan  japan.tar.gz</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># rm -rf abc</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls</span></span><br><span class="line">a  abc.tar.gz  boduo  etc.tar.gz  japan  japan.tar.gz</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># tar -zxvf abc.tar.gz    #解压</span></span><br><span class="line">abc/</span><br><span class="line">abc/yangmi/</span><br><span class="line">abc/zhang/</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls </span></span><br><span class="line">a  abc  abc.tar.gz  boduo  etc.tar.gz  japan  japan.tar.gz</span><br></pre></td></tr></table></figure>

<h4 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">zip</td>
<td align="center"></td>
<td align="center">/usr/bin/zip</td>
<td align="center">所有用户</td>
<td align="center">zip选项[-r] [压缩后文件名] [文件或目录]</td>
<td>压缩文件或目录</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-r</td>
<td>压缩目录</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># cp /etc/cas.conf /tmp/cas</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls</span></span><br><span class="line">a  abc  abc.tar.gz  boduo  boduo.zip  cas  etc.tar.gz  japan  japan.tar.gz</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># zip cas.zip cas   # 压缩文件，保留原文件</span></span><br><span class="line">  adding: cas (deflated <span class="number">44</span>%)</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls</span></span><br><span class="line">a  abc  abc.tar.gz  boduo  boduo.zip  cas  cas.zip  etc.tar.gz  japan  japan.tar.gz</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># zip -r abc.zip abc   # 压缩目录</span></span><br><span class="line">  adding: abc/ (stored <span class="number">0</span>%)</span><br><span class="line">  adding: abc/yangmi/ (stored <span class="number">0</span>%)</span><br><span class="line">  adding: abc/zhang/ (stored <span class="number">0</span>%)</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls</span></span><br><span class="line">a  abc  abc.tar.gz  abc.zip  boduo  boduo.zip  cas  cas.zip  etc.tar.gz  japan  japan.tar.gz</span><br></pre></td></tr></table></figure>

<h4 id="bzip2"><a href="#bzip2" class="headerlink" title="bzip2"></a>bzip2</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">bzip2</td>
<td align="center"></td>
<td align="center">/usr/bin/bzip2</td>
<td align="center">所有用户</td>
<td align="center">bzip2 选项[-k] [文件]</td>
<td>压缩文件。压缩后文件格式<code> .bz2</code></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-k</td>
<td>产生压缩文件后保留原文件</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># bzip2 -k boduo</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls</span></span><br><span class="line">a  abc  abc.tar.gz  abc.zip  boduo  boduo.bz2  boduo.zip  cas  cas.zip  etc.tar.gz  japan  japan.tar.gz</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># tar -cjf boduo.tar.bz2 boduo</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls</span></span><br><span class="line">a  abc  abc.tar.gz  abc.zip  boduo  boduo.bz2  boduo.tar.bz2  boduo.zip  cas  cas.zip  etc.tar.gz  japan  japan.tar.gz</span><br></pre></td></tr></table></figure>

<h4 id="bunzip2"><a href="#bunzip2" class="headerlink" title="bunzip2"></a>bunzip2</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">bunzip2</td>
<td align="center"></td>
<td align="center">/usr/bin/bunzip2</td>
<td align="center">所有用户</td>
<td align="center">bunzip2 选项[-k] [压缩文件]</td>
<td>解压缩</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-k</td>
<td>产生压缩文件后保留原文件</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># bzip2 -k boduo</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls</span></span><br><span class="line">a  abc  abc.tar.gz  abc.zip  boduo  boduo.bz2  boduo.zip  cas  cas.zip  etc.tar.gz  japan  japan.tar.gz</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># tar -cjf boduo.tar.bz2 boduo</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls</span></span><br><span class="line">a  abc  abc.tar.gz  abc.zip  boduo  boduo.bz2  boduo.tar.bz2  boduo.zip  cas  cas.zip  etc.tar.gz  japan  japan.tar.gz</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># tar -xjf boduo.tar.bz2</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">tmp</span>]<span class="comment"># ls</span></span><br><span class="line">a  abc.tar.gz  abc.zip  boduo  boduo.tar.bz2  boduo.zip  cas  cas.zip  etc.tar.gz  japan.tar.gz</span><br></pre></td></tr></table></figure>


<h3 id="网络命令"><a href="#网络命令" class="headerlink" title="网络命令"></a>网络命令</h3><h4 id="write"><a href="#write" class="headerlink" title="write"></a>write</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">write</td>
<td align="center">/usr/bin/write</td>
<td align="center">所有用户</td>
<td align="center">write &lt;用户名&gt;</td>
<td>给用户发信息，以crtl+d保存结束</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># write yangmi    # 给用户yangmi发信息，如果写错需要删除按 ctrl+← 退格键</span></span><br><span class="line"><span class="built_in">ni</span> hao yang    </span><br><span class="line"><span class="built_in">mi</span> aaaaa</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[<span class="type">yangmi</span>@<span class="number">192</span> ~]<span class="variable">$</span>    <span class="comment">#这里用 yangmi 用户登录可以收到root用户发送过来的信息（用户在线才可以收到）</span></span><br><span class="line">Message from root@<span class="number">192.168</span>.<span class="number">88.128</span> on pts/<span class="number">0</span> at <span class="number">08</span>:<span class="number">29</span> ...</span><br><span class="line"><span class="built_in">ni</span> hao yang </span><br><span class="line"><span class="built_in">mi</span> aaa</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>


<h4 id="wall"><a href="#wall" class="headerlink" title="wall"></a>wall</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">wall</td>
<td align="center">write all</td>
<td align="center">/usr/bin/wall</td>
<td align="center">所有用户</td>
<td align="center">wall [message]</td>
<td>发广播信息</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># wall yangmi nihao!     #使用root用户发广播信息，root自己也可以收到</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># </span></span><br><span class="line">Broadcast message from root@<span class="number">192.168</span>.<span class="number">88.128</span> (pts/<span class="number">0</span>) (Wed Dec  <span class="number">9</span> <span class="number">08</span>:<span class="number">37</span>:<span class="number">34</span> <span class="number">2020</span>):</span><br><span class="line"></span><br><span class="line">yangmi nihao!</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[<span class="type">yangmi</span>@<span class="number">192</span> ~]<span class="variable">$</span>   <span class="comment">#这里是yangmi用户登录，可以接收到广播</span></span><br><span class="line"></span><br><span class="line">Broadcast message from root@<span class="number">192.168</span>.<span class="number">88.128</span> (pts/<span class="number">0</span>) (Wed Dec  <span class="number">9</span> <span class="number">08</span>:<span class="number">37</span>:<span class="number">34</span> <span class="number">2020</span>):</span><br><span class="line"></span><br><span class="line">yangmi nihao!</span><br></pre></td></tr></table></figure>


<h4 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ping</td>
<td align="center">/bin/ping</td>
<td align="center">所有用户</td>
<td align="center">ping 选项[-c指定发送次数] IP地址</td>
<td>测试网络连通性</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ping 112.80.248.75        # 需要按ctrl+c才能停下来</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ping -c 3 112.80.248.75   # ping 3次后返回</span></span><br></pre></td></tr></table></figure>


<h4 id="ifconfig"><a href="#ifconfig" class="headerlink" title="ifconfig"></a>ifconfig</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">命令英文原意</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ifconfig</td>
<td align="center">interfate configure</td>
<td align="center">/sbin/ifconfig</td>
<td align="center">root</td>
<td align="center">ifconfig 网卡名称 IP地址</td>
<td>查看和设置网卡信息</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ifconfig</span></span><br></pre></td></tr></table></figure>


<h4 id="last"><a href="#last" class="headerlink" title="last"></a>last</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">last</td>
<td align="center">/usr/bin/last</td>
<td align="center">所有用户</td>
<td align="center">last</td>
<td>列出目前与过去登录系统的用户信息</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># last</span></span><br></pre></td></tr></table></figure>



<h4 id="lastlog"><a href="#lastlog" class="headerlink" title="lastlog"></a>lastlog</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">lastlog</td>
<td align="center">/usr/bin/lastlog</td>
<td align="center">所有用户</td>
<td align="center">lastlog</td>
<td>检查某特定用户上次登录的时间</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># lastlog     #用户最后一次登录过的信息   【lastlog -u 用户id】  指定用户上次登录的时间</span></span><br></pre></td></tr></table></figure>


<h4 id="traceroute"><a href="#traceroute" class="headerlink" title="traceroute"></a>traceroute</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">traceroute</td>
<td align="center">/bin/traceroute</td>
<td align="center">所有用户</td>
<td align="center">traceroute</td>
<td>显示数据包到主机间的路径</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">yangmi</span>@<span class="number">192</span> ~]<span class="variable">$</span> traceroute www.baidu.com</span><br></pre></td></tr></table></figure>



<h4 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">netstat</td>
<td align="center">/bin/netstat</td>
<td align="center">所有用户</td>
<td align="center">netstat[选项]</td>
<td>显示网络相关信息</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-t</td>
<td>TCP协议</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-u</td>
<td>UDP协议</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-l</td>
<td>监听</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-r</td>
<td>路由</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-n</td>
<td>显示IP地址和端口号</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># netstat -tlun   # 查看本机监听的端口                                 </span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># netstat -an     # 查看本机所有的网络连接</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># netstat -rn     # 查看本机路由表</span></span><br></pre></td></tr></table></figure>





<h4 id="setup"><a href="#setup" class="headerlink" title="setup"></a>setup</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">setup</td>
<td align="center">/usr/bin/setup</td>
<td align="center">root</td>
<td align="center">setup</td>
<td>配置网络</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># setup</span></span><br><span class="line">您更改了主机名。</span><br><span class="line">应该现在为系统设置主机名吗？</span><br><span class="line">这样可能会造成有些 X 应用程序无法正常工作。</span><br><span class="line"></span><br><span class="line">您可能必须重新登录。</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># service network restart   # 重启服务</span></span><br><span class="line">正在关闭接口 eth0： </span><br><span class="line">....</span><br></pre></td></tr></table></figure>
<p>选择网络配置<br><img src="https://cdn.lianjinquan.com/img/posts/linux/02/linux01.png"><br>选择设备配置<br><img src="https://cdn.lianjinquan.com/img/posts/linux/02/linux02.png"><br>选择第一个网卡<br><img src="https://cdn.lianjinquan.com/img/posts/linux/02/linux03.png"><br>设置网络信息<br><img src="https://cdn.lianjinquan.com/img/posts/linux/02/linux04.png"></p>
<h4 id="mount"><a href="#mount" class="headerlink" title="mount"></a>mount</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">mount</td>
<td align="center">/bin/mount</td>
<td align="center">所有用户</td>
<td align="center">mount[-t文件系统]设备文件名挂载点</td>
<td>挂载命令</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># mkdir /mnt/cdrom   # 创建挂载点</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># ll /dev/cdrom     # 设备文件名默认sr0</span></span><br><span class="line">lrwxrwxrwx. <span class="number">1</span> root root <span class="number">3</span> <span class="number">12</span>月  <span class="number">9</span> <span class="number">08</span>:<span class="number">18</span> /dev/cdrom -&gt; sr0</span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># mount /dev/sr0 /mnt/cdrom</span></span><br><span class="line"><span class="built_in">mount</span>: block device /dev/sr0 is <span class="built_in">write-protected</span>, mounting <span class="built_in">read-only</span></span><br><span class="line"><span class="built_in">mount</span>: /dev/sr0 already mounted or /mnt/cdrom busy</span><br><span class="line"><span class="built_in">mount</span>: according to mtab, /dev/sr0 is already mounted on /mnt/cdrom</span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># umount /dev/sr0   #上面发现/dev/sr0已经挂载，需要卸载</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># mount /dev/sr0 /mnt/cdrom</span></span><br><span class="line"><span class="built_in">mount</span>: block device /dev/sr0 is <span class="built_in">write-protected</span>, mounting <span class="built_in">read-only</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># cd /mnt/cdrom/</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">cdrom</span>]<span class="comment"># ls</span></span><br><span class="line">CentOS_BuildTag  EULA  images    Packages                  repodata              RPM<span class="literal">-GPG</span><span class="literal">-KEY</span><span class="literal">-CentOS</span><span class="literal">-Debug</span><span class="literal">-6</span>     RPM<span class="literal">-GPG</span><span class="literal">-KEY</span><span class="literal">-CentOS</span><span class="literal">-Testing</span><span class="literal">-6</span></span><br><span class="line">EFI              GPL   isolinux  RELEASE<span class="literal">-NOTES</span><span class="literal">-en</span><span class="literal">-US</span>.html  RPM<span class="literal">-GPG</span><span class="literal">-KEY</span><span class="literal">-CentOS</span><span class="literal">-6</span>  RPM<span class="literal">-GPG</span><span class="literal">-KEY</span><span class="literal">-CentOS</span><span class="literal">-Security</span><span class="literal">-6</span>  TRANS.TBL</span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">cdrom</span>]<span class="comment"># umount /dev/sr0   #这里注意，不能再光盘挂载点卸载,需要退出目录</span></span><br><span class="line">umount: /mnt/cdrom: device is busy.</span><br><span class="line">        (<span class="keyword">In</span> some cases useful info about processes that use</span><br><span class="line">         the device is found by lsof(<span class="number">8</span>) or fuser(<span class="number">1</span>))</span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">cdrom</span>]<span class="comment"># cd</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># umount /dev/sr0</span></span><br></pre></td></tr></table></figure>


<h3 id="关机重启命令"><a href="#关机重启命令" class="headerlink" title="关机重启命令"></a>关机重启命令</h3><h4 id="shuttdown"><a href="#shuttdown" class="headerlink" title="shuttdown"></a>shuttdown</h4><a class="btn-beautify button--animated outline pink larger" target="_blank" rel="noopener" href="https://cdn.lianjinquan.com/pdf/鸟哥的linux私房菜/第四章/正确的关机方法.pdf" 
  title="正确的关机方法"><i class="far fa-hand-point-right fa-fw"></i><span>正确的关机方法</span></a>

<table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令所在路径</th>
<th align="center">执行权限</th>
<th align="center">语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">shutdown</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">shutdown [选项] 时间</td>
<td>关机命令</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-c</td>
<td>取消前一个关机命令</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-h</td>
<td>关机</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">-r</td>
<td>重启</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># shutdown -h now     # 立刻关机</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># shutdown -h 21:30   # 系统在今天的 21:30 分会关机</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># shutdown -h +10     # 系统再过十分钟后自动关机</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># shutdown -r now     # 系统立刻重新开机</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># shutdown -c         # 取消关机指令 </span></span><br></pre></td></tr></table></figure>


<h4 id="其他关机命令"><a href="#其他关机命令" class="headerlink" title="其他关机命令"></a>其他关机命令</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># halt  # 系统关机</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># poweroff  </span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># init 0</span></span><br></pre></td></tr></table></figure>

<h4 id="其他重启命令"><a href="#其他重启命令" class="headerlink" title="其他重启命令"></a>其他重启命令</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># reboot  # 重新开机</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># init 6</span></span><br></pre></td></tr></table></figure>

<h4 id="系统运行级别"><a href="#系统运行级别" class="headerlink" title="系统运行级别"></a>系统运行级别</h4><table>
<thead>
<tr>
<th align="center">指令名称</th>
<th align="center">指令描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">关机</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">单用户</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">不完全多用户，不含NFS服务</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">完全多用户</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">未分配</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">图形界面</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">重启</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># cat /etc/inittab   #   id:5:initdefault:  当前虚拟机默认系统运行级别是5，可以修改比如：</span></span><br><span class="line"><span class="comment">#   0 - halt (Do NOT set initdefault to this)</span></span><br><span class="line"><span class="comment">#   1 - Single user mode</span></span><br><span class="line"><span class="comment">#   2 - Multiuser, without NFS (The same as 3, if you do not have networking)</span></span><br><span class="line"><span class="comment">#   3 - Full multiuser mode</span></span><br><span class="line"><span class="comment">#   4 - unused</span></span><br><span class="line"><span class="comment">#   5 - X11</span></span><br><span class="line"><span class="comment">#   6 - reboot (Do NOT set initdefault to this)</span></span><br><span class="line">id:<span class="number">5</span>:initdefault:</span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># runlevel # 查询系统运行级别</span></span><br><span class="line">N <span class="number">5</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># init 3  #切换到3</span></span><br></pre></td></tr></table></figure>

<h4 id="logout"><a href="#logout" class="headerlink" title="logout"></a>logout</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># logout   # 退出登录</span></span><br><span class="line">Connection closing...Socket close.</span><br><span class="line"></span><br><span class="line">Connection closed by foreign host.</span><br><span class="line"></span><br><span class="line">Disconnected from remote host(<span class="number">192.168</span>.<span class="number">88.128</span>) at <span class="number">22</span>:<span class="number">24</span>:<span class="number">14</span>.</span><br><span class="line"></span><br><span class="line"><span class="built_in">Type</span> `help<span class="string">&#x27; to learn how to use Xshell prompt.</span></span><br></pre></td></tr></table></figure>

<h3 id="文本编辑器vim"><a href="#文本编辑器vim" class="headerlink" title="文本编辑器vim"></a>文本编辑器vim</h3><h4 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h4><p>Vim是一个功能强大的全屏幕文本编辑器，是Linux/UNIX上最常用的文本编辑器，他的作用是建立、编辑、显示文本文件。Vim没有菜单，只有命令。</p>
<h4 id="工作模式"><a href="#工作模式" class="headerlink" title="工作模式"></a>工作模式</h4><p><img src="https://cdn.lianjinquan.com/img/posts/linux/02/linux05.png"></p>
<h4 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h4><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">命令</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">a</td>
<td align="center">在光标所在字符后插入</td>
<td align="center">A</td>
<td align="center">在光标所在行尾插入</td>
</tr>
<tr>
<td align="center">i</td>
<td align="center">在光标所在字符前插入</td>
<td align="center">I</td>
<td align="center">在光标所在行行首插入</td>
</tr>
<tr>
<td align="center">o</td>
<td align="center">在光标下插入新行</td>
<td align="center">O</td>
<td align="center">在光标上插入新行</td>
</tr>
</tbody></table>
<h4 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h4><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">命令</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">：set nu</td>
<td align="center">设置行号</td>
<td align="center">：set nonu</td>
<td align="center">取消行号</td>
</tr>
<tr>
<td align="center">gg</td>
<td align="center">到第一行</td>
<td align="center">G</td>
<td align="center">到最后一行</td>
</tr>
<tr>
<td align="center">nG</td>
<td align="center">到第n行</td>
<td align="center">：n</td>
<td align="center">到第n行</td>
</tr>
<tr>
<td align="center">$</td>
<td align="center">移至行位</td>
<td align="center">0</td>
<td align="center">移至行首</td>
</tr>
</tbody></table>
<h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">命令</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">x</td>
<td align="center">删除光标所在处字符</td>
<td align="center">nx</td>
<td align="center">删除光标所在处后n个字符</td>
</tr>
<tr>
<td align="center">dd</td>
<td align="center">删除光标所在行，ndd删除n行</td>
<td align="center">dG</td>
<td align="center">删除光标所在行到文件末尾内容</td>
</tr>
<tr>
<td align="center">D</td>
<td align="center">删除光标所在处到行尾内容</td>
<td align="center">：n1,n2d</td>
<td align="center">删除指定范围的行</td>
</tr>
</tbody></table>
<h4 id="复制和剪切"><a href="#复制和剪切" class="headerlink" title="复制和剪切"></a>复制和剪切</h4><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">命令</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">yy</td>
<td align="center">复制当前行</td>
<td align="center">nyy</td>
<td align="center">复制当前行以下n行</td>
</tr>
<tr>
<td align="center">dd</td>
<td align="center">剪切当前行</td>
<td align="center">ndd</td>
<td align="center">剪切当前行以下n行</td>
</tr>
<tr>
<td align="center">p</td>
<td align="center">粘贴在当前光标所在行下（小写p）</td>
<td align="center">P</td>
<td align="center">粘贴在当前光标所在行上（大写p）</td>
</tr>
</tbody></table>
<h4 id="替换和取消"><a href="#替换和取消" class="headerlink" title="替换和取消"></a>替换和取消</h4><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">命令</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">r</td>
<td align="center">取代光标所在处字符</td>
<td align="center">R</td>
<td align="center">从光标所在处开始替换字符，按ESC取消</td>
</tr>
<tr>
<td align="center">u</td>
<td align="center">取消上一步操作</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h4 id="搜索和搜索替换"><a href="#搜索和搜索替换" class="headerlink" title="搜索和搜索替换"></a>搜索和搜索替换</h4><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">命令</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">/string</td>
<td align="center">搜索指定字符串，搜索时忽略大小写：set ic</td>
<td align="center">n</td>
<td align="center">搜索指定字符串的下一个出现位置</td>
</tr>
<tr>
<td align="center">：%s/old/new/g</td>
<td align="center">全文替换指定字符串</td>
<td align="center">：n1,n2s/old/new/g</td>
<td align="center">在指定范围内替换指定字符串，/c 替换时有询问操作，/g替换时无询问操作</td>
</tr>
</tbody></table>
<h4 id="保存和退出"><a href="#保存和退出" class="headerlink" title="保存和退出"></a>保存和退出</h4><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">命令</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">：w</td>
<td align="center">保存修改</td>
<td align="center">：w new_filename</td>
<td align="center">另存为指定文件</td>
</tr>
<tr>
<td align="center">：wq</td>
<td align="center">保存修改并退出</td>
<td align="center">ZZ</td>
<td align="center">快捷键，保存修改并退出</td>
</tr>
<tr>
<td align="center">：q!</td>
<td align="center">不保存修改退出</td>
<td align="center">：wq!</td>
<td align="center">保存修改并退出(文件所有者及root可使用)</td>
</tr>
</tbody></table>
<h4 id="使用技巧"><a href="#使用技巧" class="headerlink" title="使用技巧"></a>使用技巧</h4><table>
<thead>
<tr>
<th align="center">命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">：r 文件名</td>
<td>导入指定文件内容到当前所编辑的文件之中(光标所在处)，例如导入/etc/issue文件内容到当前所编辑的文件中 :r /etc/issue</td>
</tr>
<tr>
<td align="center">：!which 命令</td>
<td>在不退出vim的情况下找到命令所在路径，按Enter继续</td>
</tr>
<tr>
<td align="center">：r !命令</td>
<td>把一个命令的执行结果导入到当前编辑的文件中（光标所在处），例如导入当前时间 ：r !date</td>
</tr>
<tr>
<td align="center">：map 快捷键 触发命令</td>
<td>定义快捷键，例如当按快捷键<code>ctrl+p</code>的时候在一行的行首添加注释，可以这样写 <code>:map ^P I#&lt;ESC&gt;</code>，其中 <code>^P</code> 需要同时按<code>CTRL+V+P</code>，<code>I#</code>表示在行首插入<code>#</code>,<code>&lt;ESC&gt;</code>表示按<code>ESC</code>结束，</td>
</tr>
<tr>
<td align="center"></td>
<td>快捷键<code>:map ^B 0x</code> 表示定义快捷键<code>ctrl+B</code>删除行首的第一个字符，其中 <code>^B</code> 需要同时按<code>ctrl+V+B</code>,快捷键<code>:map ^H test@cntaiping.com&lt;ESC&gt;</code> 表示定义快捷键<code>CTRL+H</code>,在光标所在处插入邮箱地址</td>
</tr>
<tr>
<td align="center">:n1,n2s/^/#/g</td>
<td>连续行注释，例如注释1-4行可以这样写<code>:1,4s/^/#/g</code> ,去掉1-4行注释可以这样写：<code>1,4s/^#//g</code>，在1-4行行首添加<code>//</code>双斜杠注释可以这样写：<code>1,4s/^/\/\//g</code>,其中<code>\/</code>表示转义字符</td>
</tr>
<tr>
<td align="center">替换ab</td>
<td><code>ab mymail test@test.com</code> 当输入mymail时按回车会自动替换为 <code>test@test.com</code>,重启之后快捷键会失效，可以在<code>.vimrc</code>下定义快捷键，永久有效，普通用户路径：<code>/home/username/.vimrc</code>,root用户路径<code>/root/.vimrc</code></td>
</tr>
</tbody></table>
<h3 id="软件包管理"><a href="#软件包管理" class="headerlink" title="软件包管理"></a>软件包管理</h3><ol>
<li><p>软件包分类</p>
<ul>
<li>源码包：脚本安装包</li>
<li>二进制包（RPM包、系统默认包）</li>
</ul>
</li>
<li><p>源码包</p>
<ul>
<li>源码包的优点</li>
<li>开源，如果有足够的能力，可以修改源代码。</li>
<li>可以自由选择所需的功能。</li>
<li>软件是编译安装，所以更加适合自己的系统，更加稳定，效率也更高。</li>
<li>卸载方便。</li>
<li>源码包的缺点<ul>
<li>安装过程步骤较多，尤其安装较大的软件集合时（如LAMP环境搭建），容易出现拼写错误。</li>
<li>编译过程时间较长，安装比二进制安装时间长。</li>
<li>因为是编译安装，安装过程中一旦报错新手很难解决。</li>
</ul>
</li>
</ul>
</li>
<li><p>RPM包</p>
<ul>
<li>二进制包的优点<ul>
<li>包管理系统简单，只通过几个命令就可以实现包的安装、升级、查询和卸载。</li>
<li>安装速度比源码包安装快的多。</li>
</ul>
</li>
<li>二进制包的缺点<ul>
<li>经过编译，不再可以看到源代码。</li>
<li>功能选择不如源码包灵活。</li>
<li>依赖性。</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="rpm命令"><a href="#rpm命令" class="headerlink" title="rpm命令"></a>rpm命令</h4><p>rpm包命名规则</p>
<blockquote>
<p>httpd-2.2.15-15.el6.centos.l.i686.rpm   包全名<br>httpd      软件包名<br>2.2.15     软件版本<br>15         软件发布的次数<br>el6.centos 适合的linux平台<br>i686       适合的硬件平台<br>rpm        rpm包扩展名</p>
</blockquote>
<p>rpm包路径：<code>CentOS-6.3-i386-bin-DVD1.iso\Packages</code> 目录下<br><img src="https://cdn.lianjinquan.com/img/posts/linux/03/linux10.png"></p>
<p>rpm包依赖性</p>
<ul>
<li>树形依赖：a–&gt;b–&gt;c</li>
<li>环形依赖：a–&gt;b–&gt;c–&gt;a</li>
<li>模块依赖：模块依赖查询网站<code>www.rpmfind.net</code></li>
</ul>
<h4 id="rpm安装升级与卸载"><a href="#rpm安装升级与卸载" class="headerlink" title="rpm安装升级与卸载"></a>rpm安装升级与卸载</h4><h5 id="包名与包全名"><a href="#包名与包全名" class="headerlink" title="包名与包全名"></a>包名与包全名</h5><ul>
<li>包全名：操作的包是没有安装的软件包时，使用包全名。而且要注意路径。</li>
<li>包名：操作已经安装的软件包时，使用包名。是搜索<code>/var/lib/rpm</code>中的数据库</li>
</ul>
<h5 id="RPM安装"><a href="#RPM安装" class="headerlink" title="RPM安装"></a>RPM安装</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>rpm -ivh 包全名</code></td>
<td align="center">rpm安装</td>
<td align="center"><code>-i(install)</code></td>
<td align="center">安装</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><code>-v(verbose)</code></td>
<td align="center">显示详细信息</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><code>-h(hash)</code></td>
<td align="center">显示进度</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><code>--nodeps</code></td>
<td align="center">不检测依赖性</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># mkdir /mnt/cdrom          # 创建光盘挂载点</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># mount /dev/sr0 /mnt/cdrom # 挂载光盘</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># cd /mnt/cdrom/Packages/   # rpm包均是在Packages目录下</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">Packages</span>]<span class="comment"># rpm -ivh httpd-2.2.15-15.el6.centos.1.i686.rpm  # 使用rpm安装httpd</span></span><br></pre></td></tr></table></figure>

<h5 id="RPM包升级"><a href="#RPM包升级" class="headerlink" title="RPM包升级"></a>RPM包升级</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>rpm -Uvh 包全名</code></td>
<td align="center">rpm升级</td>
<td align="center"><code>-U</code></td>
<td align="center">升级</td>
</tr>
</tbody></table>
<h5 id="RPM包卸载"><a href="#RPM包卸载" class="headerlink" title="RPM包卸载"></a>RPM包卸载</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>rpm -e 包全名</code></td>
<td align="center">rpm卸载</td>
<td align="center"><code>-e(erase)</code></td>
<td align="center">卸载</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><code>--nodeps</code></td>
<td align="center">不检测依赖性</td>
</tr>
</tbody></table>
<h5 id="查询是否安装"><a href="#查询是否安装" class="headerlink" title="查询是否安装"></a>查询是否安装</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>rpm -q 包名</code></td>
<td align="center">查询包是否安装</td>
<td align="center"><code>-q</code></td>
<td align="center">查询（query）</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><code>-a</code></td>
<td align="center">所有（all）</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">Packages</span>]<span class="comment"># rpm -q httpd</span></span><br><span class="line">httpd<span class="literal">-2</span>.<span class="number">2.15</span><span class="literal">-53</span>.el6.centos.x86_64    <span class="comment"># 已经安装</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">Packages</span>]<span class="comment"># rpm -q httpdfda  #随意写的包名</span></span><br><span class="line">package httpdfda is not installed    <span class="comment"># 未安装</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">Packages</span>]<span class="comment"># rpm -qa   # 列出所有已经安装的包名</span></span><br><span class="line">cdrdao<span class="literal">-1</span>.<span class="number">2.3</span><span class="literal">-4</span>.el6.x86_64</span><br><span class="line">ibus<span class="literal">-table</span><span class="literal">-additional</span><span class="literal">-1</span>.<span class="number">2.0</span>.<span class="number">20100111</span><span class="literal">-5</span>.el6.noarch</span><br><span class="line">.....</span><br></pre></td></tr></table></figure>

<h5 id="查询软件包详细信息"><a href="#查询软件包详细信息" class="headerlink" title="查询软件包详细信息"></a>查询软件包详细信息</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>rpm -qi 包名</code></td>
<td align="center">查询软件包详细信息</td>
<td align="center"><code>-i</code></td>
<td align="center">查询软件信息（information）</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><code>-p</code></td>
<td align="center">查询未安装包信息（package包全名）</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">Packages</span>]<span class="comment"># rpm -qi httpd</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">Packages</span>]<span class="comment"># rpm -qip zip-3.0-1.el6_7.1.x86_64.rpm   # -p参数加包全名，可以看到未安装包的详细信息</span></span><br></pre></td></tr></table></figure>


<h5 id="查询包中文件安装位置"><a href="#查询包中文件安装位置" class="headerlink" title="查询包中文件安装位置"></a>查询包中文件安装位置</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>rpm -ql 包名</code></td>
<td align="center">查询包中文件安装位置</td>
<td align="center"><code>-l</code></td>
<td align="center">列表（list）</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><code>-p</code></td>
<td align="center">查询未安装包信息（package包全名）</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">Packages</span>]<span class="comment"># rpm -ql httpd</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">Packages</span>]<span class="comment"># rpm -qlp zip-3.0-1.el6_7.1.x86_64.rpm    </span></span><br><span class="line"><span class="comment"># -p 查询未安装的包信息，如果安装，则会装到查询出来的位置中</span></span><br></pre></td></tr></table></figure>

<h5 id="查询文件系统属于哪个RPM包"><a href="#查询文件系统属于哪个RPM包" class="headerlink" title="查询文件系统属于哪个RPM包"></a>查询文件系统属于哪个RPM包</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>rpm -qf 系统文件名</code></td>
<td align="center">查询文件系统属于哪个RPM包</td>
<td align="center"><code>-f</code></td>
<td align="center">查询系统文件属于哪个软件包（file）</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">Packages</span>]<span class="comment"># rpm -qf /var/www/icons/small/tar.gif</span></span><br><span class="line">httpd<span class="literal">-2</span>.<span class="number">2.15</span><span class="literal">-53</span>.el6.centos.x86_64</span><br></pre></td></tr></table></figure>

<h5 id="查询软件包的依赖性"><a href="#查询软件包的依赖性" class="headerlink" title="查询软件包的依赖性"></a>查询软件包的依赖性</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>rpm -qR 包名</code></td>
<td align="center">查询软件包的依赖性</td>
<td align="center"><code>-R</code></td>
<td align="center">查询软件包的依赖性（requires）</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><code>-p</code></td>
<td align="center">查询未安装包信息（package包全名）</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">Packages</span>]<span class="comment"># rpm -qR httpd  # 以下包必须全部安装完才能安装httpd包</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> <span class="type">Packages</span>]<span class="comment"># rpm -qRp zip-3.0-1.el6_7.1.x86_64.rpm   # -p查询未安装包信息，如果安装，则需要安装以下包</span></span><br></pre></td></tr></table></figure>



<h5 id="RPM包校验"><a href="#RPM包校验" class="headerlink" title="RPM包校验"></a>RPM包校验</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>rpm -V 已安装的包名</code></td>
<td align="center">RPM包校验</td>
<td align="center"><code>-V</code></td>
<td align="center">校验指定RPM包中的文件（verify）</td>
</tr>
</tbody></table>
<p>验证内容中的8个信息的具体内容如下:</p>
<table>
<thead>
<tr>
<th align="center">选项</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">S</td>
<td align="center">文件大小是否改变</td>
<td align="center">M</td>
<td align="center">文件的类型或文件的权限(rwx)是否被改变</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">文件MD5校验和是否改变(可以看成文件内容是否改变)</td>
<td align="center">D</td>
<td align="center">设备的中,从代码是否改变</td>
</tr>
<tr>
<td align="center">L</td>
<td align="center">文件路径是否改变</td>
<td align="center">U</td>
<td align="center">文件的属主(所有者)是否改变</td>
</tr>
<tr>
<td align="center">G</td>
<td align="center">文件的属组是否改变</td>
<td align="center">T</td>
<td align="center">文件的修改时间是否改变</td>
</tr>
</tbody></table>
<p>文件类型：</p>
<table>
<thead>
<tr>
<th align="center">选项</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">c</td>
<td align="center">配置文件( config file)</td>
<td align="center">d</td>
<td align="center">普通文档( documentation)</td>
</tr>
<tr>
<td align="center">g</td>
<td align="center">“鬼”文件( ghost file),很少见,就是该文件不应该被这个RPM包包含</td>
<td align="center">l</td>
<td align="center">授权文件( license file</td>
</tr>
<tr>
<td align="center">r</td>
<td align="center">描述文件( read me)</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># rpm -V httpd   # 无任何提示说明是初始安装，无任何的修改</span></span><br></pre></td></tr></table></figure>


<h5 id="RPM包中文件提取"><a href="#RPM包中文件提取" class="headerlink" title="RPM包中文件提取"></a>RPM包中文件提取</h5><p><code>rpm2cpio 全包名 | cpio -idv . 文件绝对路径</code> </p>
<p><code>rpm2cpio</code> 将rmp包转换为cpio格式的命令</p>
<p>cpio是一个标准工具，他用于创建软件档案文件和从档案文件中提取文件</p>
<table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>cpio 选项&lt;文件或设备&gt;</code></td>
<td align="center"></td>
<td align="center"><code>-i</code></td>
<td align="center">copy-in模式，还原</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><code>-d</code></td>
<td align="center">还原时自动新建目录</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><code>-v</code></td>
<td align="center">显示还原过程</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># rpm -qf /bin/ls  #查询ls命令属于哪个软件包</span></span><br><span class="line">coreutils<span class="literal">-8</span>.<span class="number">4</span><span class="literal">-43</span>.el6.x86_64</span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># mv /bin/ls /tmp/  # 造成ls命令误删除假象</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># ls</span></span><br><span class="line"><span class="literal">-bash</span>: <span class="built_in">ls</span>: command not found</span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># rpm2cpio /mnt/cdrom/Packages/coreutils-8.4-43.el6.x86_64.rpm | cpio -idv ./bin/ls  #提取rpm包中ls命令到当前目录的/bin/ls下</span></span><br><span class="line">./bin/<span class="built_in">ls</span></span><br><span class="line"><span class="number">25240</span> 块</span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># cp /root/bin/ls /bin/  # 把ls命令复制到/bin/目录，修复文件丢失</span></span><br></pre></td></tr></table></figure>

<h4 id="yum在线管理"><a href="#yum在线管理" class="headerlink" title="yum在线管理"></a>yum在线管理</h4><h5 id="IP地址配置和网络yum源"><a href="#IP地址配置和网络yum源" class="headerlink" title="IP地址配置和网络yum源"></a>IP地址配置和网络yum源</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># setup</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># vi /etc/sysconfig/network-scripts/ifcfg-eth0</span></span><br><span class="line"></span><br><span class="line">DEVICE=eth0</span><br><span class="line">HWADDR=<span class="number">00</span>:<span class="number">0</span>c:<span class="number">29</span>:b3:fb:<span class="number">29</span></span><br><span class="line"><span class="built_in">TYPE</span>=Ethernet</span><br><span class="line">UUID=<span class="number">742</span>f9267<span class="literal">-2297</span><span class="literal">-45d1</span><span class="literal">-b7ad</span><span class="literal">-cd00f88779d6</span></span><br><span class="line">ONBOOT=yes     <span class="comment">#这里将ONBOOT改为yes</span></span><br><span class="line">NM_CONTROLLED=yes</span><br><span class="line">BOOTPROTO=none</span><br><span class="line">IPADDR=<span class="number">192.168</span>.<span class="number">88.128</span></span><br><span class="line">NETMASK=<span class="number">255.255</span>.<span class="number">255.0</span></span><br><span class="line">GATEWAY=<span class="number">192.168</span>.<span class="number">1.1</span></span><br><span class="line">DNS1=<span class="number">202.106</span>.<span class="number">0.20</span></span><br><span class="line">USERCTL=no</span><br><span class="line">PEERDNS=yes</span><br><span class="line">IPV6INIT=no</span><br><span class="line"></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># service network restart # 重启服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># ifconfig</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ping www.baidu.com</span></span><br></pre></td></tr></table></figure>

<p>选择网络配置<br><img src="https://cdn.lianjinquan.com/img/posts/linux/02/linux01.png"><br>选择设备配置<br><img src="https://cdn.lianjinquan.com/img/posts/linux/02/linux02.png"><br>选择第一个网卡<br><img src="https://cdn.lianjinquan.com/img/posts/linux/02/linux03.png"><br>设置网络信息<br><img src="https://cdn.lianjinquan.com/img/posts/linux/02/linux04.png"></p>
<h5 id="网络yum源"><a href="#网络yum源" class="headerlink" title="网络yum源"></a>网络yum源</h5><table>
<thead>
<tr>
<th align="center">选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>[base]</code></td>
<td>容器名称，一定要放在[]中</td>
</tr>
<tr>
<td align="center"><code>name</code></td>
<td>容器说明，可以自己随便写</td>
</tr>
<tr>
<td align="center"><code>mirrorlist</code></td>
<td>镜像站点，这个可以注释掉</td>
</tr>
<tr>
<td align="center"><code>baseurl</code></td>
<td>我们的yum源服务器的地址。默认是CentOS的官方的yum源服务器，是可以使用的，如果觉得慢可以改成你喜欢的yum镜像源地址</td>
</tr>
<tr>
<td align="center"><code>enabled</code></td>
<td>此容器是否生效，如果不写或者写成<code>enable=1</code>都是生效的，写成<code>enable=0</code>就是不生效</td>
</tr>
<tr>
<td align="center"><code>gpgcheck</code></td>
<td>如果1是指RPM的数字证书生效，如果是0则不生效</td>
</tr>
<tr>
<td align="center"><code>gpgkey</code></td>
<td>数字证书的公钥文件保存位置。不用修改</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cd /etc/yum.repos.d/</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">yum.repos.d</span>]<span class="comment"># ls</span></span><br><span class="line">CentOs<span class="literal">-Base</span>.repo  CentOS<span class="literal">-Base</span>.repo  CentOS<span class="literal">-Debuginfo</span>.repo  CentOS<span class="literal">-fasttrack</span>.repo  CentOS<span class="literal">-Media</span>.repo  CentOS<span class="literal">-Vault</span>.repo</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">yum.repos.d</span>]<span class="comment"># vi CentOs-Base.repo  # CentOS-Base.repo为网络yum源  CentOS-Media.repo为本地磁盘yum源</span></span><br><span class="line">[<span class="type">base</span>]</span><br><span class="line">name=CentOS-<span class="variable">$releasever</span></span><br><span class="line">enabled=<span class="number">1</span></span><br><span class="line">failovermethod=priority</span><br><span class="line">baseurl=http://mirrors.cloud.aliyuncs.com/centos/<span class="variable">$releasever</span>/os/<span class="variable">$basearch</span>/</span><br><span class="line">gpgcheck=<span class="number">1</span></span><br><span class="line">gpgkey=http://mirrors.cloud.aliyuncs.com/centos/RPM<span class="literal">-GPG</span><span class="literal">-KEY</span><span class="literal">-CentOS</span><span class="literal">-7</span></span><br><span class="line"></span><br><span class="line">[<span class="type">updates</span>]</span><br><span class="line">name=CentOS-<span class="variable">$releasever</span></span><br><span class="line">enabled=<span class="number">1</span></span><br><span class="line">failovermethod=priority</span><br><span class="line">baseurl=http://mirrors.cloud.aliyuncs.com/centos/<span class="variable">$releasever</span>/updates/<span class="variable">$basearch</span>/</span><br><span class="line">gpgcheck=<span class="number">1</span></span><br><span class="line">gpgkey=http://mirrors.cloud.aliyuncs.com/centos/RPM<span class="literal">-GPG</span><span class="literal">-KEY</span><span class="literal">-CentOS</span><span class="literal">-7</span></span><br><span class="line"></span><br><span class="line">[<span class="type">extras</span>]</span><br><span class="line">name=CentOS-<span class="variable">$releasever</span></span><br><span class="line">enabled=<span class="number">1</span></span><br><span class="line">failovermethod=priority</span><br><span class="line">baseurl=http://mirrors.cloud.aliyuncs.com/centos/<span class="variable">$releasever</span>/extras/<span class="variable">$basearch</span>/</span><br><span class="line">gpgcheck=<span class="number">1</span></span><br><span class="line">gpgkey=http://mirrors.cloud.aliyuncs.com/centos/RPM<span class="literal">-GPG</span><span class="literal">-KEY</span><span class="literal">-CentOS</span><span class="literal">-7</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">yum.repos.d</span>]<span class="comment"># less CentOs-Base.repo</span></span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>]+  Stopped                 less CentOs<span class="literal">-Base</span>.repo </span><br></pre></td></tr></table></figure>

<h5 id="查询所有可用软件包列表"><a href="#查询所有可用软件包列表" class="headerlink" title="查询所有可用软件包列表"></a>查询所有可用软件包列表</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>yum list</code></td>
<td align="center">查询所有可用软件包列表</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">iZuf64m2pjj5o9ggzbg1wxZ</span> <span class="type">yum.repos.d</span>]<span class="comment"># yum list   </span></span><br></pre></td></tr></table></figure>

<h5 id="搜索软件包"><a href="#搜索软件包" class="headerlink" title="搜索软件包"></a>搜索软件包</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>yum search [关键字(包名)] </code></td>
<td align="center">搜索服务器上所有和关键字相关的包</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">iZuf64m2pjj5o9ggzbg1wxZ</span> <span class="type">yum.repos.d</span>]<span class="comment"># yum search httpd</span></span><br></pre></td></tr></table></figure>


<h5 id="安装软件包"><a href="#安装软件包" class="headerlink" title="安装软件包"></a>安装软件包</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>yum -y install [包名]</code></td>
<td align="center"></td>
<td align="center"><code>install</code></td>
<td align="center">安装软件包</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><code>-y</code></td>
<td align="center">自动回答yes</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">iZuf64m2pjj5o9ggzbg1wxZ</span> <span class="type">yum.repos.d</span>]<span class="comment"># yum -y install gcc</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf64m2pjj5o9ggzbg1wxZ</span> <span class="type">yum.repos.d</span>]<span class="comment"># rpm -q gcc </span></span><br></pre></td></tr></table></figure>


<h5 id="升级软件包"><a href="#升级软件包" class="headerlink" title="升级软件包"></a>升级软件包</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>yum -y update [包名]</code></td>
<td align="center"></td>
<td align="center"><code>update</code></td>
<td align="center">升级软件包</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><code>-y</code></td>
<td align="center">自动回答yes</td>
</tr>
</tbody></table>
<h5 id="卸载软件包"><a href="#卸载软件包" class="headerlink" title="卸载软件包"></a>卸载软件包</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
<th align="center">选项</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>yum -y remove [包名]</code></td>
<td align="center"></td>
<td align="center"><code>remove</code></td>
<td align="center">卸载软件包</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"><code>-y</code></td>
<td align="center">自动回答yes</td>
</tr>
</tbody></table>
<h5 id="软件包列表"><a href="#软件包列表" class="headerlink" title="软件包列表"></a>软件包列表</h5><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>yum grouplist</code></td>
<td align="center">列出所有可用的软件组列表</td>
</tr>
<tr>
<td align="center"><code>yum groupinstall 软件组名</code></td>
<td align="center">安装指定软件组，组名可以由grouplist查询出来，如果组名之间有空格，用双引号扩起来</td>
</tr>
<tr>
<td align="center"><code>yum groupmove 软件组名</code></td>
<td align="center">卸载指定软件组</td>
</tr>
</tbody></table>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">iZuf64m2pjj5o9ggzbg1wxZ</span> ~]<span class="comment"># yum grouplist</span></span><br></pre></td></tr></table></figure>


<h5 id="光盘yum源搭建"><a href="#光盘yum源搭建" class="headerlink" title="光盘yum源搭建"></a>光盘yum源搭建</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># mount /dev/sr0 /mnt/cdrom  # 挂载光盘</span></span><br><span class="line"><span class="built_in">mount</span>: block device /dev/sr0 is <span class="built_in">write-protected</span>, mounting <span class="built_in">read-only</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cd /etc/yum.repos.d/ # 进入目录</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">yum.repos.d</span>]<span class="comment"># ls</span></span><br><span class="line">CentOS<span class="literal">-Base</span>.repo  CentOS<span class="literal">-Debuginfo</span>.repo  CentOS<span class="literal">-fasttrack</span>.repo  CentOS<span class="literal">-Media</span>.repo  CentOS<span class="literal">-Vault</span>.repo</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">yum.repos.d</span>]<span class="comment"># mv CentOS-Base.repo CentOS-Base.repo.bak   # 让网络yum源失效，把repo扩展名名字改了，只要不是以repo结尾就行</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">yum.repos.d</span>]<span class="comment"># mv CentOS-Debuginfo.repo CentOS-Debuginfo.repo.bak </span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">yum.repos.d</span>]<span class="comment"># mv CentOS-fasttrack.repo CentOS-fasttrack.repo.bak </span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">yum.repos.d</span>]<span class="comment"># mv CentOS-Vault.repo CentOS-Vault.repo.bak </span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">yum.repos.d</span>]<span class="comment"># ls  # 目前只有光盘yum源CentOS-Media.repo生效</span></span><br><span class="line">CentOS<span class="literal">-Base</span>.repo.bak  CentOS<span class="literal">-Debuginfo</span>.repo.bak  CentOS<span class="literal">-fasttrack</span>.repo.bak  CentOS<span class="literal">-Media</span>.repo  CentOS<span class="literal">-Vault</span>.repo.bak</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">yum.repos.d</span>]<span class="comment"># vim CentOS-Media.repo   #修改光盘yum源文件</span></span><br><span class="line">[<span class="type">c6</span>-<span class="type">media</span>]</span><br><span class="line">name=CentOS-<span class="variable">$releasever</span> - Media</span><br><span class="line">baseurl=file:///mnt/cdrom/      <span class="comment">#这里改为 mnt/cdrom 地址为你自己的光盘挂载地址</span></span><br><span class="line"><span class="comment">#        file:///media/cdrom/      # 注释掉这个不存在的地址</span></span><br><span class="line"><span class="comment">#        file:///media/cdrecorder/ # 注释掉这个不存在的地址</span></span><br><span class="line">gpgcheck=<span class="number">1</span></span><br><span class="line">enabled=<span class="number">1</span>                           <span class="comment"># 把enabled=0改为enabled=1，让这个yum源配置文件生效</span></span><br><span class="line">gpgkey=file:///etc/pki/rpm<span class="literal">-gpg</span>/RPM<span class="literal">-GPG</span><span class="literal">-KEY</span><span class="literal">-CentOS</span><span class="literal">-6</span></span><br></pre></td></tr></table></figure>

<h3 id="源码包管理"><a href="#源码包管理" class="headerlink" title="源码包管理"></a>源码包管理</h3><h4 id="源码包和RPM包的区别"><a href="#源码包和RPM包的区别" class="headerlink" title="源码包和RPM包的区别"></a>源码包和RPM包的区别</h4><ol>
<li><p>区别<br>安装之前的区别：概念上的区别<br>安装之后的区别：安装位置不同</p>
</li>
<li><p>RPM包默认安装路径，是安装在默认位置中</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">RPM包默认安装路径</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>/etc/</code></td>
<td align="center">配置文件安装目录</td>
</tr>
<tr>
<td align="center"><code>/usr/bin/</code></td>
<td align="center">可执行的命令安装目录</td>
</tr>
<tr>
<td align="center"><code>/usr/lib/</code></td>
<td align="center">程序所使用的函数库保存位置</td>
</tr>
<tr>
<td align="center"><code>/usr/share/doc/</code></td>
<td align="center">基本的软件使用手册保存位置</td>
</tr>
<tr>
<td align="center"><code>/usr/share/man/</code></td>
<td align="center">帮助文件保存位置</td>
</tr>
</tbody></table>
</li>
<li><p>源码包安装位置<br>安装在指定位置当中，一般是<code>/usr/local/软件名/</code></p>
</li>
<li><p>安装位置不同带来的影响<br>RPM包安装的服务可以使用系统服务管理命令(service)来管理，而源码包安装的服务则不能被服务管理命令管理,因为没有安装到默认路径中。所以只能用绝对路径进行服务的管理，例如RPM包安装的Apache的启动方法是：</p>
</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cd /etc/rc.d/init.d/</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">init.d</span>]<span class="comment"># ls</span></span><br><span class="line">abrt<span class="literal">-ccpp</span>     certmonger  httpd         messagebus      oddjobd      rpcgssd     snmptrapd</span><br><span class="line">abrtd         cpuspeed    ip6tables     netconsole      portreserve  rpcidmapd   spice<span class="literal">-vdagentd</span></span><br><span class="line">abrt<span class="literal">-oops</span>     crond       iptables      netfs           postfix      rpcsvcgssd  sshd</span><br><span class="line">acpid         cups        irqbalance    network         psacct       rsyslog     sssd</span><br><span class="line">atd           dnsmasq     kdump         NetworkManager  quota_nld    sandbox     sysstat</span><br><span class="line">auditd        firstboot   killall       nfs             rdisc        saslauthd   udev<span class="literal">-post</span></span><br><span class="line">autofs        functions   lvm2<span class="literal">-lvmetad</span>  nfslock         restorecond  single      wdaemon</span><br><span class="line">avahi<span class="literal">-daemon</span>  haldaemon   lvm2<span class="literal">-monitor</span>  ntpd            rngd         smartd      wpa_supplicant</span><br><span class="line">bluetooth     halt        mdmonitor     ntpdate         rpcbind      snmpd       ypbind</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">init.d</span>]<span class="comment"># /etc/rc.d/init.d/httpd start  #使用绝对路径启动apache</span></span><br><span class="line">正在启动 httpd：  </span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">init.d</span>]<span class="comment"># service httpd restart  #使用service启动apache</span></span><br><span class="line">停止 httpd：                                               [确定]</span><br><span class="line">正在启动 httpd：                                           [确定]</span><br></pre></td></tr></table></figure>

<h4 id="源码包安装过程"><a href="#源码包安装过程" class="headerlink" title="源码包安装过程"></a>源码包安装过程</h4><ol>
<li><p>安装准备</p>
<ul>
<li>安装C语言编译器</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># yum -y install gcc # 安装gcc</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># rpm -q gcc</span></span><br><span class="line">gcc<span class="literal">-4</span>.<span class="number">8.5</span><span class="literal">-44</span>.el7.x86_64</span><br></pre></td></tr></table></figure>

<ul>
<li>下载源码包<code>http://mirror.bit.edu.cn/apache/httpd/</code>,下载httpd-2.4.46.tar.gz<br><img src="https://cdn.lianjinquan.com/img/posts/linux/03/linux01.png"></li>
</ul>
</li>
<li><p>安装注意事项</p>
<ul>
<li>源码包保存位置：<code>/usr/local/src</code></li>
<li>软件安装位置：<code>/usr/local</code></li>
<li>如何确定安装过程报错：安装过程停止，并出现error，warning或者no提示，即发生错误</li>
</ul>
</li>
<li><p>安装</p>
<ul>
<li>使用winscp上传httpd-2.4.46.tar.gz<br><img src="https://cdn.lianjinquan.com/img/posts/linux/03/linux02.png"></li>
<li>解压下载到源码包</li>
</ul>
</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># tar -axvf httpd-2.4.46.tar.gz  # 解压缩</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># cd httpd-2.4.46 # 进入解压目录</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">httpd</span>-<span class="number">2.4</span><span class="type">.46</span>]<span class="comment"># ls</span></span><br><span class="line">ABOUT_APACHE     BuildAll.dsp    configure.in  include         LICENSE        README            test</span><br><span class="line">acinclude.m4     BuildBin.dsp    docs          INSTALL         Makefile.in    README.cmake      VERSIONING</span><br><span class="line">Apache<span class="literal">-apr2</span>.dsw  buildconf       emacs<span class="literal">-style</span>   InstallBin.dsp  Makefile.win   README.platforms</span><br><span class="line">Apache.dsw       CHANGES         httpd.dep     LAYOUT          modules        ROADMAP</span><br><span class="line">apache_probes.d  CMakeLists.txt  httpd.dsp     libhttpd.dep    NOTICE         server</span><br><span class="line">ap.d             config.layout   httpd.mak     libhttpd.dsp    NWGNUmakefile  srclib</span><br><span class="line">build            configure       httpd.spec    libhttpd.mak    os             support</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p><code>./config</code>软件配置与检测</p>
<ul>
<li>定义需要的功能选项。</li>
<li>检测系统环境是否符合安装要求</li>
<li>把定义好的功能选项和检测系统环境的信息都写入Makefile文件，用于后续的编辑。</li>
</ul>
</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">httpd</span>-<span class="number">2.4</span><span class="type">.46</span>]<span class="comment"># ./configure --prefix=/usr/local/apache2.4 --with-apr=/usr/local/apr --with-apr-util=/usr/local/apr-util --with-pcre=/usr/local/pcre</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">httpd</span>-<span class="number">2.4</span><span class="type">.46</span>]<span class="comment"># make # 编译</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">httpd</span>-<span class="number">2.4</span><span class="type">.46</span>]<span class="comment"># make install #编译安装</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">httpd</span>-<span class="number">2.4</span><span class="type">.46</span>]<span class="comment"># /usr/local/apache2.4/bin/apachectl start #启动</span></span><br></pre></td></tr></table></figure>

<p>启动后访问：<br><img src="https://cdn.lianjinquan.com/img/posts/linux/03/linux03.png"></p>
<ol start="5">
<li>安装报错APR not found解决办法</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># wget http://archive.apache.org/dist/apr/apr-1.4.5.tar.gz #下载包</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># tar -zxf apr-1.4.5.tar.gz</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># cd apr-1.4.5</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">apr</span>-<span class="number">1.4</span><span class="type">.5</span>]<span class="comment"># ./configure --prefix=/usr/local/apr </span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">apr</span>-<span class="number">1.4</span><span class="type">.5</span>]<span class="comment"># make</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">apr</span>-<span class="number">1.4</span><span class="type">.5</span>]<span class="comment"># make install</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># wget http://archive.apache.org/dist/apr/apr-util-1.3.12.tar.gz</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># tar -zxf apr-util-1.3.12.tar.gz</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># cd apr-util-1.3.12</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">apr</span>-<span class="type">util</span>-<span class="number">1.3</span><span class="type">.12</span>]<span class="comment"># ./configure --prefix=/usr/local/apr-util --with-apr=/usr/local/apr </span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">apr</span>-<span class="type">util</span>-<span class="number">1.3</span><span class="type">.12</span>]<span class="comment"># make</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">apr</span>-<span class="type">util</span>-<span class="number">1.3</span><span class="type">.12</span>]<span class="comment"># make install</span></span><br><span class="line"></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># wget http://jaist.dl.sourceforge.net/project/pcre/pcre/8.10/pcre-8.10.zip</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># unzip -o pcre-8.10.zip</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># cd pcre-8.10</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">pcre</span>-<span class="number">8.10</span>]<span class="comment"># ./configure --prefix=/usr/local/pcre</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">pcre</span>-<span class="number">8.10</span>]<span class="comment"># make</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">pcre</span>-<span class="number">8.10</span>]<span class="comment"># make install</span></span><br></pre></td></tr></table></figure>

<ol start="6">
<li>安装报错pcre-config for libpcre not found<br>执行以下命令：</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># yum -y install pcre-devel</span></span><br></pre></td></tr></table></figure>

<ol start="7">
<li>此次安装的文件如下<br><img src="https://cdn.lianjinquan.com/img/posts/linux/03/linux04.png"></li>
</ol>
<h4 id="脚本安装包与软件包选择"><a href="#脚本安装包与软件包选择" class="headerlink" title="脚本安装包与软件包选择"></a>脚本安装包与软件包选择</h4><ol>
<li><p>脚本安装包</p>
<ul>
<li>脚本安装包并不是独立的软件包类型，常见安装的是源码包。</li>
<li>是人为把安装过程写成了自动安装的脚本，只要执行脚本，定义简单的参数，就可以完成安装。</li>
<li>非常类似于Windows下软件的安装方式</li>
</ul>
</li>
<li><p>Webmin的作用<br>Webmin是一个基于Web的 Linux系统管理界面。您就可以通过图形化的方式设置用户帐号、 Apache、DNS、文件共享等服务。</p>
</li>
<li><p>Webmin安装过程</p>
<ul>
<li>下载地址：<code>https://sourceforge.net/projects/webadmin/files/webmin/</code>，下载webmin-1.962.tar.gz<br><img src="https://cdn.lianjinquan.com/img/posts/linux/03/linux05.png"></li>
<li>使用winscp上传到/root/目录下</li>
<li>安装</li>
</ul>
</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># tar -zxvf webmin-1.962.tar.gz</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> ~]<span class="comment"># cd webmin-1.962</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">iZuf6fhk4slpwaz2668zqyZ</span> <span class="type">webmin</span>-<span class="number">1.962</span>]<span class="comment"># ./setup.sh  #一路回车即可</span></span><br><span class="line">Web server port (default <span class="number">10000</span>): </span><br><span class="line">Login name (default admin): admin  <span class="comment">#这里admin</span></span><br><span class="line">Login password:     <span class="comment">#密码这里设置123</span></span><br><span class="line">Password again: </span><br><span class="line">The Perl SSLeay library is not installed. SSL not available.</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>阿里云安全组规则中新增入方向为10000/10000<br><img src="https://cdn.lianjinquan.com/img/posts/linux/03/linux06.png"></li>
<li>登录<br><img src="https://cdn.lianjinquan.com/img/posts/linux/03/linux08.png"><br><img src="https://cdn.lianjinquan.com/img/posts/linux/03/linux07.png"><br><img src="https://cdn.lianjinquan.com/img/posts/linux/03/linux09.png"></li>
</ol>
<h3 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h3><h4 id="用户信息文件-etc-passwd"><a href="#用户信息文件-etc-passwd" class="headerlink" title="用户信息文件/etc/passwd"></a>用户信息文件/etc/passwd</h4><ol>
<li><p>越是对服务器安全性要求高的服务器，越需要建立合理的用户权限登记制度和服务器操作规范，在Linux中主要是通过用户配置文件来查看和修改用户信息</p>
</li>
<li><p>/etc/passwd</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># man 5 passwd    # 查看passwd配置文件帮助信息 5代表配置文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># vim /etc/passwd # 查看passwd文件内容</span></span><br><span class="line">root:x:<span class="number">0</span>:<span class="number">0</span>:root:/root:/bin/bash</span><br><span class="line">vcsa:x:<span class="number">69</span>:<span class="number">69</span>:virtual console memory owner:/dev:/sbin/nologin</span><br><span class="line">tcpdump:x:<span class="number">72</span>:<span class="number">72</span>::/:/sbin/nologin</span><br></pre></td></tr></table></figure>

<p>passwd配置文件分为七个字段：<code>root:x:0:0:root:/root:/bin/bash</code></p>
<ul>
<li><p>第一个字段：用户名称</p>
</li>
<li><p>第二个字段：密码标志 x代表用户有密码，真正的密码放在/etc/shadow里，它里面进行了SHA512加密，如果没有x，代表没有密码，只能进行本地登陆，远程登陆会被禁止，SHA协议禁止</p>
</li>
<li><p>第三个字段：UID（用户ID）</p>
<table>
<thead>
<tr>
<th>用户id</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>超级用户</td>
</tr>
<tr>
<td>1-499</td>
<td>系统用户（伪用户）</td>
</tr>
<tr>
<td>500-65535</td>
<td>普通用户</td>
</tr>
</tbody></table>
</li>
<li><p>第四个字段：GID（用户初始组ID）</p>
<p>初始组：就是指用户一登陆就立刻拥有这个用户组的相关权限，每个用户的初始组只能有一个，一般就是和这个用户的用户名相同的组名作为这个用户的初始组<br>附加组：指用户可以加入多个其他的用户组，并拥有这些组的权限，附加组可以有多个</p>
</li>
<li><p>第五个字段：用户说明</p>
</li>
<li><p>第六个字段：家目录</p>
<p>普通用户：/home/用户名/<br>超级用户：/root/</p>
</li>
<li><p>第七个字段：登陆之后的Shell</p>
<p>Shell就是Linux的命令解释器，在/etc/passwd当中，除了标准Shell是/bin/bash之外。还可以写如/sbin/nologin，普通用户全为/sbin/nologin。/bin/bash为可以登陆，/sbin/nologin为禁止登陆，修改之后便可以禁止普通用户登陆</p>
</li>
</ul>
</li>
</ol>
<h4 id="影子文件-etc-shadow"><a href="#影子文件-etc-shadow" class="headerlink" title="影子文件/etc/shadow"></a>影子文件/etc/shadow</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># vim /etc/shadow</span></span><br><span class="line">root:<span class="variable">$6</span><span class="variable">$fSPFTuqP4WOQ2DKs</span><span class="variable">$BYsNI13</span>/ZsDqCm9/qy9rVb4LUCBD7Ur7gzpBT5Ei3iP5ZqjZZiIu4NdBLlV1Ac4wUcIqizy1qPKQe3HAQjBiB/:<span class="number">18597</span>:<span class="number">0</span>:<span class="number">99999</span>:<span class="number">7</span>:::</span><br><span class="line">bin:*:<span class="number">15980</span>:<span class="number">0</span>:<span class="number">99999</span>:<span class="number">7</span>:::</span><br><span class="line">daemon:*:<span class="number">15980</span>:<span class="number">0</span>:<span class="number">99999</span>:<span class="number">7</span>:::</span><br><span class="line">pulse:!!:<span class="number">18597</span>::::::</span><br></pre></td></tr></table></figure>



<p>Shadow配置文件分为个字段：</p>
<ul>
<li><p>第一个字段：用户名</p>
</li>
<li><p>第二个字段：加密算法<br>加密算法升级为SHA512散列加密算法，如果密码是<code>!!</code>或者<code>0</code>代表没有密码，不能登陆，可以用感叹号禁用用户密码</p>
</li>
<li><p>第三个字段：密码最后一次修改日期<br>使用1970年1月1日作为标准时间，每过一天时间戳加1</p>
<p>时间戳换算：date -d “1970-01-01 [时间戳] days”</p>
<p>日期换算时间戳：echo $(($(date –date=“年/月/日” +%s)/[时间戳]+1))</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# date -d &quot;1970-01-01 16066 days&quot;  #时间戳换算日期 16066是时间戳</span><br><span class="line">2013年 12月 27日 星期五 00:00:00 CST</span><br><span class="line">[root@192 ~]# echo $(($(date --date=&quot;2014/01/06&quot; +%s)/86400+1)) # 日期换算时间戳</span><br><span class="line">16076</span><br></pre></td></tr></table></figure>
</li>
<li><p>第四个字段：两次密码的修改时间间隔时间（和第三个字段相比）</p>
</li>
<li><p>第五个字段：密码有效期（和第三个字段相比）</p>
</li>
<li><p>第六个字段：密码修改到期前的警告天数（和第五个字段相比）</p>
</li>
<li><p>第七个字段：密码过期后的宽限天数（和第五个字段相比）<br>0：代表密码过期后立即失效<br>-1：代表密码永远不会失效</p>
</li>
<li><p>第八个字段：账号失效时间<br>要用时间戳表示</p>
</li>
<li><p>第九个字段：保留</p>
</li>
</ul>
<h4 id="组信息文件-etc-group"><a href="#组信息文件-etc-group" class="headerlink" title="组信息文件/etc/group"></a>组信息文件/etc/group</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># vim /etc/group</span></span><br><span class="line">root:x:<span class="number">0</span>:</span><br><span class="line">bin:x:<span class="number">1</span>:bin,daemon</span><br><span class="line">daemon:x:<span class="number">2</span>:bin,daemon</span><br><span class="line">sys:x:<span class="number">3</span>:bin,adm</span><br><span class="line">adm:x:<span class="number">4</span>:adm,daemon</span><br></pre></td></tr></table></figure>



<p>组文件信息配置文件分4个字段：</p>
<p>第一个字段：组名<br>第二个字段：组密码标志<br>第三个字段：GID<br>第四个字段：组中附加用户</p>
<h4 id="组密码文件-etc-gshadow"><a href="#组密码文件-etc-gshadow" class="headerlink" title="组密码文件/etc/gshadow"></a>组密码文件/etc/gshadow</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># vim /etc/gshadow</span></span><br><span class="line">root:::</span><br><span class="line">bin:::bin,daemon</span><br><span class="line">daemon:::bin,daemon</span><br><span class="line">sys:::bin,adm</span><br><span class="line">adm:::adm,daemon</span><br><span class="line">tty:::</span><br></pre></td></tr></table></figure>



<p>组密码文件配置文件分4个字段：</p>
<p>第一个字段：组名<br>第二个字段：组密码<br>第三个字段：组管理员用户名<br>第四个字段：组中附加用户</p>
<h3 id="用户管理相关文件"><a href="#用户管理相关文件" class="headerlink" title="用户管理相关文件"></a>用户管理相关文件</h3><h4 id="用户的家目录-home"><a href="#用户的家目录-home" class="headerlink" title="用户的家目录/home/"></a>用户的家目录/home/</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ll /home/</span></span><br><span class="line">总用量 <span class="number">24</span></span><br><span class="line">drwx------. <span class="number">2</span> root     root     <span class="number">16384</span> <span class="number">12</span>月  <span class="number">2</span> <span class="number">05</span>:<span class="number">14</span> lost+found</span><br><span class="line">drwx------. <span class="number">4</span> yangmi   yangmi    <span class="number">4096</span> <span class="number">12</span>月  <span class="number">8</span> <span class="number">10</span>:<span class="number">13</span> yangmi</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ll -d /root/</span></span><br><span class="line">dr<span class="literal">-xr</span><span class="literal">-x</span>---. <span class="number">34</span> root root <span class="number">4096</span> <span class="number">12</span>月 <span class="number">21</span> <span class="number">08</span>:<span class="number">52</span> /root/</span><br></pre></td></tr></table></figure>



<p>普通用户：/home/用户名/，所有者和所属组都是此用户，权限是700<br>超级用户：/root/，所有者和所属组都是root用户，权限是550<br>普通用户变为超级用户家目录不会变</p>
<h4 id="用户的邮箱-var-spool-mail"><a href="#用户的邮箱-var-spool-mail" class="headerlink" title="用户的邮箱/var/spool/mail/"></a>用户的邮箱/var/spool/mail/</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># cd /var/spool/mail/</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">mail</span>]<span class="comment"># ls  #/var/spool/mail/用户名/</span></span><br><span class="line">root  rpc   yangmi</span><br></pre></td></tr></table></figure>

<h4 id="用户模板目录-etc-skel"><a href="#用户模板目录-etc-skel" class="headerlink" title="用户模板目录/etc/skel"></a>用户模板目录/etc/skel</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">yangmi</span>]<span class="comment"># cd /etc/skel/ #进入用户模板目录</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">skel</span>]<span class="comment"># vi warning.txt #在用户模板目录里面新加一个文件warning.txt</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">skel</span>]<span class="comment"># ls -a #用户模板目录里面有warning.txt文件</span></span><br><span class="line">.  ..  .bash_logout  .bash_profile  .bashrc  .gnome2  .mozilla  warning.txt</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">skel</span>]<span class="comment"># useradd user1 #添加新用户user1</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">skel</span>]<span class="comment"># passwd user1 #给用户user1设置密码</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">skel</span>]<span class="comment"># cd /home/user1/</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> <span class="type">user1</span>]<span class="comment"># ls -a #用户user1的家目录中也有warning.txt文件</span></span><br><span class="line">.  ..  .bash_logout  .bash_profile  .bashrc  .gnome2  .mozilla  warning.txt</span><br></pre></td></tr></table></figure>



<p>在/etc/skel里创建了文件的话，在创建新用户时会自动出现在新用户家目录的默认隐藏信息里（用于写警告信息）</p>
<h3 id="用户管理-1"><a href="#用户管理-1" class="headerlink" title="用户管理"></a>用户管理</h3><h4 id="添加新用户useradd"><a href="#添加新用户useradd" class="headerlink" title="添加新用户useradd"></a>添加新用户useradd</h4><table>
<thead>
<tr>
<th align="left">语法</th>
<th>说明</th>
<th>选项</th>
<th>选项说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">useradd [选项] 用户名</td>
<td>添加新用户</td>
<td>-u UID</td>
<td>手工指定用户的UID号</td>
</tr>
<tr>
<td align="left"></td>
<td></td>
<td>-d 家目录</td>
<td>手工指定用户的家目录</td>
</tr>
<tr>
<td align="left"></td>
<td></td>
<td>-c 用户说明</td>
<td>手工指定用户的说明</td>
</tr>
<tr>
<td align="left"></td>
<td></td>
<td>-g 组名</td>
<td>手工指定用户的初始组</td>
</tr>
<tr>
<td align="left"></td>
<td></td>
<td>-G 组名</td>
<td>指定用户的附加组</td>
</tr>
<tr>
<td align="left"></td>
<td></td>
<td>-s shell</td>
<td>手工指定</td>
</tr>
</tbody></table>
<p>用户的登陆shell。默认是/bin/bash，passwd，shadow，group，gshadow，home，mail里面都有新用户信息</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># useradd user # 添加新用户user</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># passwd user  # 设置密码</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># grep user /etc/passwd </span></span><br><span class="line">user:x:<span class="number">503</span>:<span class="number">504</span>::/home/user:/bin/bash</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># grep user /etc/shadow </span></span><br><span class="line">user:<span class="variable">$6</span><span class="variable">$XSmOILya</span><span class="variable">$2F0UXlwx54wJerNRNz6xY0quG5ou2gGocowLGli71Dqy1N</span>.<span class="number">4</span>iGJDMa/XfiFxQrV1.MVSsweHOVStQug3pgeg60:<span class="number">18617</span>:<span class="number">0</span>:<span class="number">99999</span>:<span class="number">7</span>:::</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># grep user /etc/group</span></span><br><span class="line">user:x:<span class="number">504</span>:</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># grep user /etc/gshadow</span></span><br><span class="line">user:!::</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ll -d /home/user/</span></span><br><span class="line">drwx------. <span class="number">4</span> user user <span class="number">4096</span> <span class="number">12</span>月 <span class="number">21</span> <span class="number">10</span>:<span class="number">27</span> /home/user/</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ll -d /var/spool/mail/user</span></span><br><span class="line"><span class="literal">-rw</span><span class="literal">-rw</span>----. <span class="number">1</span> user mail <span class="number">0</span> <span class="number">12</span>月 <span class="number">21</span> <span class="number">10</span>:<span class="number">27</span> /var/spool/mail/user</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># useradd -u 666 -G root,bin -c &quot;test user&quot; -d /liming -s /bin/bash liming</span></span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># grep liming /etc/passwd</span></span><br><span class="line">liming:x:<span class="number">666</span>:<span class="number">666</span>:test user:/liming:/bin/bash</span><br><span class="line">[<span class="type">root</span>@<span class="number">192</span> ~]<span class="comment"># ll -d /liming</span></span><br><span class="line">drwx------. <span class="number">4</span> liming liming <span class="number">4096</span> <span class="number">12</span>月 <span class="number">24</span> <span class="number">04</span>:<span class="number">04</span> /liming</span><br></pre></td></tr></table></figure>



<p><code>/etc/default/useradd</code>里面定义了建立用户的默认信息</p>
<table>
<thead>
<tr>
<th></th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>GROUP=100</td>
<td>用户默认组</td>
</tr>
<tr>
<td>HOME=/home</td>
<td>用户家目录</td>
</tr>
<tr>
<td>INACTIVE=-1</td>
<td>密码过期宽限天数（shadow文件第七个字段）</td>
</tr>
<tr>
<td>EXPIRE=</td>
<td>密码失效时间（shadow文件第八个字段）</td>
</tr>
<tr>
<td>SHELL=/bin/bash</td>
<td>默认shell</td>
</tr>
<tr>
<td>SKEL=/etc/skel</td>
<td>模板目录</td>
</tr>
<tr>
<td>CREATE_MALL_SPOOL=yes</td>
<td>是否建立邮箱</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# vim /etc/default/useradd</span><br><span class="line"><span class="meta">#</span><span class="bash"> useradd defaults file</span></span><br><span class="line">GROUP=100</span><br><span class="line">HOME=/home</span><br><span class="line">INACTIVE=-1</span><br><span class="line">EXPIRE=</span><br><span class="line">SHELL=/bin/bash</span><br><span class="line">SKEL=/etc/skel</span><br><span class="line">CREATE_MAIL_SPOOL=yes</span><br></pre></td></tr></table></figure>



<p><code>/etc/login.defs</code> </p>
<table>
<thead>
<tr>
<th></th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>PASS_MAX_DAYS 99999</td>
<td>密码有效期(shadow文件第五个字段)</td>
</tr>
<tr>
<td>PASS_MIN_DAYS 0</td>
<td>密码修改间隔(shadow文件第四个字段)</td>
</tr>
<tr>
<td>PASS_MIN_LEN 5</td>
<td>密码最小5位（PAM）现在为PAM生效，5位密码不生效</td>
</tr>
<tr>
<td>PASS_WARN_AGE 7</td>
<td>密码到期警告(shadow文件第六个字段）</td>
</tr>
<tr>
<td>UID_MIN 500</td>
<td>最小UID范围</td>
</tr>
<tr>
<td>GID_MAX 60000</td>
<td>最大UID范围</td>
</tr>
<tr>
<td>ENCRYPT_METHOD SHA512</td>
<td>加密模式</td>
</tr>
</tbody></table>
<h4 id="修改用户密码passwd"><a href="#修改用户密码passwd" class="headerlink" title="修改用户密码passwd"></a>修改用户密码passwd</h4><table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>passwd [选项] 用户名</td>
<td>修改用户密码</td>
<td>-S</td>
<td>查询用户密码的密码状态。仅root用户可以</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-l</td>
<td>暂时锁定用户。仅root用户可用</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-u</td>
<td>解锁用户。仅root用户可用</td>
</tr>
<tr>
<td></td>
<td></td>
<td>–stdin</td>
<td>可以通过管道符(|)输出的数据作为用户的密码</td>
</tr>
</tbody></table>
<p><code>passwd 用户名</code>  root用户给普通用户修改密码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd liming</span><br></pre></td></tr></table></figure>

<p>普通用户自己修改密码，例如使用liming用户登录修改密码，直接使用<code>passwd</code>，需要先确认密码后才能修改密码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure>

<p><code>passwd -S 用户名</code> 查询用户密码的密码状态，例如下面的查询，用户密码设定时间（2020-12-23），密码修改时间间隔（0），密码有效期（99999），警告时间（7），密码不失效（-1），实际显示的就是<code>/etc/shadow</code>文件信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# passwd -S liming</span><br><span class="line">liming PS 2020-12-23 0 99999 7 -1 (密码已设置，使用 SHA512 加密。)</span><br><span class="line">[root@192 ~]# cat /etc/shadow | grep liming</span><br><span class="line">liming:$6$0w2tQQRH$Eyjew7YZWX/s5s3XDrjpxkbbsnVBbulByFaZ7bfkSuuC/uPH9HfR.2lfmvRymMa3Z6vdvNTxsp8isr.0ip6.c/:18619:0:99999:7:::</span><br></pre></td></tr></table></figure>

<p><code>passwd -l 用户名</code>  锁定用户，查看shadow文件可以看出密码前有!!，表示这个用户被锁定了</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# passwd -l liming #</span><br><span class="line">锁定用户 liming 的密码 。</span><br><span class="line">passwd: 操作成功</span><br><span class="line">[root@192 ~]# vim /etc/shadow</span><br><span class="line">liming:!!$6$0w2tQQRH$Eyjew7YZWX/s5s3XDrjpxkbbsnVBbulByFaZ7bfkSuuC/uPH9HfR.2lfmvRymMa3Z6vdvNTxsp8isr.0ip6.c/:18619:0:99999:7:::</span><br></pre></td></tr></table></figure>

<p><code>passwd -u 用户名</code>  解锁用户，查看shadow文件可以看出密码前的!!被删除了，表示这个用户被解锁了</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]<span class="comment"># passwd -u  liming</span></span><br><span class="line">解锁用户 liming 的密码 。</span><br><span class="line">passwd: 操作成功</span><br><span class="line">[root@192 ~]<span class="comment"># vim /etc/shadow </span></span><br><span class="line">liming:<span class="variable">$6</span><span class="variable">$0w2tQQRH</span><span class="variable">$Eyjew7YZWX</span>/s5s3XDrjpxkbbsnVBbulByFaZ7bfkSuuC/uPH9HfR.2lfmvRymMa3Z6vdvNTxsp8isr.0ip6.c/:18619:0:99999:7:::</span><br></pre></td></tr></table></figure>



<p><code>echo &quot;123&quot; | passwd —stdin [用户名]</code> 使用字符串作为用户的密码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;123&quot; | passwd —stdin liming</span><br></pre></td></tr></table></figure>



<h4 id="修改用户信息usermod"><a href="#修改用户信息usermod" class="headerlink" title="修改用户信息usermod"></a>修改用户信息usermod</h4><table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>usermod [选项] 用户名</td>
<td>修改用户信息</td>
<td>-u UID</td>
<td>修改用户的UID号</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-c 用户说明</td>
<td>修改用户的说明信息</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-G 组名</td>
<td>修改用户的附加组</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-L</td>
<td>临时锁定用户（Lock）</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-U</td>
<td>解锁用户锁定（Unlock）</td>
</tr>
</tbody></table>
<p>以下例子修改用户liming的用户说明为my user，加入root附加组，修改的uid号为550</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# cat /etc/passwd</span><br><span class="line">liming:x:666:666:test user:/liming:/bin/bash</span><br><span class="line">[root@192 ~]# usermod -c &quot;my user&quot; -G root -u 550 liming</span><br><span class="line">[root@192 ~]# cat /etc/passwd</span><br><span class="line">liming:x:550:666:my user:/liming:/bin/bash</span><br></pre></td></tr></table></figure>

<p>锁定liming用户,此时<code>/etc/shadow </code>文件liming用户密码前多一个！</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# usermod -L liming</span><br><span class="line">[root@192 ~]# vim /etc/shadow </span><br><span class="line">liming:!$6$0w2tQQRH$Eyjew7YZWX/s5s3XDrjpxkbbsnVBbulByFaZ7bfkSuuC/uPH9HfR.2lfmvRymMa3Z6vdvNTxsp8isr.0ip6.c/:18619:0:99999:7:::</span><br></pre></td></tr></table></figure>

<p>解锁liming用户，此时<code>/etc/shadow</code> 文件liming用户密码前的！被删除</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# usermod -U liming</span><br><span class="line">[root@192 ~]# vim /etc/shadow </span><br><span class="line">liming:$6$0w2tQQRH$Eyjew7YZWX/s5s3XDrjpxkbbsnVBbulByFaZ7bfkSuuC/uPH9HfR.2lfmvRymMa3Z6vdvNTxsp8isr.0ip6.c/:18619:0:99999:7:::</span><br></pre></td></tr></table></figure>



<h4 id="修改用户密码状态chage"><a href="#修改用户密码状态chage" class="headerlink" title="修改用户密码状态chage"></a>修改用户密码状态chage</h4><table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>chage [选项] 用户名</td>
<td>修改用户密码状态</td>
<td>-l</td>
<td>列出用户的详细密码状态</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-d 日期</td>
<td>修改密码最后一次更新时间（shadow文件第三个字段）</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-m 天数</td>
<td>两次修改密码间隔（shadow文件第四个字段）</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-M 天数</td>
<td>密码有效期（shadow文件第五个字段）</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-W 天数</td>
<td>密码过期前警告天数（shadow文件第六个字段）</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-I 天数</td>
<td>密码过期后宽限天数（shadow文件第七个字段）</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-E 日期</td>
<td>账号失效时间（shadow文件第八 个字段）</td>
</tr>
</tbody></table>
<p>例子重要用法：<br><code>chage -d 0 [用户名]</code>这个命令其实是把密码修改日期归0了，这样用户一登陆就要修改密码（学校，公司身份系统修改初始密码）</p>
<h4 id="删除用户userdel"><a href="#删除用户userdel" class="headerlink" title="删除用户userdel"></a>删除用户userdel</h4><table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>userdel [-r] 用户名</td>
<td>删除用户</td>
<td>-r</td>
<td>删除用户的同时删除用户家目录</td>
</tr>
</tbody></table>
<h4 id="查看用户ID"><a href="#查看用户ID" class="headerlink" title="查看用户ID"></a>查看用户ID</h4><p><code>id  用户名</code> 以下例子查询liming用户的用户ID</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# id liming</span><br><span class="line">uid=550(liming) gid=666(liming) 组=666(liming),0(root)</span><br></pre></td></tr></table></figure>



<h4 id="用户切换命令su"><a href="#用户切换命令su" class="headerlink" title="用户切换命令su"></a>用户切换命令su</h4><table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>su [选项] 用户</td>
<td>用户切换命令</td>
<td>-</td>
<td>选项只使用“-”代表连带用户的环境变量一起切换</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-c</td>
<td>仅执行一次命令，而不切换用户身份</td>
</tr>
</tbody></table>
<p><code>env</code>查看用户环境变量</p>
<p>普通用户liming切换成超级用户root</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[liming@192 ~]$ su - root</span><br></pre></td></tr></table></figure>

<p>不切换成root，但是执行useradd命令添加user1用户</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# su - root -c &quot;useradd user1&quot; </span><br></pre></td></tr></table></figure>



<h3 id="用户组管理命令"><a href="#用户组管理命令" class="headerlink" title="用户组管理命令"></a>用户组管理命令</h3><h4 id="添加用户组"><a href="#添加用户组" class="headerlink" title="添加用户组"></a>添加用户组</h4><table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>groupadd [选项] 组名</td>
<td>添加用户组</td>
<td>-g GID</td>
<td>指定组ID</td>
</tr>
</tbody></table>
<p>添加用户组tg，可以在/etc/group下查看组信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@quan ~]# groupadd tg</span><br><span class="line">[root@quan ~]# vi /etc/group</span><br><span class="line">tg:x:1000:</span><br></pre></td></tr></table></figure>



<h4 id="修改用户组"><a href="#修改用户组" class="headerlink" title="修改用户组"></a>修改用户组</h4><table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>groupmod [选项] 组名</td>
<td>修改用户组</td>
<td>-g GID</td>
<td>修改组ID</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-n 新组名</td>
<td>修改组名</td>
</tr>
</tbody></table>
<p>把用户组tg修改为新组名lampgroup，可以在/etc/group下查看组名被修改了</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@quan ~]# groupmod -n lampgroup tg</span><br><span class="line">[root@quan ~]# vi /etc/group</span><br><span class="line">lampgroup:x:1000:</span><br></pre></td></tr></table></figure>



<h4 id="删除用户组"><a href="#删除用户组" class="headerlink" title="删除用户组"></a>删除用户组</h4><table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>groupdel 组名</td>
<td>删除用户组</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>删除组lampgroup，如果用户组有初始用户，需要先删除初始用户，然后才能删除用户组</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@quan ~]# groupdel lampgroup</span><br></pre></td></tr></table></figure>



<h4 id="用户添加入组、从组中删除"><a href="#用户添加入组、从组中删除" class="headerlink" title="用户添加入组、从组中删除"></a>用户添加入组、从组中删除</h4><table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>gpasswd 选项 组名</td>
<td>把用户添加入组或者从组中删除</td>
<td>-a 用户名</td>
<td>把用户加入组</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-d 用户名</td>
<td>把用户从组中删除</td>
</tr>
</tbody></table>
<p>把用户user1和user2添加进root组，在/etc/group中可以看到用户user1和user被加入了root组</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@iZuf6fhk4slpwaz2668zqyZ ~]# gpasswd -a user1 root</span><br><span class="line">Adding user user1 to group root</span><br><span class="line">[root@iZuf6fhk4slpwaz2668zqyZ ~]# gpasswd -a user2 root</span><br><span class="line">Adding user user2 to group root</span><br><span class="line">[root@quan ~]# vi /etc/group</span><br><span class="line">root:x:0:user1,user2</span><br></pre></td></tr></table></figure>

<p>把用户user1从root用户组中删除，在/etc/group中可看到只剩下user2用户</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@iZuf6fhk4slpwaz2668zqyZ ~]# gpasswd -d user1 root</span><br><span class="line">Removing user user1 from group root</span><br><span class="line">[root@quan ~]# vi /etc/group</span><br><span class="line">root:x:0:user2</span><br></pre></td></tr></table></figure>









<h3 id="ACL权限"><a href="#ACL权限" class="headerlink" title="ACL权限"></a>ACL权限</h3><h4 id="ACL权限简介与开启"><a href="#ACL权限简介与开启" class="headerlink" title="ACL权限简介与开启"></a>ACL权限简介与开启</h4><ul>
<li>ACL权限是为了解决所有者，所属组，其他人三个权限用户身份分配不足的问题</li>
</ul>
<p><img src="https://cdn.lianjinquan.com/img/posts/linux/05/linux01.jpg"></p>
<ul>
<li><p>查看分区ACL权限是否开启</p>
<p>dumpe2fs命令是查询指定分区详细文件系统信息的命令</p>
<table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>dumpe2fs -h [分区]</td>
<td>查看分区ACL权限是否开启</td>
<td>-h</td>
<td>仅显示超级块中信息，而不显示磁盘块组的详细信息</td>
</tr>
</tbody></table>
<p>先使用df命令来检查linux服务器的文件系统的磁盘空间占用情况</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# df -h</span><br><span class="line">文件系统          容量  已用  可用 已用%% 挂载点</span><br><span class="line">/dev/sda5              17G  3.0G   13G  19% /</span><br><span class="line">tmpfs                 504M  100K  504M   1% /dev/shm</span><br><span class="line">/dev/sda1             194M   27M  158M  15% /boot</span><br><span class="line">/dev/sda2             2.0G   35M  1.8G   2% /home</span><br><span class="line">/dev/sr0              3.5G  3.5G     0 100% /media/CentOS_6.3_Final </span><br></pre></td></tr></table></figure>

<p>可以看到Default mount options:    user_xattr acl 选项默认开启ACL权限</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# dumpe2fs -h /dev/sda5</span><br><span class="line">dumpe2fs 1.41.12 (17-May-2010)</span><br><span class="line">Filesystem volume name:   &lt;none&gt;</span><br><span class="line">Last mounted on:          /</span><br><span class="line">Filesystem UUID:          c366cfac-a7b2-4c81-821e-0cdb30c41189</span><br><span class="line">Filesystem magic number:  0xEF53</span><br><span class="line">Filesystem revision #:    1 (dynamic)</span><br><span class="line">Filesystem features:      has_journal ext_attr resize_inode dir_index filetype needs_recovery extent flex_bg sparse_super large_file huge_file uninit_bg dir_nlink extra_isize</span><br><span class="line">Filesystem flags:         signed_directory_hash </span><br><span class="line">Default mount options:    user_xattr acl</span><br><span class="line">Filesystem state:         clean</span><br><span class="line">Errors behavior:          Continue</span><br><span class="line">Filesystem OS type:       Linux</span><br><span class="line">Inode count:              1105920</span><br><span class="line">Block count:              4423168</span><br><span class="line">Reserved block count:     221158</span><br><span class="line">Free blocks:              3579940</span><br><span class="line">Free inodes:              1010371</span><br><span class="line">First block:              0</span><br><span class="line">Block size:               4096</span><br><span class="line">Fragment size:            4096</span><br><span class="line">Reserved GDT blocks:      1022</span><br><span class="line">Blocks per group:         32768</span><br><span class="line">Fragments per group:      32768</span><br><span class="line">Inodes per group:         8192</span><br><span class="line">Inode blocks per group:   512</span><br><span class="line">Flex block group size:    16</span><br><span class="line">Filesystem created:       Sat Dec 19 03:08:34 2020</span><br><span class="line">Last mount time:          Fri Dec 25 03:05:23 2020</span><br><span class="line">Last write time:          Thu Dec 24 03:57:47 2020</span><br><span class="line">Mount count:              7</span><br><span class="line">Maximum mount count:      -1</span><br><span class="line">Last checked:             Sat Dec 19 03:08:34 2020</span><br><span class="line">Check interval:           0 (&lt;none&gt;)</span><br><span class="line">Lifetime writes:          4944 MB</span><br><span class="line">Reserved blocks uid:      0 (user root)</span><br><span class="line">Reserved blocks gid:      0 (group root)</span><br><span class="line">First inode:              11</span><br><span class="line">Inode size:              256</span><br><span class="line">Required extra isize:     28</span><br><span class="line">Desired extra isize:      28</span><br><span class="line">Journal inode:            8</span><br><span class="line">First orphan inode:       262644</span><br><span class="line">Default directory hash:   half_md4</span><br><span class="line">Directory Hash Seed:      1d093332-fd3e-4c87-9037-c6723db0036e</span><br><span class="line">Journal backup:           inode blocks</span><br><span class="line">Journal features:         journal_incompat_revoke</span><br><span class="line">日志大小:             128M</span><br><span class="line">Journal length:           32768</span><br><span class="line">Journal sequence:         0x00000dc1</span><br><span class="line">Journal start:            1</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>临时开启分区ACL权限<br><code>mount -o remount,acl /</code> 重新挂载根分区，并挂载加入acl权限</p>
</li>
<li><p>永久开启分区ACL权限</p>
<p>在<code>UUID=c366cfac-a7b2-4c81-821e-0cdb30c41189 /                       ext4    defaults        1 1</code>在defaults加,acl 成为</p>
<p><code>UUID=c366cfac-a7b2-4c81-821e-0cdb30c41189 /                       ext4    defaults,acl        1 1</code></p>
<p>然后输入：<code>mount -o remount / </code>重新挂载文件系统或重启系统，使修改生效。.Linux现在一般所有分区全部默认开启ACL，不用修改配置</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]<span class="comment"># vim /etc/fstab</span></span><br><span class="line">UUID=c366cfac-a7b2-4c81-821e-0cdb30c41189 /                       ext4    defaults        1 1</span><br><span class="line">UUID=3e401044-f7fb-4d49-82db-407777070199 /boot                   ext4    defaults        1 2</span><br><span class="line">UUID=dc8ad216-0bf7-43ee-8ec4-b72f355b8b3b /home                   ext4    defaults        1 2</span><br><span class="line">UUID=89afb8d7-db25-4bd2-9ffe-8df3df50bf21 swap                    swap    defaults        0 0</span><br><span class="line">tmpfs                   /dev/shm                tmpfs   defaults        0 0</span><br><span class="line">devpts                  /dev/pts                devpts  gid=5,mode=620  0 0</span><br><span class="line">sysfs                   /sys                    sysfs   defaults        0 0</span><br><span class="line">proc                    /proc                   proc    defaults        0 0</span><br></pre></td></tr></table></figure>







</li>
</ul>
<h3 id="ACL权限查看与设定"><a href="#ACL权限查看与设定" class="headerlink" title="ACL权限查看与设定"></a>ACL权限查看与设定</h3><h4 id="查看ACL权限"><a href="#查看ACL权限" class="headerlink" title="查看ACL权限"></a>查看ACL权限</h4><table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>getfacl 文件名</td>
<td>查看ACL权限</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id="设定ACL权限"><a href="#设定ACL权限" class="headerlink" title="设定ACL权限"></a>设定ACL权限</h4><table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>setfacl [选项] 文件名</td>
<td>设定ACL权限</td>
<td>-m</td>
<td>设定ACL权限</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-x</td>
<td>删除指定的ACL权限</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-b</td>
<td>删除所有的ACL权限</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-d</td>
<td>设定默认的ACL权限</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-k</td>
<td>删除默认ACL权限</td>
</tr>
<tr>
<td></td>
<td></td>
<td>-R</td>
<td>递归设定ACL权限</td>
</tr>
</tbody></table>
<ul>
<li><p>给用户设置acl权限</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# mkdir /project                                 # 创建目录/project</span><br><span class="line">[root@192 ~]# useradd bimm                                   # 添加用户bimm</span><br><span class="line">[root@192 ~]# useradd cangls                                 # 添加用户cangls</span><br><span class="line">[root@192 ~]# groupadd tgroup                                # 创建组tgroup</span><br><span class="line">[root@192 ~]# gpasswd -a bimm tgroup                         # 把用户bimm添加进组tgroup</span><br><span class="line">Adding user bimm to group tgroup</span><br><span class="line">[root@192 ~]# gpasswd -a cangls tgroup                       # 把用户cangls添加进组tgroup          </span><br><span class="line">Adding user cangls to group tgroup</span><br><span class="line">[root@192 ~]# cat /etc/group                                 # 查看组中用户是否添加成功</span><br><span class="line">tgroup:x:667:bimm,cangls</span><br><span class="line">[root@192 ~]# chown root:tgroup /project                     # 改变目录/project所有者为root用户，所属组为tgroup</span><br><span class="line">[root@192 ~]# chmod 770 /project/                            # 改变文件权限为770 rwxrwx---</span><br><span class="line">[root@192 ~]# ll -d /project/</span><br><span class="line">drwxrwx---. 2 root tgroup 4096 12月 25 04:27 /project/</span><br><span class="line">[root@192 ~]# useradd st                                     # 创建用户st，用户st是一个临时用户，在所有者，所属组，其他人之外的临时用户</span><br><span class="line">[root@192 ~]# passwd st                                      # 设置用户st 密码</span><br><span class="line">[root@192 ~]# setfacl -m u:st:rx /project/                   # 设置用户st的acl权限为rx</span><br><span class="line">[root@192 ~]# ll -d /project/                                # 这里可以看到权限后面多了一个+号  rwxrwx---+</span><br><span class="line">drwxrwx---+ 2 root tgroup 4096 12月 25 04:27 /project/</span><br><span class="line">[root@192 ~]# getfacl /project/                              # 查看目录的acl权限</span><br><span class="line">getfacl: Removing leading &#x27;/&#x27; from absolute path names</span><br><span class="line"><span class="meta">#</span><span class="bash"> file: project/                                             <span class="comment"># 文件</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> owner: root                                                <span class="comment"># 所有者</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> group: tgroup                                              <span class="comment"># 所属组</span></span></span><br><span class="line">user::rwx                                                    # 文件所有者权限 rwx</span><br><span class="line">user:st:r-x                                                  # 用户st的acl权限 r-x</span><br><span class="line">group::rwx                                                   # 文件所属组权限 rwx              </span><br><span class="line">mask::rwx</span><br><span class="line">other::---                                                   # 其他人权限 rwx                      </span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>给用户组设定ACL权限</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# groupadd tgroup2                             # 创建用户组tgroup2     </span><br><span class="line">[root@192 ~]# setfacl -m g:tgroup2:rwx /project            # 给用户组设置rwx权限</span><br><span class="line">[root@192 ~]# getfacl /project/                            # 查看目录的acl权限</span><br><span class="line">getfacl: Removing leading &#x27;/&#x27; from absolute path names</span><br><span class="line"><span class="meta">#</span><span class="bash"> file: project/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> owner: root</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> group: tgroup</span></span><br><span class="line">user::rwx</span><br><span class="line">user:st:r-x</span><br><span class="line">group::rwx</span><br><span class="line">group:tgroup2:rwx                                          # 用户组 tgroup2 的 acl 权限</span><br><span class="line">mask::rwx</span><br><span class="line">other::---</span><br></pre></td></tr></table></figure>





</li>
</ul>
<h4 id="最大有效权限"><a href="#最大有效权限" class="headerlink" title="最大有效权限"></a>最大有效权限</h4><p>mask是用来指定最大有效权限的。如果给用户赋予了ACL权限，是需要和mask 的权限“相与”才能得到用户的真正权限</p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>and</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>r</td>
<td>r</td>
</tr>
<tr>
<td>r</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>-</td>
<td>r</td>
<td>-</td>
</tr>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody></table>
<p>以下例子设定mask最大有效权限为rx，加注释的effective表示现在拥有的权限</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# setfacl -m m:rx /project</span><br><span class="line">[root@192 ~]# getfacl /project/</span><br><span class="line">getfacl: Removing leading &#x27;/&#x27; from absolute path names</span><br><span class="line"><span class="meta">#</span><span class="bash"> file: project/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> owner: root</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> group: tgroup</span></span><br><span class="line">user::rwx</span><br><span class="line">user:st:r-x</span><br><span class="line">group::rwx                #effective:r-x</span><br><span class="line">group:tgroup2:rwx        #effective:r-x</span><br><span class="line">mask::r-x</span><br><span class="line">other::---</span><br></pre></td></tr></table></figure>



<h4 id="删除ACL权限"><a href="#删除ACL权限" class="headerlink" title="删除ACL权限"></a>删除ACL权限</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# setfacl -x g:tgroup2 /project/               # 删除tgroup2的acl权限，setfacl -x u:用户名 文件名 删除指定用户的ACL权限</span><br><span class="line">[root@192 ~]# getfacl /project/</span><br><span class="line">getfacl: Removing leading &#x27;/&#x27; from absolute path names</span><br><span class="line"><span class="meta">#</span><span class="bash"> file: project/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> owner: root</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> group: tgroup</span></span><br><span class="line">user::rwx</span><br><span class="line">user:st:r-x</span><br><span class="line">group::rwx</span><br><span class="line">mask::rwx</span><br><span class="line">other::---</span><br><span class="line">[root@192 ~]# setfacl -b /project/                          # 删除目录下所有acL权限</span><br><span class="line">[root@192 ~]# getfacl /project/</span><br><span class="line">getfacl: Removing leading &#x27;/&#x27; from absolute path names</span><br><span class="line"><span class="meta">#</span><span class="bash"> file: project/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> owner: root</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> group: tgroup</span></span><br><span class="line">user::rwx</span><br><span class="line">group::rwx</span><br><span class="line">other::---</span><br><span class="line">[root@192 ~]# ll -d /project/</span><br><span class="line">drwxrwx---. 2 root tgroup 4096 12月 25 04:27 /project/</span><br></pre></td></tr></table></figure>



<h4 id="递归ACL权限"><a href="#递归ACL权限" class="headerlink" title="递归ACL权限"></a>递归ACL权限</h4><p>递归ACL权限，递归是父目录在设定ACL权限时，所有的子文件和子目录也会拥有相同的ACL权限。<br>命令：<code>setfacl -m u:用户名:权限 -R 目录名</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# setfacl -m u:st:rx /project</span><br><span class="line">[root@192 ~]# cd /project/</span><br><span class="line">[root@192 project]# touch abc</span><br><span class="line">[root@192 project]# touch bcd</span><br><span class="line">[root@192 project]# setfacl -m u:st:rx /project/</span><br><span class="line">[root@192 project]# ll -d /project/</span><br><span class="line">drwxrwx---+ 2 root tgroup 4096 12月 27 04:38 /project/</span><br><span class="line">[root@192 project]# setfacl -m u:st:rx -R /project/             #给project目录下的所有文件都设置acl权限</span><br><span class="line">[root@192 project]# ll</span><br><span class="line">总用量 8</span><br><span class="line">-rw-r-xr--+ 1 root root 0 12月 27 04:38 abc</span><br><span class="line">-rw-r-xr--+ 1 root root 0 12月 27 04:38 bcd</span><br></pre></td></tr></table></figure>



<h4 id="默认ACL权限"><a href="#默认ACL权限" class="headerlink" title="默认ACL权限"></a>默认ACL权限</h4><p>默认ACL权限的作用是如果给父目录设定默认ACL权限，那么父目录中所有新建的子文件和子目录都会继承父目录的ACL权限<br>命令：<code>setfacl -m d:u:用户名:权限 目录名</code> 可以在权限后面加-R来进行递归</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@192 project]# setfacl -m d:u:st:rx -R /project/       # 设置默认acl权限</span><br><span class="line">[root@192 project]# touch cde                               # 新创建的文件也具备了acl权限</span><br><span class="line">[root@192 project]# ll</span><br><span class="line">总用量 12</span><br><span class="line">-rw-r-xr--+ 1 root root 0 12月 27 04:38 abc</span><br><span class="line">-rw-r-xr--+ 1 root root 0 12月 27 04:38 bcd</span><br><span class="line">-rw-rw----+ 1 root root 0 12月 27 04:45 cde</span><br></pre></td></tr></table></figure>



<h3 id="文件特殊权限"><a href="#文件特殊权限" class="headerlink" title="文件特殊权限"></a>文件特殊权限</h3><h4 id="SetUID"><a href="#SetUID" class="headerlink" title="SetUID"></a>SetUID</h4><ol>
<li><p>只有可以执行的二进制程序才能设定SUID权限，普通文件或者目录没有意义</p>
</li>
<li><p>命令执行者要对该程序拥有x(执行)权限</p>
</li>
<li><p>命令执行者在执行该程序时获得该程序文件属主的身份(在执行程序的过程中灵魂附体为文件的属主)</p>
</li>
<li><p>SetUID权限只在该程序执行过程中有效，也就是说身份改变只在程序执行过程中有效</p>
</li>
</ol>
<p>passwd命令拥有SetUID权限，所以普通用户可以修改自己的密码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# ll /usr/bin/passwd</span><br><span class="line">-rwsr-xr-x. 1 root root 25980 2月  22 2012 /usr/bin/passwd</span><br></pre></td></tr></table></figure>

<p>cat命令没有SetUID权限，所以普通用户不能查看/etc/shadow文件内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# ll /bin/cat</span><br><span class="line">-rwxr-xr-x. 1 root root 47976 6月  22 2012 /bin/cat</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.lianjinquan.com/img/posts/linux/05/linux02.png"></p>
<h5 id="设定SetUID的方法"><a href="#设定SetUID的方法" class="headerlink" title="设定SetUID的方法"></a>设定SetUID的方法</h5><p>4代表SUID权限</p>
<p><code>chmod 4755 文件名</code>  7代表所有者权限，5代表所属组权限，5代表其他人</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@192 tmp]# touch test                      # 创建空文件test</span><br><span class="line">[root@192 tmp]# ll test                         # test文件默认权限 rw-r--r--</span><br><span class="line">-rw-r--r--. 1 root root 0 12月 29 05:35 test</span><br><span class="line">[root@192 tmp]# chmod 4755 test                 # 设定SUID权限</span><br><span class="line">[root@192 tmp]# ll test                         # 文件权限变为rwsr-xr-x，其中s代表SUID权限</span><br><span class="line">-rwsr-xr-x. 1 root root 0 12月 29 05:35 test</span><br></pre></td></tr></table></figure>

<p><code>chmod u+s 文件名</code>  如果用户对文件没有执行权限，就会报错，此时给他加特殊权限，就会显示大S</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@192 tmp]<span class="comment"># chmod u+s test                   # 设定SUID权限</span></span><br><span class="line">[root@192 tmp]<span class="comment"># ll test                          # 注意：这里大S代表没有可执行权限，因为test是一个空文件，不具备x(执行)权限</span></span><br><span class="line">-rwSr--r--. 1 root root 0 12月 29 05:35 <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<h5 id="取消SetUID的方法"><a href="#取消SetUID的方法" class="headerlink" title="取消SetUID的方法"></a>取消SetUID的方法</h5><p><code>chmod 755 文件名</code><br><code>chmod u-s 文件名</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@192 tmp]# chmod 644 test                #取消SetUID权限，把权限指回去就行</span><br><span class="line">[root@192 tmp]# ll test</span><br><span class="line">-rw-r--r--. 1 root root 0 12月 29 05:35 test</span><br></pre></td></tr></table></figure>

<h5 id="危险的SetUID"><a href="#危险的SetUID" class="headerlink" title="危险的SetUID"></a>危险的SetUID</h5><ol>
<li>关键目录应当严格控制写权限。比如：“/”，“/usr”等</li>
<li>用户的密码设置要严格遵守密码三原则</li>
<li>对系统中默认应该具有SetUID权限的文件作一列表，定时检查有没有这之外的文件被设置了SetUID权限</li>
</ol>
<h4 id="SetGID"><a href="#SetGID" class="headerlink" title="SetGID"></a>SetGID</h4><ol>
<li><p>SetGID针对文件的作用</p>
<ul>
<li><p>只有可以执行的二进制程序才能设定SGID权限</p>
</li>
<li><p>命令执行者要对该程序拥有x(执行)权限</p>
</li>
<li><p>命令执行在执行程序的时候，组身份升级为该程序文件的所属组</p>
</li>
<li><p>SetGID权限同样只在该程序执行过程中有效，也就是说组身份改变只在程序执行过程中有效</p>
<p>locate 命令拥有SetGID权限，所以普通用户可以使用locate来查询。</p>
<ul>
<li>/usr/bin/locate是可执行二进制程序,可以赋予SGID</li>
<li>执行用户lamp对/usr/bin/locate命令拥有执行权限</li>
<li>执行/usr/bin/locate命令时，组身份会升级为 slocate组，而 slocate对/var/lib/mlocate/mlocate.db数据库拥有r权限，所以普通用户可以使用 locate命令查询 locate.db数据库</li>
<li>命令结束，lamp用户的组身份返回为lamp组</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@192 tmp]# whereis locate                                              # 查找locate命令所在位置</span><br><span class="line">locate: /usr/bin/locate /usr/share/man/man1/locate.1.gz</span><br><span class="line">[root@192 tmp]# ll /usr/bin/locate                                          # 组中s代表SetGID权限</span><br><span class="line">-rwx--s--x. 1 root slocate 35612 8月  24 2010 /usr/bin/locate</span><br><span class="line">[root@192 tmp]# ll /var/lib/mlocate/mlocate.db</span><br><span class="line">-rw-r-----. 1 root slocate 2435463 12月 27 05:24 /var/lib/mlocate/mlocate.db</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<ol start="2">
<li><p>SetGID针对目录的作用</p>
<ul>
<li>普通用户必须对此目录拥有r和x权限，才能进入此目录</li>
<li>普通用户在此目录中的有效组会变成此目录的所属组</li>
<li>若普通用户对此目录拥有w权限时，新建的文件的默认所属组是这个目录的所属组</li>
</ul>
</li>
</ol>
<h5 id="设定SetGID的方法"><a href="#设定SetGID的方法" class="headerlink" title="设定SetGID的方法"></a>设定SetGID的方法</h5><p>2代表SGID权限</p>
<p><code>chmod 2755 文件名 </code><br><code>chmod g+s 文件名</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@192 tmp]# mkdir test                          # 在/tmp目录下创建目录test</span><br><span class="line">[root@192 tmp]# chmod 2777 test                     # 设定SGID权限</span><br><span class="line">[root@192 tmp]# ll -d test                          # s代表SGID权限</span><br><span class="line">drwxrwsrwx. 2 root root 4096 12月 29 06:08 test</span><br><span class="line">[root@192 tmp]# su - sc                             # 切换为普通用户sc</span><br><span class="line">[sc@192 tmp]$ touch bv                              # 普通用户创建文件bv,文件的所属组是sc</span><br><span class="line">[sc@192 tmp]$ ll</span><br><span class="line">总用量 68</span><br><span class="line">-rw-rw-r--. 1 sc   sc      0 12月 29 06:14 bv</span><br><span class="line">[sc@192 ~]$ cd /tmp/test/</span><br><span class="line">[sc@192 test]$ touch abc                            # 使用普通用户创建的文件在/tmp/test目录下所属组是root</span><br><span class="line">[sc@192 test]$ ll</span><br><span class="line">总用量 0</span><br><span class="line">-rw-rw-r--. 1 sc root 0 12月 29 06:10 abc</span><br></pre></td></tr></table></figure>



<h5 id="取消SetUID的方法-1"><a href="#取消SetUID的方法-1" class="headerlink" title="取消SetUID的方法"></a>取消SetUID的方法</h5><p><code>chmod 755 文件名</code><br><code>chmod g-s 文件名</code></p>
<h4 id="Sticky-BIT"><a href="#Sticky-BIT" class="headerlink" title="Sticky BIT"></a>Sticky BIT</h4><h5 id="SBIT粘着位作用"><a href="#SBIT粘着位作用" class="headerlink" title="SBIT粘着位作用"></a>SBIT粘着位作用</h5><ul>
<li><p>粘着位目前只对<strong>目录</strong>有效</p>
</li>
<li><p>普通用户对该目录拥有w和x权限，即普通用户可以在此目录拥有写入权限</p>
</li>
<li><p>如果没有粘着位，因为普通用户拥有w权限，所以可以删除此目录下所有文件，包括其他用户建立的文件。一旦赋予了粘着位，除了root可以删除所有文件，普通用户就算拥有了w权限，也只能删除自己建立的文件，但是不能删除其他用户建立的文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# ll -d /tmp/                         # /tmp/目录其他人的权限是rwt，其中t是SBIT权限</span><br><span class="line">drwxrwxrwt. 22 root root 4096 12月 29 06:14 /tmp/</span><br><span class="line">[root@192 ~]# su - sc                             # 切换为 su 用户</span><br><span class="line">[sc@192 ~]$ cd /tmp/</span><br><span class="line">[sc@192 tmp]$ touch sc-test                       # 使用su用户创建文件sc-test</span><br><span class="line">[sc@192 tmp]$ ls</span><br><span class="line">sc-test</span><br><span class="line">[sc@192 ~]$ su - user1                             # 切换为 usr1 用户</span><br><span class="line">[user1@192 ~]$ cd /tmp/</span><br><span class="line">[user1@192 tmp]$ ll</span><br><span class="line">总用量 68</span><br><span class="line">-rw-rw-r--. 1 sc   sc      0 12月 29 06:28 sc-test</span><br><span class="line">[user1@192 tmp]$ rm -rf /tmp/                     # 删除的时候报错，虽然其他人对/tmp目录有删除权限，由于SBIT的作用，其他人依然不能删除/tmp,只允许创建目录的用户sc删除</span><br><span class="line">rm: 无法删除&quot;/tmp/sc-test&quot;: 不允许的操作</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h5 id="设定粘着位的方法"><a href="#设定粘着位的方法" class="headerlink" title="设定粘着位的方法"></a>设定粘着位的方法</h5><p>1代表粘着位</p>
<p><code>chmod 1755 目录名</code><br><code>chmod o+t 目录名</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# mkdir /test</span><br><span class="line">[root@192 ~]# ll -d /test/</span><br><span class="line">drwxr-xr-x. 2 root root 4096 12月 29 06:41 /test/</span><br><span class="line">[root@192 ~]# chmod 1755 /test/</span><br><span class="line">[root@192 ~]# ll -d /test/                            # t代表SBIT</span><br><span class="line">drwxr-xr-t. 2 root root 4096 12月 29 06:41 /test/</span><br></pre></td></tr></table></figure>



<h5 id="取消粘着位的方法"><a href="#取消粘着位的方法" class="headerlink" title="取消粘着位的方法"></a>取消粘着位的方法</h5><p><code>chmod 755 目录名</code><br><code>chmod o-t 目录名</code></p>
<h3 id="文件系统属性chattr权限"><a href="#文件系统属性chattr权限" class="headerlink" title="文件系统属性chattr权限"></a>文件系统属性chattr权限</h3><ol>
<li><p>命令：<code>chattr [+ - =] [选项] 文件名或者目录名</code></p>
<ul>
<li><code>+</code>增加权限  <code>-</code>删除权限 <code>=</code>等于某权限</li>
<li><code>i</code>: 如果对文件设置i属性，那么不允许对文件进行删除，改名，也不能添加和修改数据；如果对目录设置i属性,那么只能修改目录下文件的数据，但是不允许建立和删除文件</li>
<li><code>a</code>：如果对文件设置a属性，那么只能在文件中增加数据，但是不能删除或者修改数据；如果对目录设置a属性,那么只允许在目录中建立和修改文件，但是不允许删除文件</li>
</ul>
</li>
<li><p>查看文件系统属性</p>
<p><code>lsattr [选项] 文件名</code></p>
<ul>
<li>-a：显示所有文件和目录</li>
<li>-d：若目标是目录，仅列出目录本身的属性，而不是子文件的</li>
</ul>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@192 tmp]# touch test.txt          # 创建test.txt空文件</span><br><span class="line">[root@192 tmp]# chattr +i test.txt      # 给test.txt文件增加i权限</span><br><span class="line">[root@192 tmp]# lsattr -a test.txt      # 查看test.txt文件权限</span><br><span class="line">----i--------e- test.txt             </span><br><span class="line">[root@192 tmp]# echo 111 &gt;&gt; test.txt    # root超级管理员也不能写入内容</span><br><span class="line">-bash: test.txt: 权限不够</span><br><span class="line">[root@192 tmp]# rm -rf test.txt          # root超级管理员也不能删除文件</span><br><span class="line">rm: 无法删除&quot;test.txt&quot;: 不允许的操作</span><br><span class="line"></span><br><span class="line">[root@192 tmp]# mkdir test               # 创建test目录</span><br><span class="line">[root@192 tmp]# touch /test/test.text    # 在test目录目录下创建test.text文件</span><br><span class="line">[root@192 tmp]# chattr +i /test/         # 给test目录增加i权限</span><br><span class="line">[root@192 tmp]# lsattr -a /test/         # 查看test目前权限</span><br><span class="line">-------------e- /test/test.text</span><br><span class="line">--------------- /test/..</span><br><span class="line">----i--------e- /test/.</span><br><span class="line">[root@192 tmp]# echo 222 &gt;&gt; /test/test.text  # 可以在test.text文件中写入内容</span><br><span class="line">[root@192 tmp]# rm -rf /test/test.text       # 不能删除test目录下的内容</span><br><span class="line">rm: 无法删除&quot;/test/test.text&quot;: 权限不够      </span><br><span class="line">[root@192 tmp]# touch /test/test.yml         # 不能在test目录下新增文件</span><br><span class="line">touch: 无法创建&quot;/test/test.yml&quot;: 权限不够</span><br><span class="line"></span><br><span class="line">[root@192 tmp]# chattr -i /test/             # 删除test目录i权限</span><br><span class="line">[root@192 tmp]# rm -rf test                  # test目录此时可以删除</span><br></pre></td></tr></table></figure>



<h3 id="系统命令sudo权限"><a href="#系统命令sudo权限" class="headerlink" title="系统命令sudo权限"></a>系统命令sudo权限</h3><ol>
<li>sudo权限<ul>
<li>root把本来只能超级用户执行的命令赋予普通用户执行</li>
<li>sudo的操作对象是系统命令</li>
</ul>
</li>
<li>sudo使用<ul>
<li><code>visudo</code> 实际修改的是/etc/sudoers文件</li>
<li>root ALL=(ALL) ALL 用户名 被管理主机的地址=(可使用身份) 授权命令(绝对路径)</li>
<li>%wheel ALL=(ALL) ALL  %组名 被管理主机的地址=(可使用的身份) 授权命令(绝对路径)</li>
<li>被管理主机的地址：本机IP或者ALL，限制的不是来源IP，而是访问IP</li>
</ul>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@192 tmp]# visudo             # 授权用户sc可以可以重启服务器</span><br><span class="line">sc      ALL=/sbin/shutdown -r now</span><br><span class="line">[root@192 ~]# su - sc              # 切换为sc用户</span><br><span class="line">[sc@192 ~]$ sudo -l                # 查看可用的sudo命令</span><br><span class="line">[sudo] password for sc: </span><br><span class="line">Matching Defaults entries for sc on this host:</span><br><span class="line">    requiretty, !visiblepw, always_set_home, env_reset, env_keep=&quot;COLORS DISPLAY HOSTNAME HISTSIZE INPUTRC</span><br><span class="line">    KDEDIR LS_COLORS&quot;, env_keep+=&quot;MAIL PS1 PS2 QTDIR USERNAME LANG LC_ADDRESS LC_CTYPE&quot;,</span><br><span class="line">    env_keep+=&quot;LC_COLLATE LC_IDENTIFICATION LC_MEASUREMENT LC_MESSAGES&quot;, env_keep+=&quot;LC_MONETARY LC_NAME</span><br><span class="line">    LC_NUMERIC LC_PAPER LC_TELEPHONE&quot;, env_keep+=&quot;LC_TIME LC_ALL LANGUAGE LINGUAS _XKB_CHARSET</span><br><span class="line">    XAUTHORITY&quot;, secure_path=/sbin\:/bin\:/usr/sbin\:/usr/bin</span><br><span class="line"></span><br><span class="line">User sc may run the following commands on this host:</span><br><span class="line">    (root) /sbin/shutdown -r now</span><br><span class="line">[sc@192 ~]$ sudo /sbin/shutdown -r now  # 普通用户sc执行sudo赋予的重启命令</span><br></pre></td></tr></table></figure>



























</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">lianjinquan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.lianjinquan.com/2020/12/07/linux/linux01/">https://www.lianjinquan.com/2020/12/07/linux/linux01/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.lianjinquan.com" target="_blank">lianjinquan</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/linux/">linux</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.lianjinquan.com/img/img/top-img/2033551.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/12/07/java/java8/"><img class="prev-cover" src="https://cdn.lianjinquan.com/img/img/top-img/2033551.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">java8</div></div></a></div><div class="next-post pull-right"><a href="/2020/12/01/linux/linux02/"><img class="next-cover" src="https://cdn.lianjinquan.com/img/img/top-img/2032859.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">VMware安装centos6.8</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2020/12/01/linux/linux02/" title="VMware安装centos6.8"><img class="cover" src="https://cdn.lianjinquan.com/img/img/top-img/2032859.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-12-01</div><div class="title">VMware安装centos6.8</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://cdn.lianjinquan.com/img/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">lianjinquan</div><div class="author-info__description">山有木兮木有枝，心悦君兮君不知。</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/lianjinquan" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1032905347@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E5%90%84%E7%9B%AE%E5%BD%95%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.</span> <span class="toc-text">linux各目录的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">2.</span> <span class="toc-text">服务器注意事项</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.1.</span> <span class="toc-text">命令格式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">3.</span> <span class="toc-text">常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#rm"><span class="toc-number">3.1.</span> <span class="toc-text">rm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cp"><span class="toc-number">3.2.</span> <span class="toc-text">cp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mv"><span class="toc-number">3.3.</span> <span class="toc-text">mv</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ls"><span class="toc-number">3.4.</span> <span class="toc-text">ls</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mkdir"><span class="toc-number">3.5.</span> <span class="toc-text">mkdir</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cd"><span class="toc-number">3.6.</span> <span class="toc-text">cd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pwd"><span class="toc-number">3.7.</span> <span class="toc-text">pwd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rmdir"><span class="toc-number">3.8.</span> <span class="toc-text">rmdir</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#touch"><span class="toc-number">3.9.</span> <span class="toc-text">touch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cat"><span class="toc-number">3.10.</span> <span class="toc-text">cat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tac"><span class="toc-number">3.11.</span> <span class="toc-text">tac</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#more"><span class="toc-number">3.12.</span> <span class="toc-text">more</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#less"><span class="toc-number">3.13.</span> <span class="toc-text">less</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#head"><span class="toc-number">3.14.</span> <span class="toc-text">head</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tail"><span class="toc-number">3.15.</span> <span class="toc-text">tail</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%E5%91%BD%E4%BB%A4"><span class="toc-number">4.</span> <span class="toc-text">链接命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ln"><span class="toc-number">4.1.</span> <span class="toc-text">ln</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">5.</span> <span class="toc-text">权限管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#chmod"><span class="toc-number">5.1.</span> <span class="toc-text">chmod</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#chown"><span class="toc-number">5.2.</span> <span class="toc-text">chown</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#chgrp"><span class="toc-number">5.3.</span> <span class="toc-text">chgrp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#umask"><span class="toc-number">5.4.</span> <span class="toc-text">umask</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%90%9C%E7%B4%A2%E5%91%BD%E4%BB%A4"><span class="toc-number">6.</span> <span class="toc-text">文件搜索命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#find"><span class="toc-number">6.1.</span> <span class="toc-text">find</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#locate"><span class="toc-number">6.2.</span> <span class="toc-text">locate</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#which"><span class="toc-number">6.3.</span> <span class="toc-text">which</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#whereis"><span class="toc-number">6.4.</span> <span class="toc-text">whereis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#grep"><span class="toc-number">6.5.</span> <span class="toc-text">grep</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4"><span class="toc-number">7.</span> <span class="toc-text">帮助命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#man"><span class="toc-number">7.1.</span> <span class="toc-text">man</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#help"><span class="toc-number">7.2.</span> <span class="toc-text">help</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">8.</span> <span class="toc-text">用户管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#useradd"><span class="toc-number">8.1.</span> <span class="toc-text">useradd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#passwd"><span class="toc-number">8.2.</span> <span class="toc-text">passwd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#who"><span class="toc-number">8.3.</span> <span class="toc-text">who</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#w"><span class="toc-number">8.4.</span> <span class="toc-text">w</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B%E5%91%BD%E4%BB%A4"><span class="toc-number">9.</span> <span class="toc-text">压缩解压命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#gzip"><span class="toc-number">9.1.</span> <span class="toc-text">gzip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#gunzip"><span class="toc-number">9.2.</span> <span class="toc-text">gunzip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tar"><span class="toc-number">9.3.</span> <span class="toc-text">tar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zip"><span class="toc-number">9.4.</span> <span class="toc-text">zip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bzip2"><span class="toc-number">9.5.</span> <span class="toc-text">bzip2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bunzip2"><span class="toc-number">9.6.</span> <span class="toc-text">bunzip2</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">10.</span> <span class="toc-text">网络命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#write"><span class="toc-number">10.1.</span> <span class="toc-text">write</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#wall"><span class="toc-number">10.2.</span> <span class="toc-text">wall</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ping"><span class="toc-number">10.3.</span> <span class="toc-text">ping</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ifconfig"><span class="toc-number">10.4.</span> <span class="toc-text">ifconfig</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#last"><span class="toc-number">10.5.</span> <span class="toc-text">last</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lastlog"><span class="toc-number">10.6.</span> <span class="toc-text">lastlog</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#traceroute"><span class="toc-number">10.7.</span> <span class="toc-text">traceroute</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#netstat"><span class="toc-number">10.8.</span> <span class="toc-text">netstat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#setup"><span class="toc-number">10.9.</span> <span class="toc-text">setup</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mount"><span class="toc-number">10.10.</span> <span class="toc-text">mount</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E6%9C%BA%E9%87%8D%E5%90%AF%E5%91%BD%E4%BB%A4"><span class="toc-number">11.</span> <span class="toc-text">关机重启命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#shuttdown"><span class="toc-number">11.1.</span> <span class="toc-text">shuttdown</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%85%B3%E6%9C%BA%E5%91%BD%E4%BB%A4"><span class="toc-number">11.2.</span> <span class="toc-text">其他关机命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E9%87%8D%E5%90%AF%E5%91%BD%E4%BB%A4"><span class="toc-number">11.3.</span> <span class="toc-text">其他重启命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB"><span class="toc-number">11.4.</span> <span class="toc-text">系统运行级别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#logout"><span class="toc-number">11.5.</span> <span class="toc-text">logout</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8vim"><span class="toc-number">12.</span> <span class="toc-text">文本编辑器vim</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">12.1.</span> <span class="toc-text">常用操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F"><span class="toc-number">12.2.</span> <span class="toc-text">工作模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5"><span class="toc-number">12.3.</span> <span class="toc-text">插入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%BD%8D"><span class="toc-number">12.4.</span> <span class="toc-text">定位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4"><span class="toc-number">12.5.</span> <span class="toc-text">删除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E5%92%8C%E5%89%AA%E5%88%87"><span class="toc-number">12.6.</span> <span class="toc-text">复制和剪切</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2%E5%92%8C%E5%8F%96%E6%B6%88"><span class="toc-number">12.7.</span> <span class="toc-text">替换和取消</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%92%8C%E6%90%9C%E7%B4%A2%E6%9B%BF%E6%8D%A2"><span class="toc-number">12.8.</span> <span class="toc-text">搜索和搜索替换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E5%92%8C%E9%80%80%E5%87%BA"><span class="toc-number">12.9.</span> <span class="toc-text">保存和退出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7"><span class="toc-number">12.10.</span> <span class="toc-text">使用技巧</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86"><span class="toc-number">13.</span> <span class="toc-text">软件包管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#rpm%E5%91%BD%E4%BB%A4"><span class="toc-number">13.1.</span> <span class="toc-text">rpm命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rpm%E5%AE%89%E8%A3%85%E5%8D%87%E7%BA%A7%E4%B8%8E%E5%8D%B8%E8%BD%BD"><span class="toc-number">13.2.</span> <span class="toc-text">rpm安装升级与卸载</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8C%85%E5%90%8D%E4%B8%8E%E5%8C%85%E5%85%A8%E5%90%8D"><span class="toc-number">13.2.1.</span> <span class="toc-text">包名与包全名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#RPM%E5%AE%89%E8%A3%85"><span class="toc-number">13.2.2.</span> <span class="toc-text">RPM安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#RPM%E5%8C%85%E5%8D%87%E7%BA%A7"><span class="toc-number">13.2.3.</span> <span class="toc-text">RPM包升级</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#RPM%E5%8C%85%E5%8D%B8%E8%BD%BD"><span class="toc-number">13.2.4.</span> <span class="toc-text">RPM包卸载</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85"><span class="toc-number">13.2.5.</span> <span class="toc-text">查询是否安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%BD%AF%E4%BB%B6%E5%8C%85%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF"><span class="toc-number">13.2.6.</span> <span class="toc-text">查询软件包详细信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%8C%85%E4%B8%AD%E6%96%87%E4%BB%B6%E5%AE%89%E8%A3%85%E4%BD%8D%E7%BD%AE"><span class="toc-number">13.2.7.</span> <span class="toc-text">查询包中文件安装位置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%B1%9E%E4%BA%8E%E5%93%AA%E4%B8%AARPM%E5%8C%85"><span class="toc-number">13.2.8.</span> <span class="toc-text">查询文件系统属于哪个RPM包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%9A%84%E4%BE%9D%E8%B5%96%E6%80%A7"><span class="toc-number">13.2.9.</span> <span class="toc-text">查询软件包的依赖性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#RPM%E5%8C%85%E6%A0%A1%E9%AA%8C"><span class="toc-number">13.2.10.</span> <span class="toc-text">RPM包校验</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#RPM%E5%8C%85%E4%B8%AD%E6%96%87%E4%BB%B6%E6%8F%90%E5%8F%96"><span class="toc-number">13.2.11.</span> <span class="toc-text">RPM包中文件提取</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#yum%E5%9C%A8%E7%BA%BF%E7%AE%A1%E7%90%86"><span class="toc-number">13.3.</span> <span class="toc-text">yum在线管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E9%85%8D%E7%BD%AE%E5%92%8C%E7%BD%91%E7%BB%9Cyum%E6%BA%90"><span class="toc-number">13.3.1.</span> <span class="toc-text">IP地址配置和网络yum源</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9Cyum%E6%BA%90"><span class="toc-number">13.3.2.</span> <span class="toc-text">网络yum源</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%8F%AF%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%8C%85%E5%88%97%E8%A1%A8"><span class="toc-number">13.3.3.</span> <span class="toc-text">查询所有可用软件包列表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-number">13.3.4.</span> <span class="toc-text">搜索软件包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-number">13.3.5.</span> <span class="toc-text">安装软件包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%87%E7%BA%A7%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-number">13.3.6.</span> <span class="toc-text">升级软件包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%B8%E8%BD%BD%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-number">13.3.7.</span> <span class="toc-text">卸载软件包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E5%8C%85%E5%88%97%E8%A1%A8"><span class="toc-number">13.3.8.</span> <span class="toc-text">软件包列表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%89%E7%9B%98yum%E6%BA%90%E6%90%AD%E5%BB%BA"><span class="toc-number">13.3.9.</span> <span class="toc-text">光盘yum源搭建</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%8C%85%E7%AE%A1%E7%90%86"><span class="toc-number">14.</span> <span class="toc-text">源码包管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%8C%85%E5%92%8CRPM%E5%8C%85%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">14.1.</span> <span class="toc-text">源码包和RPM包的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%8C%85%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B"><span class="toc-number">14.2.</span> <span class="toc-text">源码包安装过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E5%8C%85%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%8C%85%E9%80%89%E6%8B%A9"><span class="toc-number">14.3.</span> <span class="toc-text">脚本安装包与软件包选择</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-number">15.</span> <span class="toc-text">用户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E6%96%87%E4%BB%B6-etc-passwd"><span class="toc-number">15.1.</span> <span class="toc-text">用户信息文件&#x2F;etc&#x2F;passwd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BD%B1%E5%AD%90%E6%96%87%E4%BB%B6-etc-shadow"><span class="toc-number">15.2.</span> <span class="toc-text">影子文件&#x2F;etc&#x2F;shadow</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BF%A1%E6%81%AF%E6%96%87%E4%BB%B6-etc-group"><span class="toc-number">15.3.</span> <span class="toc-text">组信息文件&#x2F;etc&#x2F;group</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E5%AF%86%E7%A0%81%E6%96%87%E4%BB%B6-etc-gshadow"><span class="toc-number">15.4.</span> <span class="toc-text">组密码文件&#x2F;etc&#x2F;gshadow</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E7%9B%B8%E5%85%B3%E6%96%87%E4%BB%B6"><span class="toc-number">16.</span> <span class="toc-text">用户管理相关文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%9A%84%E5%AE%B6%E7%9B%AE%E5%BD%95-home"><span class="toc-number">16.1.</span> <span class="toc-text">用户的家目录&#x2F;home&#x2F;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%9A%84%E9%82%AE%E7%AE%B1-var-spool-mail"><span class="toc-number">16.2.</span> <span class="toc-text">用户的邮箱&#x2F;var&#x2F;spool&#x2F;mail&#x2F;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E6%A8%A1%E6%9D%BF%E7%9B%AE%E5%BD%95-etc-skel"><span class="toc-number">16.3.</span> <span class="toc-text">用户模板目录&#x2F;etc&#x2F;skel</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86-1"><span class="toc-number">17.</span> <span class="toc-text">用户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%94%A8%E6%88%B7useradd"><span class="toc-number">17.1.</span> <span class="toc-text">添加新用户useradd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81passwd"><span class="toc-number">17.2.</span> <span class="toc-text">修改用户密码passwd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AFusermod"><span class="toc-number">17.3.</span> <span class="toc-text">修改用户信息usermod</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E7%8A%B6%E6%80%81chage"><span class="toc-number">17.4.</span> <span class="toc-text">修改用户密码状态chage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7userdel"><span class="toc-number">17.5.</span> <span class="toc-text">删除用户userdel</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7ID"><span class="toc-number">17.6.</span> <span class="toc-text">查看用户ID</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%88%87%E6%8D%A2%E5%91%BD%E4%BB%A4su"><span class="toc-number">17.7.</span> <span class="toc-text">用户切换命令su</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">18.</span> <span class="toc-text">用户组管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">18.1.</span> <span class="toc-text">添加用户组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">18.2.</span> <span class="toc-text">修改用户组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">18.3.</span> <span class="toc-text">删除用户组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%85%A5%E7%BB%84%E3%80%81%E4%BB%8E%E7%BB%84%E4%B8%AD%E5%88%A0%E9%99%A4"><span class="toc-number">18.4.</span> <span class="toc-text">用户添加入组、从组中删除</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ACL%E6%9D%83%E9%99%90"><span class="toc-number">19.</span> <span class="toc-text">ACL权限</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ACL%E6%9D%83%E9%99%90%E7%AE%80%E4%BB%8B%E4%B8%8E%E5%BC%80%E5%90%AF"><span class="toc-number">19.1.</span> <span class="toc-text">ACL权限简介与开启</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ACL%E6%9D%83%E9%99%90%E6%9F%A5%E7%9C%8B%E4%B8%8E%E8%AE%BE%E5%AE%9A"><span class="toc-number">20.</span> <span class="toc-text">ACL权限查看与设定</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8BACL%E6%9D%83%E9%99%90"><span class="toc-number">20.1.</span> <span class="toc-text">查看ACL权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E5%AE%9AACL%E6%9D%83%E9%99%90"><span class="toc-number">20.2.</span> <span class="toc-text">设定ACL权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E5%A4%A7%E6%9C%89%E6%95%88%E6%9D%83%E9%99%90"><span class="toc-number">20.3.</span> <span class="toc-text">最大有效权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4ACL%E6%9D%83%E9%99%90"><span class="toc-number">20.4.</span> <span class="toc-text">删除ACL权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%92%E5%BD%92ACL%E6%9D%83%E9%99%90"><span class="toc-number">20.5.</span> <span class="toc-text">递归ACL权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4ACL%E6%9D%83%E9%99%90"><span class="toc-number">20.6.</span> <span class="toc-text">默认ACL权限</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%89%B9%E6%AE%8A%E6%9D%83%E9%99%90"><span class="toc-number">21.</span> <span class="toc-text">文件特殊权限</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SetUID"><span class="toc-number">21.1.</span> <span class="toc-text">SetUID</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E5%AE%9ASetUID%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">21.1.1.</span> <span class="toc-text">设定SetUID的方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%96%E6%B6%88SetUID%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">21.1.2.</span> <span class="toc-text">取消SetUID的方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%B1%E9%99%A9%E7%9A%84SetUID"><span class="toc-number">21.1.3.</span> <span class="toc-text">危险的SetUID</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SetGID"><span class="toc-number">21.2.</span> <span class="toc-text">SetGID</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E5%AE%9ASetGID%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">21.2.1.</span> <span class="toc-text">设定SetGID的方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%96%E6%B6%88SetUID%E7%9A%84%E6%96%B9%E6%B3%95-1"><span class="toc-number">21.2.2.</span> <span class="toc-text">取消SetUID的方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Sticky-BIT"><span class="toc-number">21.3.</span> <span class="toc-text">Sticky BIT</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#SBIT%E7%B2%98%E7%9D%80%E4%BD%8D%E4%BD%9C%E7%94%A8"><span class="toc-number">21.3.1.</span> <span class="toc-text">SBIT粘着位作用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E5%AE%9A%E7%B2%98%E7%9D%80%E4%BD%8D%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">21.3.2.</span> <span class="toc-text">设定粘着位的方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%96%E6%B6%88%E7%B2%98%E7%9D%80%E4%BD%8D%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">21.3.3.</span> <span class="toc-text">取消粘着位的方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%B1%9E%E6%80%A7chattr%E6%9D%83%E9%99%90"><span class="toc-number">22.</span> <span class="toc-text">文件系统属性chattr权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4sudo%E6%9D%83%E9%99%90"><span class="toc-number">23.</span> <span class="toc-text">系统命令sudo权限</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/04/04/redis/redis01/" title="redis简介"><img src="https://cdn.lianjinquan.com/img/img/top-img/2033638.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="redis简介"/></a><div class="content"><a class="title" href="/2021/04/04/redis/redis01/" title="redis简介">redis简介</a><time datetime="2021-04-03T16:00:00.000Z" title="发表于 2021-04-04 00:00:00">2021-04-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/22/springcloud/ribbon/" title="Spring Cloud系列之Ribbon负载均衡服务调用"><img src="https://cdn.lianjinquan.com/img/img/top-img/324854.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Cloud系列之Ribbon负载均衡服务调用"/></a><div class="content"><a class="title" href="/2021/01/22/springcloud/ribbon/" title="Spring Cloud系列之Ribbon负载均衡服务调用">Spring Cloud系列之Ribbon负载均衡服务调用</a><time datetime="2021-01-21T16:00:00.000Z" title="发表于 2021-01-22 00:00:00">2021-01-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/21/springcloud/consul/" title="Spring Cloud系列之Consul实现服务注册与发现"><img src="https://cdn.lianjinquan.com/img/img/top-img/324854.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Cloud系列之Consul实现服务注册与发现"/></a><div class="content"><a class="title" href="/2021/01/21/springcloud/consul/" title="Spring Cloud系列之Consul实现服务注册与发现">Spring Cloud系列之Consul实现服务注册与发现</a><time datetime="2021-01-20T16:00:00.000Z" title="发表于 2021-01-21 00:00:00">2021-01-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/28/docker/docker01/" title="docker简介"><img src="https://cdn.lianjinquan.com/img/img/top-img/2033638.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="docker简介"/></a><div class="content"><a class="title" href="/2020/12/28/docker/docker01/" title="docker简介">docker简介</a><time datetime="2020-12-27T16:00:00.000Z" title="发表于 2020-12-28 00:00:00">2020-12-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/12/07/java/java8/" title="java8"><img src="https://cdn.lianjinquan.com/img/img/top-img/2033551.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="java8"/></a><div class="content"><a class="title" href="/2020/12/07/java/java8/" title="java8">java8</a><time datetime="2020-12-06T16:00:00.000Z" title="发表于 2020-12-07 00:00:00">2020-12-07</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 <i style="color:#FF6A6A" class="fa fa-heartbeat"></i>lianjinquan</div><div class="framework-info"></div><div class="timeDate"><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span></div><div class="github-badge"><a style="color: #fff" rel="license" href="https://hexo.io/" target="_blank" title="由 Hexo 强力驱动"><span class="badge-subject">Powered</span><span class="badge-value bg-blue">Hexo</span></a><a style="color: #fff" rel="license" href="https://gitee.com/" target="_blank" title="静态网页托管于 Gitee Pages"><span class="badge-subject">Hosted</span><span class="badge-value bg-brightgreen">码云</span></a><a style="color: #fff" rel="license" href="https://account.aliyun.com/" target="_blank" title="阿里云 提供 CDN 加速服务"><span class="badge-subject">CDN</span><span class="badge-value bg-orange">阿里云</span></a><a style="color: #fff" rel="license" href="https://jerryc.me" target="_blank" title="站点使用 Butterfly主题"><span class="badge-subject">Theme</span><span class="badge-value bg-blue">Butterfly</span></a><a style="color: #fff" rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="本站点采用知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议进行许可"><span class="badge-subject"><i class="fa fa-copyright"></i></span><span class="badge-value bg-lightgrey">BY-NC-SA 4.0</span></a></div><div class="icp"><a target="_blank" rel="noopener" href="http://beian.miit.gov.cn/"><img class="icp-icon" src="https://cdn.lianjinquan.com/img/img/icp.png"/><span>豫ICP备2020026301号</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script></div><script data-pjax src="/js/style.js"></script><script data-pjax src="/js/botui.js"></script><script data-pjax src="/js/timeDate.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="我,喜欢,你" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>