<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>tomcat的安装与配置</title>
      <link href="/2020/09/15/tomcat/tomcat%20installation%20and%20configuration/"/>
      <url>/2020/09/15/tomcat/tomcat%20installation%20and%20configuration/</url>
      
        <content type="html"><![CDATA[<p>Tomcat的下载，安装，配置，部署，优化</p><a id="more"></a><h3 id="jdk的环境变量配置"><a href="#jdk的环境变量配置" class="headerlink" title="jdk的环境变量配置"></a>jdk的环境变量配置</h3><p>在’系统变量’中, 新建JAVA_HOME<br><img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="https://cdn.lianjinquan.com/img/posts/tomcat/java-home.png"><br>在PATH中添加 <code>%JAVA_HOME%\bin</code><br><img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="https://cdn.lianjinquan.com/img/posts/tomcat/java-path.png"><br>在’系统变量’中, 新建CLASSPATH,变量值为 <code>.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;</code><br><img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="https://cdn.lianjinquan.com/img/posts/tomcat/classpath.png"><br>测试java是否配置成功</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ java -version</span><br><span class="line">java version &quot;1.8.0_261&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_261-b12)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.261-b12, mixed mode)</span><br></pre></td></tr></table></figure><h3 id="tomcat下载"><a href="#tomcat下载" class="headerlink" title="tomcat下载"></a>tomcat下载</h3><p>进入tomcat官网，选择<a href="https://tomcat.apache.org/download-90.cgi">tomcat9</a>点击64-bit Windows zip (pgp, sha512)下载<br><img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="https://cdn.lianjinquan.com/img/posts/tomcat/tomcat-download.png"><br>下载到E盘，解压<br><img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="https://cdn.lianjinquan.com/img/posts/tomcat/tomcat9.png"></p><h3 id="tomcat配置环境变量"><a href="#tomcat配置环境变量" class="headerlink" title="tomcat配置环境变量"></a>tomcat配置环境变量</h3><p>在’系统变量’中, 新建变量名：CATALINA_HOME，变量值：E:\apache-tomcat-9.0.37<br><img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="https://cdn.lianjinquan.com/img/posts/tomcat/tomcat-home.png"><br>在PATH中添加 <code>%CATALINA_HOME%\bin</code><br><img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="https://cdn.lianjinquan.com/img/posts/tomcat/tomcat-path.png"></p><h3 id="启动tomcat的2中方法"><a href="#启动tomcat的2中方法" class="headerlink" title="启动tomcat的2中方法"></a>启动tomcat的2中方法</h3><ol><li>打开cmd,输入startup启动tomcat<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;startup</span><br><span class="line">Using CATALINA_BASE:   &quot;E:\apache-tomcat-9.0.37&quot;</span><br><span class="line">Using CATALINA_HOME:   &quot;E:\apache-tomcat-9.0.37&quot;</span><br><span class="line">Using CATALINA_TMPDIR: &quot;E:\apache-tomcat-9.0.37\temp&quot;</span><br><span class="line">Using JRE_HOME:        &quot;E:\java\jdk1.8.0_251&quot;</span><br><span class="line">Using CLASSPATH:       &quot;E:\apache-tomcat-9.0.37\bin\bootstrap.jar;E:\apache-tomcat-9.0.37\bin\tomcat-juli.jar&quot;</span><br></pre></td></tr></table></figure></li><li>进入E:\apache-tomcat-9.0.37\bin，双击startup.bat启动<br><img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="https://cdn.lianjinquan.com/img/posts/tomcat/start-tomcat.png"></li></ol><h3 id="验证是否启动成功"><a href="#验证是否启动成功" class="headerlink" title="验证是否启动成功"></a>验证是否启动成功</h3><p>在浏览器输入<a href="http://localhost:8080/">http://localhost:8080</a>  看到如下页面则启动成功<br><img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="https://cdn.lianjinquan.com/img/posts/tomcat/tomcat-startup.png"></p><h3 id="启动tomcat后乱码"><a href="#启动tomcat后乱码" class="headerlink" title="启动tomcat后乱码"></a>启动tomcat后乱码</h3><p>找到打开 <code>E:\apache-tomcat-9.0.37\conf\logging.properties</code> 文件<br>把 <code>java.util.logging.ConsoleHandler.encoding = UTF-8</code> 设置为 <code>java.util.logging.ConsoleHandler.encoding = GBK</code></p><h3 id="tomcat的默认Connector配置"><a href="#tomcat的默认Connector配置" class="headerlink" title="tomcat的默认Connector配置"></a>tomcat的默认Connector配置</h3><p>打开 <code>E:\apache-tomcat-9.0.37\conf\server.xml</code> 可以看到tomcat默认端口port是8080，协议类型protocol是HTTP/1.1，连接超时时间connectionTimeout是20000毫秒，安全通信（https）转发端口redirectPort是8443</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Connector port&#x3D;&quot;8080&quot; protocol&#x3D;&quot;HTTP&#x2F;1.1&quot;</span><br><span class="line">          connectionTimeout&#x3D;&quot;20000&quot;</span><br><span class="line">          redirectPort&#x3D;&quot;8443&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure><h3 id="tomcat并发优化"><a href="#tomcat并发优化" class="headerlink" title="tomcat并发优化"></a>tomcat并发优化</h3>]]></content>
      
      
      <categories>
          
          <category> tomcat </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tomcat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>超实用的下载视频工具</title>
      <link href="/2020/09/13/python/Super%20useful%20download%20video%20tool/"/>
      <url>/2020/09/13/python/Super%20useful%20download%20video%20tool/</url>
      
        <content type="html"><![CDATA[<p>You-Get是python的一个开源库，使用you-get你只需要取得视频所在网页链接地址就可以很轻松的下载下来，目前you-get所支持的网站包含国内外几十个网站(youtube、twitter、腾讯、爱奇艺、优酷、bilibili等)，基本上可以满足你的需求。</p><a id="more"></a><h3 id="Windows安装Python"><a href="#Windows安装Python" class="headerlink" title="Windows安装Python"></a>Windows安装Python</h3><ol><li><p>进入python官网，选择<a href="https://www.python.org/downloads/">dowload</a>然后选择windows如下图<br><img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="https://cdn.lianjinquan.com/img/python/youget/download-python.png" alt="下载python"></p></li><li><p>安装Python<br><img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="https://cdn.lianjinquan.com/img/python/youget/python-1.png" alt="安装python-1"><br>请务必要勾选Add Python 3.8 to PATH，这样可以将 Python 命令工具所在目录添加到系统 Path 环境变量中，以后开发程序或者运行 Python 命令会非常方便。<br><img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="https://cdn.lianjinquan.com/img/python/youget/python-2.png" alt="安装python-2"><br>点击“Next”继续，选择安装目录。<br><img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="https://cdn.lianjinquan.com/img/python/youget/python-3.png" alt="安装python-3"><br>选择好你常用的安装目录，点击“Install”，等待几分钟就可以完成安装。</p></li><li><p>安装成功后。使用python -version检测一下，是否安装成功。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python --version</span><br><span class="line">Python 3.8.5</span><br></pre></td></tr></table></figure></li></ol><h3 id="安装You-Get"><a href="#安装You-Get" class="headerlink" title="安装You-Get"></a>安装You-Get</h3><p>打开Windows的命令提示符（win+r 输入cmd）输入一下命令安装you-get</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install you-get</span><br></pre></td></tr></table></figure><h3 id="升级You-Get"><a href="#升级You-Get" class="headerlink" title="升级You-Get"></a>升级You-Get</h3><p>根据您选择安装的选项you-get，可以通过以下方式进行升级：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install --upgrade you-get</span><br></pre></td></tr></table></figure><h3 id="查看下载视频详情"><a href="#查看下载视频详情" class="headerlink" title="查看下载视频详情"></a>查看下载视频详情</h3><p>收到感兴趣的视频后，您可能需要使用–info/ -i选项查看所有可用的质量和格式。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ you-get -i https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1ix411c7mk&#x2F;?spm_id_from&#x3D;333.788.videocard.1</span><br><span class="line">site:                Bilibili</span><br><span class="line">title:               “吔屎啦，梁非凡”非凡哥原版片段</span><br><span class="line">streams:             # Available quality and codecs</span><br><span class="line">    [ DASH ] ____________________________________</span><br><span class="line">    - format:        dash-flv480</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       清晰 480P</span><br><span class="line">      size:          9.0 MiB (9428834 bytes)</span><br><span class="line">    # download-with: you-get --format&#x3D;dash-flv480 [URL]</span><br><span class="line"></span><br><span class="line">    - format:        dash-flv360</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       流畅 360P</span><br><span class="line">      size:          6.0 MiB (6242812 bytes)</span><br><span class="line">    # download-with: you-get --format&#x3D;dash-flv360 [URL]</span><br><span class="line"></span><br><span class="line">    [ DEFAULT ] _________________________________</span><br><span class="line">    - format:        flv480</span><br><span class="line">      container:     flv</span><br><span class="line">      quality:       清晰 480P</span><br><span class="line">      size:          11.6 MiB (12194537 bytes)</span><br><span class="line">    # download-with: you-get --format&#x3D;flv480 [URL]</span><br><span class="line"></span><br><span class="line">    - format:        flv360</span><br><span class="line">      container:     flv</span><br><span class="line">      quality:       流畅 360P</span><br><span class="line">      size:          7.9 MiB (8259558 bytes)</span><br><span class="line">    # download-with: you-get --format&#x3D;flv360 [URL]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">C:\Users\Administrator&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="下载视频"><a href="#下载视频" class="headerlink" title="下载视频"></a>下载视频</h3><p>标记的格式DEFAULT是您将默认获得的格式。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ you-get https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1ix411c7mk&#x2F;?spm_id_from&#x3D;333.788.videocard.1</span><br><span class="line">site:                Bilibili</span><br><span class="line">title:               “吔屎啦，梁非凡”非凡哥原版片段</span><br><span class="line">stream:</span><br><span class="line">    - format:        flv480</span><br><span class="line">      container:     flv</span><br><span class="line">      quality:       清晰 480P</span><br><span class="line">      size:          11.6 MiB (12194537 bytes)</span><br><span class="line">    # download-with: you-get --format&#x3D;flv480 [URL]</span><br><span class="line"></span><br><span class="line">you-get: Skipping .\“吔屎啦，梁非凡”非凡哥原版片段.flv: file already exists</span><br><span class="line"></span><br><span class="line">Downloading “吔屎啦，梁非凡”非凡哥原版片段.cmt.xml ...</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>或者，如果您喜欢其他格式（mp4），则只需使用you-get显示的选项即可：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ you-get --format&#x3D;dash-flv480 https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1ix411c7mk&#x2F;?spm_id_from&#x3D;333.788.videocard.1</span><br><span class="line">site:                Bilibili</span><br><span class="line">title:               “吔屎啦，梁非凡”非凡哥原版片段</span><br><span class="line">stream:</span><br><span class="line">    - format:        dash-flv480</span><br><span class="line">      container:     mp4</span><br><span class="line">      quality:       清晰 480P</span><br><span class="line">      size:          9.0 MiB (9428834 bytes)</span><br><span class="line">    # download-with: you-get --format&#x3D;dash-flv480 [URL]</span><br><span class="line"></span><br><span class="line">Downloading “吔屎啦，梁非凡”非凡哥原版片段.mp4 ...</span><br><span class="line"> 100% (  9.0&#x2F;  9.0MB) ├████████████████████████████████████████┤[2&#x2F;2]   12 MB&#x2F;s</span><br><span class="line"></span><br><span class="line">Downloading “吔屎啦，梁非凡”非凡哥原版片段.cmt.xml ...</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>注意</p><ul><li>目前，我们大多数受支持的网站尚未实现格式选择；在这种情况下，默认的下载格式是质量最高的格式。</li><li>ffmpeg 是必需的依赖项，用于下载和加入分多个部分（例如，在优酷等某些网站上）流式传输的视频，以及用于1080p或高分辨率的YouTube视频。</li><li>如果您不想you-get在下载后加入视频部分，请使用–no-merge/ -n选项。</li></ul><h3 id="下载其他内容"><a href="#下载其他内容" class="headerlink" title="下载其他内容"></a>下载其他内容</h3><p>如果您已经有了想要的确切资源的URL，则可以使用以下方法直接下载它：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ you-get https:&#x2F;&#x2F;cdn.lianjinquan.com&#x2F;img&#x2F;background&#x2F;2029675.jpg</span><br><span class="line">Site:       lianjinquan.com</span><br><span class="line">Title:      2029675</span><br><span class="line">Type:       JPEG Image (image&#x2F;jpeg)</span><br><span class="line">Size:       1.25 MiB (1308244 Bytes)</span><br><span class="line"></span><br><span class="line">Downloading 2029675.jpg ...</span><br><span class="line"> 100% (  1.2&#x2F;  1.2MB) ├████████████████████████████████████████┤[1&#x2F;1]   11 MB&#x2F;s</span><br></pre></td></tr></table></figure><h3 id="暂停并继续下载"><a href="#暂停并继续下载" class="headerlink" title="暂停并继续下载"></a>暂停并继续下载</h3><p>您可以使用Ctrl+C中断下载</p><h3 id="下载路径"><a href="#下载路径" class="headerlink" title="下载路径"></a>下载路径</h3><p>使用–output-dir/ -o选项设置路径，并使用–output-filename/ -O设置下载文件的名称：</p><p>下载到E盘video目录下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ you-get -o E:&#x2F;video https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1ix411c7mk&#x2F;?spm_id_from&#x3D;333.788.videocard.1</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql数据库设计规范</title>
      <link href="/2020/09/12/mysql/mysql%20database%20design%20specification/"/>
      <url>/2020/09/12/mysql/mysql%20database%20design%20specification/</url>
      
        <content type="html"><![CDATA[<p>在使用MySQL数据库的时候需要遵循一定规范，扬长避短。本规范旨在帮助或指导开发、测试、数据库操作人员等做出适合线上业务的数据库设计和规范化操作。在数据库变更和处理流程、数据库表设计、SQL编写等方面予以规范。</p><a id="more"></a><h3 id="基础规范"><a href="#基础规范" class="headerlink" title="基础规范"></a>基础规范</h3><ol><li>【强制】数据库表结构字符集统一使用UTF8mb4。</li><li>【强制】新建表，必须显式指定主键。</li><li>【强制】不在数据库中存储图片、大文件等大数据。</li><li>【强制】所有表名、表字段必须添加注释。</li><li>【强制】无特殊需求，必须统一使用INNODB存储引擎。</li></ol><h3 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h3><ol><li>【强制】数据库名、表名、字段名必须统一使用小写字母，采用26个英文字母和0-9的自然数组合，命名不能只含数字，加上下划线“_”组成，不建议加数字。</li><li>【强制】特殊情况下，需要数字与字母组合一起命名时，名称必须用英文字母开头，采用可体现业务模块含义的单词或缩写，单词中间用“_”分割，单词只能由英文字母、数字组成，不能只含数字。正例: service_level2</li><li>【强制】禁止使用大小写字母混合方式命名数据库名、表名、字段名。</li><li>【强制】数据库名、表名、字段名禁止使用拼音或夹带拼音。</li><li>【强制】数据库名、表名、字段名禁止使用MySQL保留字、关键字。</li><li>【强制】数据库名、表名、字段名的命名，英文单词组合个数不超过5个，字符数不超过32个字符，须见名知意，允许使用英文缩写。</li><li>【强制】数据库名，必须能体现业务方向或业务系统，其名称含义能达到见名知意效果。正例: vehicle_center（库名）。</li><li>【强制】 数据库表名，必须能体现业务方向或业务系统，最好是加上“业务名称_表的作用”，其名称含义简单易懂，能达到见名知意效果。正例: user_login（表名）</li><li>【强制】表字段命名应能体现被设计对象的属性含义或作用，并且需要有完整的注释说明；</li><li>【强制】数据库索引命名标准,pk主键、uk_xx唯一键、idx_xx普通索引(xx代表字段名)；idx_xx_xx复合索引(xx代表字段名);</li><li>【强制】数据库视图命名标准,v_xx(xx代表业务主体内容)；</li></ol><h3 id="表结构设计规范"><a href="#表结构设计规范" class="headerlink" title="表结构设计规范"></a>表结构设计规范</h3><ol><li>【强制】新建表时必须显式指定主键，类型为int或bigint，且为auto_increment。</li><li>【强制】创建表时必须显式指定字符集为utf8mb4。</li><li>【强制】创建表时必须显式指定表存储引擎类型，如无特殊需求，一律使用InnoDB。</li><li>【强制】新建表时，表里每个字段必须要有comment注释。</li><li>【强制】对已有表做表字段追加，所追加字段必须有注释说明。</li><li>【强制】表设计过程中，单表不应有过多热点字段。</li><li>【建议】核心表（如用户表，金钱相关的表）须有行数据的创建时间字段create_time和最后更新时间字段update_time。</li><li>【建议】表中所有字段必须都是NOT NULL属性，业务可以根据需要定义DEFAULT值。</li><li>【建议】不建议使用text/blob，如在满足长度的情况下，建议用varchar代替text，如无法避免text、blob，应独立出来一张表。</li><li>【强制】禁止存储图片。</li><li>【强制】禁止使用外键。</li></ol><h3 id="字段类型选择与优化"><a href="#字段类型选择与优化" class="headerlink" title="字段类型选择与优化"></a>字段类型选择与优化</h3><ol><li>【强制】表中的自增列auto_increment属性，推荐使用int、bigint类型。</li><li>【强制】涉及金额、费率等字段,应统一使用decimal。</li><li>【强制】业务字段中存在状态status判断的、类型type等字段推荐使用tinytint。</li><li>【建议】业务中IP地址字段推荐使用int类型。</li><li>【建议】文本数据尽量用varchar存储,字符数不要超过2000。</li><li>【建议】时间类型尽量选取timestamp。</li><li>【强制】涉及地理位置信息,应统一使用geoetry。</li></ol><p>详细存储大小参加下图：<br> <img src= "https://cdn.lianjinquan.com/img/img/loading.gif" data-lazy-src="/images/mysql%E5%AD%98%E5%82%A8%E5%A4%A7%E5%B0%8F.png" alt="baidu"></p><h3 id="索引规范与设计"><a href="#索引规范与设计" class="headerlink" title="索引规范与设计"></a>索引规范与设计</h3><ol><li>【强制】InnoDB存储引擎表，索引类型必须为BTREE。</li><li>【强制】主键的名称以“pk_”开头，唯一键以“uk_”或“uq_”开头，普通索引以“idx_”开头，idx_xx(普通索引),idx_xx_xx(复合索引),xx代表后缀，以字段的名称或缩写作为后缀, 命名一律使用小写格式。</li><li>【强制】索引建立的规则表应遵循列数据随机率要高于%70以上，count(distinct (column))/count(*)值越接近于1，越适合建索引，索引越高效。</li><li>【建议】在建立索引时，应多考虑建立联合索引，并把区分度最高的字段放在最前面。</li><li>【建议】在多表join的SQL里，保证被驱动表的连接列上有索引，这样join执行效率最高。</li><li>【强制】业务表含有唯一约束列，必须为其创建唯一键或者复合唯一键。</li><li>【建议】不要在更新频繁的列上建索引。</li><li>【建议】建表或加索引时，保证表里互相不存在重复、冗余索引。</li><li>【强制】单表不宜建过多索引，索引个数不能超过7个。</li></ol><h3 id="分区表"><a href="#分区表" class="headerlink" title="分区表"></a>分区表</h3><ol><li>【强制】分区表的分区字段（partition-key）必须有索引，或者是组合索引的首列。</li><li>【强制】单个分区表中的分区（包括子分区）个数不能超过1024。</li><li>【强制】访问分区表的SQL必须包含分区键。</li><li>【强制】对于分区表执行alter table操作，必须在业务低峰期执行。</li></ol><h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><ol><li>【强制】数据库本身库、表、列所有字符集必须保持一致，为utf8mb4</li><li>【强制】前端程序字符集或者环境变量中的字符集，与数据库、表的字符集必须一致，统一为utf8或utf8mb4。</li></ol><h3 id="规范建表语句示例"><a href="#规范建表语句示例" class="headerlink" title="规范建表语句示例"></a>规范建表语句示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE USER (</span><br><span class="line">    &#96;id&#96; BIGINT ( 11 ) NOT NULL AUTO_INCREMENT,</span><br><span class="line">    &#96;user_id&#96; BIGINT ( 11 ) NOT NULL COMMENT &#39;用户 id&#39;,</span><br><span class="line">    &#96;username&#96; VARCHAR ( 45 ) NOT NULL COMMENT &#39;真实姓名&#39;,</span><br><span class="line">    &#96;email&#96; VARCHAR ( 30 ) NOT NULL COMMENT &#39;用户邮箱&#39;,</span><br><span class="line">    &#96;nickname&#96; VARCHAR ( 45 ) NOT NULL COMMENT &#39;昵称&#39;,</span><br><span class="line">    &#96;avatar&#96; INT ( 11 ) NOT NULL COMMENT &#39;头像&#39;,</span><br><span class="line">    &#96;birthday&#96; date NOT NULL COMMENT &#39;生日&#39;,</span><br><span class="line">    &#96;sex&#96; TINYINT ( 4 ) DEFAULT &#39;0&#39; COMMENT &#39;性别&#39;,</span><br><span class="line">    &#96;short_introduce&#96; VARCHAR ( 150 ) DEFAULT NULL COMMENT &#39;一句话介绍自己，最多50个汉字&#39;,</span><br><span class="line">    &#96;user_resume&#96; VARCHAR ( 300 ) NOT NULL COMMENT &#39;用户提交的简历存放地址&#39;,</span><br><span class="line">    &#96;user_register_ip&#96; INT NOT NULL COMMENT &#39;用户注册时的源 ip&#39;,</span><br><span class="line">    &#96;create_time&#96; TIMESTAMP NOT NULL COMMENT &#39;用户记录创建的时间&#39;,</span><br><span class="line">    &#96;update_time&#96; TIMESTAMP NOT NULL COMMENT &#39;用户资料修改的时间&#39;,</span><br><span class="line">    &#96;user_review_status&#96; TINYINT NOT NULL COMMENT &#39;用户资料审核状态， 1为通过，2为审核中，3为未通过，4为还未提交审核&#39;,</span><br><span class="line">    PRIMARY KEY ( &#96;id&#96; ),</span><br><span class="line">    UNIQUE KEY &#96;idx_user_id&#96; ( &#96;user_id&#96; ),</span><br><span class="line">    KEY &#96;idx_username&#96; ( &#96;username&#96; ),</span><br><span class="line">   KEY &#96;idx_create_time&#96; ( &#96;create_time&#96;, &#96;user_review_status&#96; ) </span><br><span class="line">) ENGINE &#x3D; INNODB DEFAULT CHARSET &#x3D; utf8mb4 COMMENT &#x3D; &#39;网站用户基本信息&#39;;</span><br></pre></td></tr></table></figure><h3 id="SQL使用规范"><a href="#SQL使用规范" class="headerlink" title="SQL使用规范"></a>SQL使用规范</h3><h3 id="查询语句"><a href="#查询语句" class="headerlink" title="查询语句"></a>查询语句</h3><ol><li>【强制】SELECT语句必须指定具体字段名称，禁止写成“*”。</li><li>【强制】SELECT语句表名前必须加上库名。正例：select vin,status,manufacture_time from vcd.tm_vehicle;  vcd为库名</li><li>【强制】SELECT语句查询数据输出行数比较多的情况下，需要加limit 限制输出的行数。</li><li>【建议】SELECT语句尽量避免嵌套多个语句。</li><li>【强制】禁止在生产数据库做复杂运算。</li><li>【建议】SELECT语句避免在索引列上使用函数或计算。</li><li>【建议】SELECT语句不要使用UNION，推荐使用UNION ALL，并且UNION子句个数限制在5个以内。</li><li>【建议】in值列表限制在500以内。正例：select… where userid in(….500个以内…)，这么做是为了减少底层扫描，减轻数据库压力从而加速查询。</li><li>【强制】where条件里等号左右字段类型必须一致，否则无法利用索引。</li><li>【建议】SELECT|UPDATE|DELETE|REPLACE要有WHERE子句，且WHERE子句的条件必需使用索引查找。</li><li>【强制】WHERE 子句中禁止只使用全模糊的LIKE条件进行查找，必须有其他等值或范围查询条件，否则无法利用索引。</li><li>【建议】索引列不要使用函数或表达式，否则无法利用索引。正例：where length(name)=’Admin’或where user_id+2=10023。</li><li>【建议】减少使用or语句，可将or语句优化为union，然后在各个where条件上建立索引。如where a=1 or b=2优化为where a=1… union …where b=2, key(a),key(b)</li><li>【建议】分页查询，当limit起点较高时，可先用过滤条件进行过滤。正例：select a,b,c from t1 limit 10000,20;   优化为:Select a,b,c from t1 where id&gt;10000 limit 20;</li></ol><h3 id="多表连接"><a href="#多表连接" class="headerlink" title="多表连接"></a>多表连接</h3><ol><li>【建议】不建议跨db的join语句查询。</li><li>【强制】禁止在业务的更新类SQL语句中使用join，比如update t1 join t2…</li><li>【建议】不建议使用子查询，建议将子查询SQL拆开结合程序多次查询，或使用join来代替子查询。</li><li>【建议】线上环境，多表join不要超过5个表。</li><li>【建议】多表连接查询推荐使用别名，且SELECT列表中要用别名引用字段，数据库.表格式，如“select a from db1.table1 alias1 where …”</li><li>【建议】在多表join中，尽量选取结果集较小的表作为驱动表，来join其他表。</li></ol><h3 id="排序和分组"><a href="#排序和分组" class="headerlink" title="排序和分组"></a>排序和分组</h3><ol><li>【建议】减少使用order by，和业务沟通能不排序就不排序，或将排序放到程序端去做。Order by、group by、distinct这些语句较为耗费CPU，数据库的CPU资源是极其宝贵的。</li><li>【建议】order by、group by、distinct这些SQL尽量利用索引直接检索出排序好的数据。如where a=1 order by可以利用key(a,b)。</li><li>【建议】包含了order by、group by、distinct这些查询的语句，where条件过滤出来的结果集请保持在1000行以内，否则SQL会很慢。</li><li>【强制】禁用update|delete t1 … where a=XX limit XX; 这种带limit的更新语句。因为会导致主从不一致，导致数据错乱。建议加上order by PK</li><li>【强制】禁止使用关联子查询，如update t1 set … where name in(select name from user where…);效率极其低下。</li><li>【强制】禁用procedure、function、trigger、views、event、外键约束。因为他们消耗数据库资源，降低数据库集群可扩展性。推荐都在程序端实现。</li><li>【强制】禁用insert into …on duplicate key update… 在高并发环境下，会造成主从不一致。</li><li>【强制】禁止联表更新语句，如update t1,t2 where t1.id=t2.id…</li><li>【强制】insert语句指定具体字段名称，不要写成insert into t1 values(…)。</li></ol>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux的文件权限与目录配置</title>
      <link href="/2020/08/30/linux/linux%E7%9A%84%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E4%B8%8E%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE/"/>
      <url>/2020/08/30/linux/linux%E7%9A%84%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E4%B8%8E%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>Linux最优秀的地方之一就在于他的多用户多任务环境。而为了让各个使用者具有较保密的文件数据，因此文件的权限管理就变的很重要了。<br>Linux一般将文件可存取的身份分为三个类别，分别是 owner/group/others，且三种身份各有 read/write/execute 等权限。</p><a id="more"></a><h3 id="用户与用户组"><a href="#用户与用户组" class="headerlink" title="用户与用户组"></a>用户与用户组</h3><ol><li><span class='p red'>文件拥有者user</span>  </li><li><span class='p yellow'>用户组group</span> </li><li><span class='p green'>其他人others</span> </li></ol><h3 id="linux文件属性"><a href="#linux文件属性" class="headerlink" title="linux文件属性"></a>linux文件属性</h3><p>若有几个文件的类型与权限如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@i ~]# ls -al  </span><br><span class="line">total 48</span><br><span class="line">dr-xr-x---.  5 root root 4096 Aug 23 16:50 .</span><br><span class="line">dr-xr-xr-x. 18 root root 4096 Aug 25 21:46 ..</span><br><span class="line">-rw-------   1 root root  454 Aug 25 21:36 .bash_history</span><br><span class="line">drwx------   2 root root 4096 Aug 23 16:34 .ssh</span><br><span class="line">-rwxrwxrwx   1 root root 1864 Dec 13  2018 initial-setup-ks.cfg</span><br></pre></td></tr></table></figure><ol><li>第一栏代表这个文件的类型与权限：</li></ol><ul><li><code>d</code> 目录</li><li><code>-</code> 文件</li><li><code>l</code> 链接文件（相当于windows中的快捷键）</li><li><code>b</code> 设备文件里面的可供储存的周边设备（可随机存取设备）</li><li><code>c</code> 设备文件里面的串行端口设备设备，例如键盘、鼠标（一次性读取设备）</li></ul><p>接下来的字符中，以三个为一组，且均为“rwx” 的三个参数的组合，其中，<code>r</code>代表可读（read）、<code>w</code>代表可写（write）、<code>x</code>代表可执行（execute）,且位置不会改变，如果没有权限，就会出现减号<code>-</code> </p><ul><li>第一组为“文件拥有者可具备的权限”</li><li>第二组为“加入此群组之帐号的权限”</li><li>第三组为“非本人且没有加入本群组之其他帐号的权限”。</li></ul><ol start="2"><li>第二栏表示有多少文件名链接到此节点（i-node）</li><li>第三栏表示这个文件（或目录）的“拥有者帐号”</li><li>第四栏表示这个文件的所属群组</li><li>第五栏为这个文件的容量大小，默认单位为Bytes</li><li>第六栏为这个文件的创建日期或者是最近的修改日期</li><li>第七栏为这个文件的文件名，如果文件名之前多一个点<code>.</code>，则代表这个文件为“隐藏文件”</li></ol><h3 id="如何修改文件属性与权限"><a href="#如何修改文件属性与权限" class="headerlink" title="如何修改文件属性与权限"></a>如何修改文件属性与权限</h3><ol><li>chgrp ：改变文件所属群组</li></ol><ul><li>修改所属用户组，chgrp,这个指令就是change group的缩写,被改变的群组名称必须要在/etc/group文件内存在才行，否则就会显示错误！</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[[email protected] ~]# chgrp [-R] dirname&#x2F;filename ...</span><br><span class="line">选项与参数：</span><br><span class="line">-R : 进行递回（recursive）的持续变更，亦即连同次目录下的所有文件、目录</span><br><span class="line">     都更新成为这个群组之意。常常用在变更某一目录内所有的文件之情况。</span><br><span class="line">范例：</span><br><span class="line">[[email protected] ~]# chgrp users initial-setup-ks.cfg</span><br><span class="line">[[email protected] ~]# ls -l</span><br><span class="line">-rw-r--r--. 1 root users 1864 May  4 18:01 initial-setup-ks.cfg</span><br><span class="line">[[email protected] ~]# chgrp testing initial-setup-ks.cfg</span><br><span class="line">chgrp: invalid group:  &#96;testing&#39; &lt;&#x3D;&#x3D; 发生错误讯息啰～找不到这个群组名～</span><br></pre></td></tr></table></figure><ol start="2"><li>chown ：改变文件拥有者</li></ol><ul><li>修改拥有者，chown,这个指令就是change owner的缩写,使用者必须是已经存在系统中的帐号，也就是在/etc/passwd 这个文件中有纪录的使用者名称才能改变<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[[email protected] ~]# chown [-R] 帐号名称 文件或目录</span><br><span class="line">[[email protected] ~]# chown [-R] 帐号名称:群组名称 文件或目录</span><br><span class="line">选项与参数：</span><br><span class="line">-R : 进行递回（recursive）的持续变更，亦即连同次目录下的所有文件都变更</span><br><span class="line"></span><br><span class="line">范例：将 initial-setup-ks.cfg 的拥有者改为bin这个帐号：</span><br><span class="line">[[email protected] ~]# chown bin initial-setup-ks.cfg</span><br><span class="line">[[email protected] ~]# ls -l</span><br><span class="line">-rw-r--r--. 1 bin  users 1864 May  4 18:01 initial-setup-ks.cfg</span><br><span class="line"></span><br><span class="line">范例：将 initial-setup-ks.cfg 的拥有者与群组改回为root：</span><br><span class="line">[[email protected] ~]# chown root:root initial-setup-ks.cfg</span><br><span class="line">[[email protected] ~]# ls -l</span><br><span class="line">-rw-r--r--. 1 root root 1864 May  4 18:01 initial-setup-ks.cfg</span><br></pre></td></tr></table></figure></li></ul><ol start="3"><li>chmod ：改变文件的权限</li></ol><ul><li><span class='p cyan'>数字类型</span>，数字累加<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">r:4</span><br><span class="line">w:2</span><br><span class="line">x:1</span><br><span class="line"></span><br><span class="line">语法：chomd [-R] xyz文件或目录</span><br><span class="line">-R 进行递归修改，即连同子目录下的所有文件都会被修改</span><br><span class="line"></span><br><span class="line">chmod 777 test.txt    &#x3D;&#x3D;&gt;[-rwxrwxrwx]  owner &#x3D; rwx &#x3D; 4+2+1 &#x3D; 7 , group &#x3D; rwx &#x3D; 4+2+1 &#x3D; 7, other &#x3D; 4+2+1 &#x3D; 7</span><br><span class="line">chmod 770 test.txt    &#x3D;&#x3D;&gt;[-rwxrwx---]  owner &#x3D; rwx &#x3D; 4+2+1 &#x3D; 7 , group &#x3D; rwx &#x3D; 4+2+1 &#x3D; 7, other &#x3D; 0+0+0 &#x3D; 0</span><br><span class="line">chmod 664 test.txt    &#x3D;&#x3D;&gt;[-rw-rw-r--]  owner &#x3D; rwx &#x3D; 4+2+0 &#x3D; 6 , group &#x3D; rwx &#x3D; 4+2+0 &#x3D; 6, other &#x3D; 4+0+0 &#x3D; 4</span><br><span class="line">chmod 644 test.txt    &#x3D;&#x3D;&gt;[-rw-r--r--]  owner &#x3D; rwx &#x3D; 4+2+0 &#x3D; 6 , group &#x3D; rwx &#x3D; 4+0+0 &#x3D; 4, other &#x3D; 0+0+0 &#x3D; 0</span><br><span class="line">chmod 754 test.txt    &#x3D;&#x3D;&gt;[-rwxr-xr--]  owner &#x3D; rwx &#x3D; 4+2+1 &#x3D; 7 , group &#x3D; rwx &#x3D; 4+0+1 &#x3D; 5, other &#x3D; 4+0+0 &#x3D; 4</span><br></pre></td></tr></table></figure></li><li><span class='p cyan'>符号类型</span></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">u &#x3D; user 拥有者</span><br><span class="line">g &#x3D; group 用户组</span><br><span class="line">o &#x3D; other 其他人</span><br><span class="line">a &#x3D; all 全部</span><br><span class="line">+ 加入</span><br><span class="line">- 移除</span><br><span class="line">&#x3D; 设置</span><br><span class="line"></span><br><span class="line">chmod u&#x3D;rwx,go&#x3D;rx     test.txt   &#x3D;&#x3D;&gt;[-rwxr-xr-x]</span><br><span class="line">chmod u&#x3D;rwx,g&#x3D;rx,o&#x3D;r  text.txt   &#x3D;&#x3D;&gt;[-rwxr-xr--]</span><br><span class="line">chmod a+w             text.txt   &#x3D;&#x3D;&gt;则[-rwxr-xr-x] 变为 [-rwxrwxrwx]</span><br><span class="line">chmod a-x             text.txt   &#x3D;&#x3D;&gt;则[-rwxr-xr-x] 变为 [-rw-rw-rw-]</span><br></pre></td></tr></table></figure><h3 id="目录与文件的权限意义"><a href="#目录与文件的权限意义" class="headerlink" title="目录与文件的权限意义"></a>目录与文件的权限意义</h3><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>权限对文件的重要性</p>            </div><ul><li>r(reader): 可以读取文件内容</li><li>w(writer): 可以编辑，修改，新增文件内容，但是不能删除文件</li><li>x(execute): 使该文件用于被系统执行的权限，与文件名无关（与windows的扩展名例如 .exe  .bat等根据扩展名被执行无关，只有要x权限就可以被执行）</li></ul><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>权限对目录的重要性</p>            </div><ul><li>r(reader): 读取目录列表</li><li>w(writer): 创建新的文件与目录，删除文件与目录，对文件与目录改名，移动文件与目录的位置</li><li>x(execute): 能否进入该目录</li></ul><h3 id="linux文件种类与扩展名"><a href="#linux文件种类与扩展名" class="headerlink" title="linux文件种类与扩展名"></a>linux文件种类与扩展名</h3><h3 id="linux目录配置的依据-FHS"><a href="#linux目录配置的依据-FHS" class="headerlink" title="linux目录配置的依据-FHS"></a>linux目录配置的依据-FHS</h3><h3 id="目录树（directory-tree）"><a href="#目录树（directory-tree）" class="headerlink" title="目录树（directory tree）"></a>目录树（directory tree）</h3><h3 id="绝对路径与相对路径"><a href="#绝对路径与相对路径" class="headerlink" title="绝对路径与相对路径"></a>绝对路径与相对路径</h3>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux</title>
      <link href="/2020/08/23/linux/linux/"/>
      <url>/2020/08/23/linux/linux/</url>
      
        <content type="html"><![CDATA[<p>linux基础命令的操作</p><a id="more"></a><h3 id="显示日期与时间的命令：date"><a href="#显示日期与时间的命令：date" class="headerlink" title="显示日期与时间的命令：date"></a>显示日期与时间的命令：date</h3><p>当前linux的系统时间</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@i ~]# date</span><br><span class="line">Sun Aug 23 17:01:04 CST 2020</span><br></pre></td></tr></table></figure><p>格式化输出当前系统时间</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@i ~]# date +%Y&#x2F;%m&#x2F;%d</span><br><span class="line">2020&#x2F;08&#x2F;23</span><br><span class="line">[root@i ~]# date +%H:%M</span><br><span class="line">17:07</span><br></pre></td></tr></table></figure><h3 id="显示日历的命令：cal"><a href="#显示日历的命令：cal" class="headerlink" title="显示日历的命令：cal"></a>显示日历的命令：cal</h3><p>语法：cal [month] [year]</p><p>显示当前月份</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@i ~]# cal</span><br><span class="line">     August 2020    </span><br><span class="line">Su Mo Tu We Th Fr Sa</span><br><span class="line">                   1</span><br><span class="line"> 2  3  4  5  6  7  8</span><br><span class="line"> 9 10 11 12 13 14 15</span><br><span class="line">16 17 18 19 20 21 22</span><br><span class="line">23 24 25 26 27 28 29</span><br><span class="line">30 31</span><br></pre></td></tr></table></figure><p>显示整年的日历2020</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[root@i ~]# cal 2020</span><br><span class="line">                               2020                               </span><br><span class="line"></span><br><span class="line">       January               February                 March       </span><br><span class="line">Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa</span><br><span class="line">          1  2  3  4                      1    1  2  3  4  5  6  7</span><br><span class="line"> 5  6  7  8  9 10 11    2  3  4  5  6  7  8    8  9 10 11 12 13 14</span><br><span class="line">12 13 14 15 16 17 18    9 10 11 12 13 14 15   15 16 17 18 19 20 21</span><br><span class="line">19 20 21 22 23 24 25   16 17 18 19 20 21 22   22 23 24 25 26 27 28</span><br><span class="line">26 27 28 29 30 31      23 24 25 26 27 28 29   29 30 31</span><br><span class="line"></span><br><span class="line">        April                   May                   June        </span><br><span class="line">Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa</span><br><span class="line">          1  2  3  4                   1  2       1  2  3  4  5  6</span><br><span class="line"> 5  6  7  8  9 10 11    3  4  5  6  7  8  9    7  8  9 10 11 12 13</span><br><span class="line">12 13 14 15 16 17 18   10 11 12 13 14 15 16   14 15 16 17 18 19 20</span><br><span class="line">19 20 21 22 23 24 25   17 18 19 20 21 22 23   21 22 23 24 25 26 27</span><br><span class="line">26 27 28 29 30         24 25 26 27 28 29 30   28 29 30</span><br><span class="line">                       31</span><br><span class="line">        July                  August                September     </span><br><span class="line">Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa</span><br><span class="line">          1  2  3  4                      1          1  2  3  4  5</span><br><span class="line"> 5  6  7  8  9 10 11    2  3  4  5  6  7  8    6  7  8  9 10 11 12</span><br><span class="line">12 13 14 15 16 17 18    9 10 11 12 13 14 15   13 14 15 16 17 18 19</span><br><span class="line">19 20 21 22 23 24 25   16 17 18 19 20 21 22   20 21 22 23 24 25 26</span><br><span class="line">26 27 28 29 30 31      23 24 25 26 27 28 29   27 28 29 30</span><br><span class="line">                       30 31</span><br><span class="line">       October               November               December      </span><br><span class="line">Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa</span><br><span class="line">             1  2  3    1  2  3  4  5  6  7          1  2  3  4  5</span><br><span class="line"> 4  5  6  7  8  9 10    8  9 10 11 12 13 14    6  7  8  9 10 11 12</span><br><span class="line">11 12 13 14 15 16 17   15 16 17 18 19 20 21   13 14 15 16 17 18 19</span><br><span class="line">18 19 20 21 22 23 24   22 23 24 25 26 27 28   20 21 22 23 24 25 26</span><br><span class="line">25 26 27 28 29 30 31   29 30                  27 28 29 30 31</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>显示2020年8月的日历</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@i ~]# cal 8 2020</span><br><span class="line">     August 2020    </span><br><span class="line">Su Mo Tu We Th Fr Sa</span><br><span class="line">                   1</span><br><span class="line"> 2  3  4  5  6  7  8</span><br><span class="line"> 9 10 11 12 13 14 15</span><br><span class="line">16 17 18 19 20 21 22</span><br><span class="line">23 24 25 26 27 28 29</span><br><span class="line">30 31</span><br></pre></td></tr></table></figure><h3 id="简单好用的计算器：bc"><a href="#简单好用的计算器：bc" class="headerlink" title="简单好用的计算器：bc"></a>简单好用的计算器：bc</h3><p>在最后输入 quit 离开<br>运算符 <code>+ 加法 - 减法 * 乘法 / 除法 ^ 指数 % 余数</code><br>bc默认仅输出整数，如果要输入小数位数，则使用scale=number，number就是小数点位数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@i ~]# bc</span><br><span class="line">bc 1.06.95</span><br><span class="line">Copyright 1991-1994, 1997, 1998, 2000, 2004, 2006 Free Software Foundation, Inc.</span><br><span class="line">This is free software with ABSOLUTELY NO WARRANTY.</span><br><span class="line">For details type &#96;warranty&#39;. </span><br><span class="line">1+2+3+4    &lt;&#x3D;&#x3D;加法</span><br><span class="line">10</span><br><span class="line">7-8+3      </span><br><span class="line">2</span><br><span class="line">10*5</span><br><span class="line">50</span><br><span class="line">10%3      &lt;&#x3D;&#x3D;计算【余数】</span><br><span class="line">1</span><br><span class="line">10^2</span><br><span class="line">100</span><br><span class="line">10&#x2F;100    &lt;&#x3D;&#x3D;这里不是0.1吗？</span><br><span class="line">0</span><br><span class="line">scale&#x3D;3   &lt;&#x3D;&#x3D;小数点位数是3位</span><br><span class="line">1&#x2F;3</span><br><span class="line">.333</span><br><span class="line">340&#x2F;2349</span><br><span class="line">.144</span><br><span class="line">quit      &lt;&#x3D;&#x3D;离开计算器</span><br></pre></td></tr></table></figure><h3 id="几个重要的热键-tab、ctrl-c-、ctrl-d"><a href="#几个重要的热键-tab、ctrl-c-、ctrl-d" class="headerlink" title="几个重要的热键 tab、ctrl+c 、ctrl+d"></a>几个重要的热键 tab、ctrl+c 、ctrl+d</h3><table><thead><tr><th>按键</th><th>进行工作</th></tr></thead><tbody><tr><td>tab</td><td>tab接在一串命令的第一个字段后面，则为【命令补全】，tab接在一串命令的第二个字段后面，则为【文件补全】</td></tr><tr><td>ctrl+c</td><td>中断目前程序</td></tr><tr><td>ctrl+d</td><td>键盘输入结束，相当于exit</td></tr><tr><td>shift + page up</td><td>向上翻页</td></tr><tr><td>shift + page down</td><td>向下翻页</td></tr></tbody></table><h3 id="linux系统的在线求助-man-page-与-info-page"><a href="#linux系统的在线求助-man-page-与-info-page" class="headerlink" title="linux系统的在线求助 man page 与 info page"></a>linux系统的在线求助 man page 与 info page</h3><p>命令的 –help 求助说明 【命令的基本用法和选项参数，例如 date –help】<br>man page 操作说明 【例如 man date】</p><p>在man page中的一些常用的按键：</p><table><thead><tr><th>按键</th><th>进行工作</th></tr></thead><tbody><tr><td>空格键页</td><td>向下翻一页</td></tr><tr><td>page down</td><td>向下翻一页</td></tr><tr><td>page up</td><td>向上翻一页</td></tr><tr><td>home</td><td>去到第一页</td></tr><tr><td>end</td><td>去到最后一页</td></tr><tr><td>/string</td><td>向下查找string这个字符串，如果要查找vbird的话，就输入 /vbird</td></tr><tr><td>?string</td><td>向上查找string这个字符串</td></tr><tr><td>n,N</td><td>利用n,N来查找字符串时，可以用 n 来继续下一个查找（不论是  / 或 ?），可以用 N 来进行反向查找</td></tr><tr><td>q</td><td>结束这次man page</td></tr></tbody></table><h3 id="正确的关机方法"><a href="#正确的关机方法" class="headerlink" title="正确的关机方法"></a>正确的关机方法</h3><p>将数据同步写入硬盘中的指令： sync<br>惯用的关机指令： shutdown (只有root有权力)<br>重新开机，关机： reboot, halt, poweroff</p><p>shutdown [-krhc] [时间] [警告讯息]<br>选项与参数：<br>-k     ： 不要真的关机，只是发送警告讯息出去！<br>-r     ： 在将系统的服务停掉之后就重新开机（常用）<br>-h     ： 将系统的服务停掉后，立即关机。 （常用）<br>-c     ： 取消已经在进行的 shutdown 指令内容。<br>时间   ： 指定系统关机的时间！时间的范例下面会说明。若没有这个项目，则默认 1 分钟后自动进行。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">[root@i ~]# shutdown -h now # 立刻关机，其中 now 相当于时间为 0 的状态</span><br><span class="line">Connection closing...Socket close.</span><br><span class="line"></span><br><span class="line">Connection closed by foreign host.</span><br><span class="line"></span><br><span class="line">Disconnected from remote host(XXX.XXX.XXX.XXX) at 21:06:37.</span><br><span class="line"></span><br><span class="line">Type &#96;help&#39; to learn how to use Xshell prompt.</span><br><span class="line"></span><br><span class="line">[root@i ~]# shutdown -h 21:30  #系统在今天的 21:30 分会关机</span><br><span class="line">Shutdown scheduled for Tue 2020-08-25 21:30:00 CST, use &#39;shutdown -c&#39; to cancel.</span><br><span class="line"></span><br><span class="line">[root@i ~]# shutdown -h 21:10 #当前时间为2020-08-25 21:20 ，隔天才关机</span><br><span class="line">Shutdown scheduled for Wed 2020-08-26 21:10:00 CST, use &#39;shutdown -c&#39; to cancel.</span><br><span class="line"></span><br><span class="line">[root@i ~]# shutdown -h +10 #系统再过十分钟后自动关机</span><br><span class="line">Shutdown scheduled for Tue 2020-08-25 21:30:07 CST, use &#39;shutdown -c&#39; to cancel.</span><br><span class="line"></span><br><span class="line">[root@i ~]# shutdown -r now # 系统立刻重新开机</span><br><span class="line">Connection closing...Socket close.</span><br><span class="line"></span><br><span class="line">Connection closed by foreign host.</span><br><span class="line"></span><br><span class="line">Disconnected from remote host(XXX.XXX.XXX.XXX) at 21:24:55.</span><br><span class="line"></span><br><span class="line">Type &#96;help&#39; to learn how to use Xshell prompt.</span><br><span class="line"></span><br><span class="line">[root@i ~]# shutdown -r +30 &#39;The System will reboot&#39;  #再过三十分钟系统会重新开机，并显示后面的讯息给所有在线上的使用者</span><br><span class="line">Shutdown scheduled for Tue 2020-08-25 21:56:37 CST, use &#39;shutdown -c&#39; to cancel.</span><br><span class="line"></span><br><span class="line">[root@i ~]# shutdown -k now &#39;This system will reboot&#39; # 仅发出警告信件的参数！系统并不会关机啦！吓唬人！</span><br><span class="line"></span><br><span class="line">[root@i ~]# shutdown -c 取消关机指令</span><br><span class="line"></span><br><span class="line">Broadcast message from root@iZuf61h0akjvi2v5eh3narZ (Tue 2020-08-25 21:13:48 CST):</span><br><span class="line"></span><br><span class="line">The system shutdown has been cancelled at Tue 2020-08-25 21:14:48 CST!</span><br><span class="line"></span><br><span class="line">[root@i ~]# sync; sync; sync; reboot  # 重新开机</span><br><span class="line">Connection closing...Socket close.</span><br><span class="line"></span><br><span class="line">Connection closed by foreign host.</span><br><span class="line"></span><br><span class="line">Disconnected from remote host(XXX.XXX.XXX.XXX) at 21:34:31.</span><br><span class="line"></span><br><span class="line">Type &#96;help&#39; to learn how to use Xshell prompt.</span><br><span class="line"></span><br><span class="line">[root@i ~]# halt #系统停止～屏幕可能会保留系统已经停止的讯息！</span><br><span class="line">Connection closing...Socket close.</span><br><span class="line"></span><br><span class="line">Connection closed by foreign host.</span><br><span class="line"></span><br><span class="line">Disconnected from remote host(XXX.XXX.XXX.XXX) at 21:35:58.</span><br><span class="line"></span><br><span class="line">Type &#96;help&#39; to learn how to use Xshell prompt.</span><br><span class="line"></span><br><span class="line">[root@i ~]# poweroff  # 系统关机，所以没有提供额外的电力，屏幕空白！</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Linux-文件属性"><a href="#Linux-文件属性" class="headerlink" title="Linux 文件属性"></a>Linux 文件属性</h3><p>在Linux系统当中， 默认的情况下， 所有的系统上的帐号与一般身份使用者， 还有那个root的相关信息， 都是记录在/etc/passwd这个文件内的。<br>个人的密码则是记录在/etc/shadow这个文件下。<br>Linux所有的群组名称都纪录在/etc/group内！</p><p>ls是“list”的意思，显示文件的文件名与相关属性。而选项“-al”则表示列出所有的文件详细的权限与属性 （包含隐藏文件，就是文件名第一个字符为“ . ”的文件）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@i ~]# su -  #切换root身份</span><br><span class="line">Last login: Thu Aug 27 21:36:53 CST 2020 from 58.247.180.117 on pts&#x2F;0</span><br><span class="line">[root@i ~]# ls -al  </span><br><span class="line">total 48</span><br><span class="line">dr-xr-x---.  5 root root 4096 Aug 23 16:50 .</span><br><span class="line">dr-xr-xr-x. 18 root root 4096 Aug 25 21:46 ..</span><br><span class="line">-rw-------   1 root root  454 Aug 25 21:36 .bash_history</span><br><span class="line">-rw-r--r--.  1 root root   18 Dec 29  2013 .bash_logout</span><br><span class="line">-rw-r--r--.  1 root root  176 Dec 29  2013 .bash_profile</span><br><span class="line">-rw-r--r--.  1 root root  176 Dec 29  2013 .bashrc</span><br><span class="line">drwxr-xr-x   3 root root 4096 Nov 29  2018 .cache</span><br><span class="line">-rw-r--r--.  1 root root  100 Dec 29  2013 .cshrc</span><br><span class="line">drwxr-xr-x   2 root root 4096 Dec 13  2018 .pip</span><br><span class="line">-rw-r--r--   1 root root  205 Aug 23 16:34 .pydistutils.cfg</span><br><span class="line">drwx------   2 root root 4096 Aug 23 16:34 .ssh</span><br><span class="line">-rw-r--r--.  1 root root  129 Dec 29  2013 .tcshrc</span><br><span class="line">-rw-------   1 root root    0 Dec 14  2018 .viminfo</span><br></pre></td></tr></table></figure><ol><li><p>第一栏代表这个文件的类型与权限（permission）<br>其中<code>-rwxrw-r--</code>共有10个字符<br>第一个字符代表这个文件是“目录、文件或链接文件等等”：<br>[ d ]是目录<br>[ - ]则是文件<br>[ l ]则表示为链接文件（link file）<br>[ b ]则表示为设备文件里面的可供储存的周边设备（可随机存取设备）<br>[ c ]则表示为设备文件里面的序列埠设备，例如键盘、鼠标（一次性读取设备）<br>接下来的字符中，以三个为一组，且均为“rwx” 的三个参数的组合。其中，[ r ]代表可读（read）、[ w ]代表可写（write）、[ x ]代表可执行（execute）。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号[ - ]而已。<br>第一组为“文件拥有者可具备的权限”，<br>第二组为“加入此群组之帐号的权限”；<br>第三组为“非本人且没有加入本群组之其他帐号的权限-其他人”。</p></li><li><p>第二栏表示有多少文件名链接到此节点（i-node）</p></li><li><p>第三栏表示这个文件（或目录）的“拥有者帐号”</p></li><li><p>第四栏表示这个文件的所属群组</p></li><li><p>第五栏为这个文件的容量大小，默认单位为Bytes；</p></li><li><p>第六栏为这个文件的创建日期或者是最近的修改日期</p></li><li><p>第七栏为这个文件的文件名</p></li></ol><h3 id="如何改变文件属性与权限"><a href="#如何改变文件属性与权限" class="headerlink" title="如何改变文件属性与权限"></a>如何改变文件属性与权限</h3><p>chgrp ：改变文件所属群组<br>chown ：改变文件拥有者<br>chmod ：改变文件的权限, SUID, SGID, SBIT等等的特性</p><p>chgrp这个指令就是change group的缩写，要被改变的群组名称必须要在/etc/group文件内存在才行，否则就会显示错误！</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
